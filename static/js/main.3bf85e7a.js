/*! For license information please see main.3bf85e7a.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,s)=>{e.exports=s(202)},153:(e,t,s)=>{var r=s(43),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var r,a={},c=null,d=null;for(r in void 0!==s&&(c=""+s),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:n,type:e,key:c,ref:d,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},202:(e,t)=>{var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,f={};function g(e,t,s){this.props=e,this.context=t,this.refs=f,this.updater=s||h}function b(){}function y(e,t,s){this.props=e,this.context=t,this.refs=f,this.updater=s||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var v=y.prototype=new b;v.constructor=y,x(v,g.prototype),v.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var n,a={},i=null,o=null;if(null!=t)for(n in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,n)&&!_.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===a[n]&&(a[n]=l[n]);return{$$typeof:s,type:e,key:i,ref:o,props:a,_owner:N.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===s}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,n,a,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case s:case r:l=!0}}if(l)return i=i(l=e),e=""===a?"."+E(l,0):a,j(i)?(n="",null!=e&&(n=e.replace(C,"$&/")+"/"),P(i,t,n,"",function(e){return e})):null!=i&&(S(i)&&(i=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(l=0,a=""===a?".":a+":",j(e))for(var c=0;c<e.length;c++){var d=a+E(o=e[c],c);l+=P(o,t,n,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=P(o=o.value,t,n,d=a+E(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,s){if(null==e)return e;var r=[],n=0;return P(e,r,"","",function(e){return t.call(s,e,n++)}),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},L={transition:null},F={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:L,ReactCurrentOwner:N};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,s){A(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=n,t.Profiler=i,t.PureComponent=y,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=x({},e.props),a=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=N.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!_.hasOwnProperty(c)&&(n[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:s,type:e.type,key:a,ref:i,props:n,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,s){return I.current.useImperativeHandle(e,t,s)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,s){return I.current.useReducer(e,t,s)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,s){return I.current.useSyncExternalStore(e,t,s)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function s(e,t){var s=e.length;e.push(t);e:for(;0<s;){var r=s-1>>>1,n=e[r];if(!(0<a(n,t)))break e;e[r]=t,e[s]=n,s=r}}function r(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],s=e.pop();if(s!==t){e[0]=s;e:for(var r=0,n=e.length,i=n>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>a(l,s))c<n&&0>a(d,l)?(e[r]=d,e[c]=s,r=c):(e[r]=l,e[o]=s,r=o);else{if(!(c<n&&0>a(d,s)))break e;e[r]=d,e[c]=s,r=c}}}return t}function a(e,t){var s=e.sortIndex-t.sortIndex;return 0!==s?s:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,p=null,m=3,h=!1,x=!1,f=!1,g="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=r(d);null!==t;){if(null===t.callback)n(d);else{if(!(t.startTime<=e))break;n(d),t.sortIndex=t.expirationTime,s(c,t)}t=r(d)}}function j(e){if(f=!1,v(e),!x)if(null!==r(c))x=!0,L(w);else{var t=r(d);null!==t&&F(j,t.startTime-e)}}function w(e,s){x=!1,f&&(f=!1,b(S),S=-1),h=!0;var a=m;try{for(v(s),p=r(c);null!==p&&(!(p.expirationTime>s)||e&&!P());){var i=p.callback;if("function"===typeof i){p.callback=null,m=p.priorityLevel;var o=i(p.expirationTime<=s);s=t.unstable_now(),"function"===typeof o?p.callback=o:p===r(c)&&n(c),v(s)}else n(c);p=r(c)}if(null!==p)var l=!0;else{var u=r(d);null!==u&&F(j,u.startTime-s),l=!1}return l}finally{p=null,m=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,_=!1,k=null,S=-1,C=5,E=-1;function P(){return!(t.unstable_now()-E<C)}function A(){if(null!==k){var e=t.unstable_now();E=e;var s=!0;try{s=k(!0,e)}finally{s?N():(_=!1,k=null)}}else _=!1}if("function"===typeof y)N=function(){y(A)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,I=T.port2;T.port1.onmessage=A,N=function(){I.postMessage(null)}}else N=function(){g(A,0)};function L(e){k=e,_||(_=!0,N())}function F(e,s){S=g(function(){e(t.unstable_now())},s)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){x||h||(x=!0,L(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var s=m;m=t;try{return e()}finally{m=s}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var s=m;m=e;try{return t()}finally{m=s}},t.unstable_scheduleCallback=function(e,n,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:n,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>i?(e.sortIndex=a,s(d,e),null===r(c)&&e===r(d)&&(f?(b(S),S=-1):f=!0,F(j,a-i))):(e.sortIndex=o,s(c,e),x||h||(x=!0,L(w))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=m;return function(){var s=m;m=t;try{return e.apply(this,arguments)}finally{m=s}}}},391:(e,t,s)=>{var r=s(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,s)=>{e.exports=s(153)},730:(e,t,s)=>{var r=s(43),n=s(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},h={};function x(e,t,s,r,n,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){f[e]=new x(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];f[t]=new x(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){f[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){f[e]=new x(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){f[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){f[e]=new x(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){f[e]=new x(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){f[e]=new x(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){f[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,s,r){var n=f.hasOwnProperty(t)?f[t]:null;(null!==n?0!==n.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,s,r){if(null===t||"undefined"===typeof t||function(e,t,s,r){if(null!==s&&0===s.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==s?!s.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,s,r))return!0;if(r)return!1;if(null!==s)switch(s.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,s,n,r)&&(s=null),r||null===n?function(e){return!!u.call(h,e)||!u.call(m,e)&&(p.test(e)?h[e]=!0:(m[e]=!0,!1))}(t)&&(null===s?e.removeAttribute(t):e.setAttribute(t,""+s)):n.mustUseProperty?e[n.propertyName]=null===s?3!==n.type&&"":s:(t=n.attributeName,r=n.attributeNamespace,null===s?e.removeAttribute(t):(s=3===(n=n.type)||4===n&&!0===s?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,b);f[t]=new x(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,b);f[t]=new x(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,b);f[t]=new x(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){f[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)}),f.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){f[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var D,O=Object.assign;function M(e){if(void 0===D)try{throw Error()}catch($e){var t=$e.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(We){var r=We}Reflect.construct(e,[],t)}else{try{t.call()}catch(We){r=We}e.call(t.prototype)}else{try{throw Error()}catch(We){r=We}e()}}catch(We){if(We&&r&&"string"===typeof We.stack){for(var n=We.stack.split("\n"),a=r.stack.split("\n"),i=n.length-1,o=a.length-1;1<=i&&0<=o&&n[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(n[i]!==a[o]){if(1!==i||1!==o)do{if(i--,0>--o||n[i]!==a[o]){var l="\n"+n[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?M(e):""}function B(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case k:return"Profiler";case _:return"StrictMode";case P:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return V(e(t))}catch($e){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof s&&"function"===typeof s.get&&"function"===typeof s.set){var n=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==s&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var s=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=s?s:e._wrapperState.initialChecked})}function J(e,t){var s=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;s=W(null!=t.value?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function X(e,t){Q(e,t);var s=W(t.value),r=t.type;if(null!=s)"number"===r?(0===s&&""===e.value||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,s):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}""!==(s=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==s&&(e.name=s)}function ee(e,t,s){"number"===t&&$(e.ownerDocument)===e||(null==s?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var te=Array.isArray;function se(e,t,s,r){if(e=e.options,t){t={};for(var n=0;n<s.length;n++)t["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=t.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&r&&(e[s].defaultSelected=!0)}else{for(s=""+W(s),t=null,n=0;n<e.length;n++){if(e[n].value===s)return e[n].selected=!0,void(r&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ne(e,t){var s=t.value;if(null==s){if(s=t.children,t=t.defaultValue,null!=s){if(null!=t)throw Error(a(92));if(te(s)){if(1<s.length)throw Error(a(93));s=s[0]}t=s}null==t&&(t=""),s=t}e._wrapperState={initialValue:W(s)}}function ae(e,t){var s=W(t.value),r=W(t.defaultValue);null!=s&&((s=""+s)!==e.value&&(e.value=s),null==t.defaultValue&&e.defaultValue!==s&&(e.defaultValue=s)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,s,r,n){MSApp.execUnsafeLocalFunction(function(){return e(t,s)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ue(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&3===s.nodeType)return void(s.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function he(e,t,s){return null==t||"boolean"===typeof t||""===t?"":s||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function xe(e,t){for(var s in e=e.style,t)if(t.hasOwnProperty(s)){var r=0===s.indexOf("--"),n=he(s,t[s],r);"float"===s&&(s="cssFloat"),r?e.setProperty(s,n):e[s]=n}}Object.keys(pe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var fe=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(fe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function ve(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,we=null,Ne=null;function _e(e){if(e=En(e)){if("function"!==typeof je)throw Error(a(280));var t=e.stateNode;t&&(t=An(t),je(e.stateNode,e.type,t))}}function ke(e){we?Ne?Ne.push(e):Ne=[e]:we=e}function Se(){if(we){var e=we,t=Ne;if(Ne=we=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ce(e,t){return e(t)}function Ee(){}var Pe=!1;function Ae(e,t,s){if(Pe)return e(t,s);Pe=!0;try{return Ce(e,t,s)}finally{Pe=!1,(null!==we||null!==Ne)&&(Ee(),Se())}}function Te(e,t){var s=e.stateNode;if(null===s)return null;var r=An(s);if(null===r)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(s&&"function"!==typeof s)throw Error(a(231,t,typeof s));return s}var Ie=!1;if(d)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(qe){Ie=!1}function Fe(e,t,s,r,n,a,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(s,c)}catch(d){this.onError(d)}}var Re=!1,De=null,Oe=!1,Me=null,Ue={onError:function(e){Re=!0,De=e}};function ze(e,t,s,r,n,a,i,o,l){Re=!1,De=null,Fe.apply(Ue,arguments)}function Be(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(s=t.return),e=t.return}while(e)}return 3===t.tag?s:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Be(e)!==e)throw Error(a(188))}function Ye(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var s=e,r=t;;){var n=s.return;if(null===n)break;var i=n.alternate;if(null===i){if(null!==(r=n.return)){s=r;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===s)return Ke(n),e;if(i===r)return Ke(n),t;i=i.sibling}throw Error(a(188))}if(s.return!==r.return)s=n,r=i;else{for(var o=!1,l=n.child;l;){if(l===s){o=!0,s=n,r=i;break}if(l===r){o=!0,r=n,s=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===s){o=!0,s=i,r=n;break}if(l===r){o=!0,r=i,s=n;break}l=l.sibling}if(!o)throw Error(a(189))}}if(s.alternate!==r)throw Error(a(190))}if(3!==s.tag)throw Error(a(188));return s.stateNode.current===s?e:t}(e),null!==e?Je(e):null}function Je(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Je(e);if(null!==t)return t;e=e.sibling}return null}var Qe=n.unstable_scheduleCallback,et=n.unstable_cancelCallback,st=n.unstable_shouldYield,rt=n.unstable_requestPaint,nt=n.unstable_now,at=n.unstable_getCurrentPriorityLevel,it=n.unstable_ImmediatePriority,ot=n.unstable_UserBlockingPriority,lt=n.unstable_NormalPriority,ct=n.unstable_LowPriority,dt=n.unstable_IdlePriority,ut=null,pt=null;var mt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ht(e)/xt|0)|0},ht=Math.log,xt=Math.LN2;var ft=64,gt=4194304;function bt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yt(e,t){var s=e.pendingLanes;if(0===s)return 0;var r=0,n=e.suspendedLanes,a=e.pingedLanes,i=268435455&s;if(0!==i){var o=i&~n;0!==o?r=bt(o):0!==(a&=i)&&(r=bt(a))}else 0!==(i=s&~n)?r=bt(i):0!==a&&(r=bt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&n)&&((n=r&-r)>=(a=t&-t)||16===n&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&s),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)n=1<<(s=31-mt(t)),r|=e[s],t&=~n;return r}function vt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Nt(){var e=ft;return 0===(4194240&(ft<<=1))&&(ft=64),e}function _t(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function kt(e,t,s){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-mt(t)]=s}function St(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-mt(s),n=1<<r;n&t|e[r]&t&&(e[r]|=t),s&=~n}}var Ct=0;function Et(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Pt,At,Tt,It,Lt,Ft=!1,Rt=[],Dt=null,Ot=null,Mt=null,zt=new Map,Bt=new Map,Vt=[],Ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wt(e,t){switch(e){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":zt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bt.delete(t.pointerId)}}function qt(e,t,s,r,n,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:a,targetContainers:[n]},null!==t&&(null!==(t=En(t))&&At(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function Gt(e){var t=Cn(e.target);if(null!==t){var s=Be(t);if(null!==s)if(13===(t=s.tag)){if(null!==(t=Ge(s)))return e.blockedOn=t,void Lt(e.priority,function(){Tt(s)})}else if(3===t&&s.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===s.tag?s.stateNode.containerInfo:null)}e.blockedOn=null}function Kt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var s=ns(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==s)return null!==(t=En(s))&&At(t),e.blockedOn=s,!1;var r=new(s=e.nativeEvent).constructor(s.type,s);ye=r,s.target.dispatchEvent(r),ye=null,t.shift()}return!0}function $t(e,t,s){Kt(e)&&s.delete(t)}function Yt(){Ft=!1,null!==Dt&&Kt(Dt)&&(Dt=null),null!==Ot&&Kt(Ot)&&(Ot=null),null!==Mt&&Kt(Mt)&&(Mt=null),zt.forEach($t),Bt.forEach($t)}function Jt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ft||(Ft=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Yt)))}function Qt(e){function t(t){return Jt(t,e)}if(0<Rt.length){Jt(Rt[0],e);for(var s=1;s<Rt.length;s++){var r=Rt[s];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Dt&&Jt(Dt,e),null!==Ot&&Jt(Ot,e),null!==Mt&&Jt(Mt,e),zt.forEach(t),Bt.forEach(t),s=0;s<Vt.length;s++)(r=Vt[s]).blockedOn===e&&(r.blockedOn=null);for(;0<Vt.length&&null===(s=Vt[0]).blockedOn;)Gt(s),null===s.blockedOn&&Vt.shift()}var Xt=v.ReactCurrentBatchConfig,Zt=!0;function es(e,t,s,r){var n=Ct,a=Xt.transition;Xt.transition=null;try{Ct=1,ss(e,t,s,r)}finally{Ct=n,Xt.transition=a}}function ts(e,t,s,r){var n=Ct,a=Xt.transition;Xt.transition=null;try{Ct=4,ss(e,t,s,r)}finally{Ct=n,Xt.transition=a}}function ss(e,t,s,r){if(Zt){var n=ns(e,t,s,r);if(null===n)Xr(e,t,r,rs,s),Wt(e,r);else if(function(e,t,s,r,n){switch(t){case"focusin":return Dt=qt(Dt,e,t,s,r,n),!0;case"dragenter":return Ot=qt(Ot,e,t,s,r,n),!0;case"mouseover":return Mt=qt(Mt,e,t,s,r,n),!0;case"pointerover":var a=n.pointerId;return zt.set(a,qt(zt.get(a)||null,e,t,s,r,n)),!0;case"gotpointercapture":return a=n.pointerId,Bt.set(a,qt(Bt.get(a)||null,e,t,s,r,n)),!0}return!1}(n,e,t,s,r))r.stopPropagation();else if(Wt(e,r),4&t&&-1<Ht.indexOf(e)){for(;null!==n;){var a=En(n);if(null!==a&&Pt(a),null===(a=ns(e,t,s,r))&&Xr(e,t,r,rs,s),a===n)break;n=a}null!==n&&r.stopPropagation()}else Xr(e,t,r,null,s)}}var rs=null;function ns(e,t,s,r){if(rs=null,null!==(e=Cn(e=ve(r))))if(null===(t=Be(e)))e=null;else if(13===(s=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===s){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rs=e,null}function as(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(at()){case it:return 1;case ot:return 4;case lt:case ct:return 16;case dt:return 536870912;default:return 16}default:return 16}}var is=null,os=null,ls=null;function cs(){if(ls)return ls;var e,t,s=os,r=s.length,n="value"in is?is.value:is.textContent,a=n.length;for(e=0;e<r&&s[e]===n[e];e++);var i=r-e;for(t=1;t<=i&&s[r-t]===n[a-t];t++);return ls=n.slice(e,1<t?1-t:void 0)}function ds(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function us(){return!0}function ps(){return!1}function ms(e){function t(t,s,r,n,a){for(var i in this._reactName=t,this._targetInst=r,this.type=s,this.nativeEvent=n,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(n):n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?us:ps,this.isPropagationStopped=ps,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),t}var hs,xs,fs,gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bs=ms(gs),ys=O({},gs,{view:0,detail:0}),vs=ms(ys),js=O({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ls,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fs&&(fs&&"mousemove"===e.type?(hs=e.screenX-fs.screenX,xs=e.screenY-fs.screenY):xs=hs=0,fs=e),hs)},movementY:function(e){return"movementY"in e?e.movementY:xs}}),ws=ms(js),Ns=ms(O({},js,{dataTransfer:0})),_s=ms(O({},ys,{relatedTarget:0})),ks=ms(O({},gs,{animationName:0,elapsedTime:0,pseudoElement:0})),Ss=O({},gs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cs=ms(Ss),Es=ms(O({},gs,{data:0})),Ps={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},As={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ts={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Is(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ts[e])&&!!t[e]}function Ls(){return Is}var Fs=O({},ys,{key:function(e){if(e.key){var t=Ps[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ds(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?As[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ls,charCode:function(e){return"keypress"===e.type?ds(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ds(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Rs=ms(Fs),Ds=ms(O({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Os=ms(O({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ls})),Ms=ms(O({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0})),Us=O({},js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zs=ms(Us),Bs=[9,13,27,32],Vs=d&&"CompositionEvent"in window,Hs=null;d&&"documentMode"in document&&(Hs=document.documentMode);var Ws=d&&"TextEvent"in window&&!Hs,qs=d&&(!Vs||Hs&&8<Hs&&11>=Hs),Gs=String.fromCharCode(32),Ks=!1;function $s(e,t){switch(e){case"keyup":return-1!==Bs.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ys(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Js=!1;var Qs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Qs[e.type]:"textarea"===t}function Zs(e,t,s,r){ke(r),0<(t=en(t,"onChange")).length&&(s=new bs("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var er=null,tr=null;function sr(e){Gr(e,0)}function rr(e){if(K(Pn(e)))return e}function nr(e,t){if("change"===e)return t}var ar=!1;if(d){var ir;if(d){var or="oninput"in document;if(!or){var lr=document.createElement("div");lr.setAttribute("oninput","return;"),or="function"===typeof lr.oninput}ir=or}else ir=!1;ar=ir&&(!document.documentMode||9<document.documentMode)}function cr(){er&&(er.detachEvent("onpropertychange",dr),tr=er=null)}function dr(e){if("value"===e.propertyName&&rr(tr)){var t=[];Zs(t,tr,e,ve(e)),Ae(sr,t)}}function ur(e,t,s){"focusin"===e?(cr(),tr=s,(er=t).attachEvent("onpropertychange",dr)):"focusout"===e&&cr()}function pr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return rr(tr)}function mr(e,t){if("click"===e)return rr(t)}function hr(e,t){if("input"===e||"change"===e)return rr(t)}var xr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function fr(e,t){if(xr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var n=s[r];if(!u.call(t,n)||!xr(e[n],t[n]))return!1}return!0}function gr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function br(e,t){var s,r=gr(e);for(e=0;r;){if(3===r.nodeType){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gr(r)}}function yr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?yr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var s="string"===typeof t.contentWindow.location.href}catch(Xe){s=!1}if(!s)break;t=$((e=t.contentWindow).document)}return t}function jr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function wr(e){var t=vr(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&yr(s.ownerDocument.documentElement,s)){if(null!==r&&jr(s))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if((e=(t=s.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var n=s.textContent.length,a=Math.min(r.start,n);r=void 0===r.end?a:Math.min(r.end,n),!e.extend&&a>r&&(n=r,r=a,a=n),n=br(s,a);var i=br(s,r);n&&i&&(1!==e.rangeCount||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(n.node,n.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=s;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<t.length;s++)(e=t[s]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Nr=d&&"documentMode"in document&&11>=document.documentMode,_r=null,kr=null,Sr=null,Cr=!1;function Er(e,t,s){var r=s.window===s?s.document:9===s.nodeType?s:s.ownerDocument;Cr||null==_r||_r!==$(r)||("selectionStart"in(r=_r)&&jr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Sr&&fr(Sr,r)||(Sr=r,0<(r=en(kr,"onSelect")).length&&(t=new bs("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=_r)))}function Pr(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Ar={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionend:Pr("Transition","TransitionEnd")},Tr={},Ir={};function Lr(e){if(Tr[e])return Tr[e];if(!Ar[e])return e;var t,s=Ar[e];for(t in s)if(s.hasOwnProperty(t)&&t in Ir)return Tr[e]=s[t];return e}d&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);var Fr=Lr("animationend"),Rr=Lr("animationiteration"),Dr=Lr("animationstart"),Or=Lr("transitionend"),Mr=new Map,Ur="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(e,t){Mr.set(e,t),l(t,[e])}for(var Br=0;Br<Ur.length;Br++){var Vr=Ur[Br];zr(Vr.toLowerCase(),"on"+(Vr[0].toUpperCase()+Vr.slice(1)))}zr(Fr,"onAnimationEnd"),zr(Rr,"onAnimationIteration"),zr(Dr,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function qr(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,function(e,t,s,r,n,i,o,l,c){if(ze.apply(this,arguments),Re){if(!Re)throw Error(a(198));var d=De;Re=!1,De=null,Oe||(Oe=!0,Me=d)}}(r,t,void 0,e),e.currentTarget=null}function Gr(e,t){t=0!==(4&t);for(var s=0;s<e.length;s++){var r=e[s],n=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&n.isPropagationStopped())break e;qr(n,o,c),a=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==a&&n.isPropagationStopped())break e;qr(n,o,c),a=l}}}if(Oe)throw e=Me,Oe=!1,Me=null,e}function Kr(e,t){var s=t[_n];void 0===s&&(s=t[_n]=new Set);var r=e+"__bubble";s.has(r)||(Qr(t,e,2,!1),s.add(r))}function $r(e,t,s){var r=0;t&&(r|=4),Qr(s,e,r,t)}var Yr="_reactListening"+Math.random().toString(36).slice(2);function Jr(e){if(!e[Yr]){e[Yr]=!0,i.forEach(function(t){"selectionchange"!==t&&(Wr.has(t)||$r(t,!1,e),$r(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Yr]||(t[Yr]=!0,$r("selectionchange",!1,t))}}function Qr(e,t,s,r){switch(as(t)){case 1:var n=es;break;case 4:n=ts;break;default:n=ss}s=n.bind(null,t,s,e),n=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),r?void 0!==n?e.addEventListener(t,s,{capture:!0,passive:n}):e.addEventListener(t,s,!0):void 0!==n?e.addEventListener(t,s,{passive:n}):e.addEventListener(t,s,!1)}function Xr(e,t,s,r,n){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===n||8===o.nodeType&&o.parentNode===n)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===n||8===l.nodeType&&l.parentNode===n))return;i=i.return}for(;null!==o;){if(null===(i=Cn(o)))return;if(5===(l=i.tag)||6===l){r=a=i;continue e}o=o.parentNode}}r=r.return}Ae(function(){var r=a,n=ve(s),i=[];e:{var o=Mr.get(e);if(void 0!==o){var l=bs,c=e;switch(e){case"keypress":if(0===ds(s))break e;case"keydown":case"keyup":l=Rs;break;case"focusin":c="focus",l=_s;break;case"focusout":c="blur",l=_s;break;case"beforeblur":case"afterblur":l=_s;break;case"click":if(2===s.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=ws;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Ns;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Os;break;case Fr:case Rr:case Dr:l=ks;break;case Or:l=Ms;break;case"scroll":l=vs;break;case"wheel":l=zs;break;case"copy":case"cut":case"paste":l=Cs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ds}var d=0!==(4&t),u=!d&&"scroll"===e,p=d?null!==o?o+"Capture":null:o;d=[];for(var m,h=r;null!==h;){var x=(m=h).stateNode;if(5===m.tag&&null!==x&&(m=x,null!==p&&(null!=(x=Te(h,p))&&d.push(Zr(h,x,m)))),u)break;h=h.return}0<d.length&&(o=new l(o,c,null,s,n),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||s===ye||!(c=s.relatedTarget||s.fromElement)||!Cn(c)&&!c[Nn])&&(l||o)&&(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=s.relatedTarget||s.toElement)?Cn(c):null)&&(c!==(u=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=ws,x="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=Ds,x="onPointerLeave",p="onPointerEnter",h="pointer"),u=null==l?o:Pn(l),m=null==c?o:Pn(c),(o=new d(x,h+"leave",l,s,n)).target=u,o.relatedTarget=m,x=null,Cn(n)===r&&((d=new d(p,h+"enter",c,s,n)).target=m,d.relatedTarget=u,x=d),u=x,l&&c)e:{for(p=c,h=0,m=d=l;m;m=tn(m))h++;for(m=0,x=p;x;x=tn(x))m++;for(;0<h-m;)d=tn(d),h--;for(;0<m-h;)p=tn(p),m--;for(;h--;){if(d===p||null!==p&&d===p.alternate)break e;d=tn(d),p=tn(p)}d=null}else d=null;null!==l&&sn(i,o,l,d,!1),null!==c&&null!==u&&sn(i,u,c,d,!0)}if("select"===(l=(o=r?Pn(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var f=nr;else if(Xs(o))if(ar)f=hr;else{f=pr;var g=ur}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(f=mr);switch(f&&(f=f(e,r))?Zs(i,f,s,n):(g&&g(e,o,r),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=r?Pn(r):window,e){case"focusin":(Xs(g)||"true"===g.contentEditable)&&(_r=g,kr=r,Sr=null);break;case"focusout":Sr=kr=_r=null;break;case"mousedown":Cr=!0;break;case"contextmenu":case"mouseup":case"dragend":Cr=!1,Er(i,s,n);break;case"selectionchange":if(Nr)break;case"keydown":case"keyup":Er(i,s,n)}var b;if(Vs)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Js?$s(e,s)&&(y="onCompositionEnd"):"keydown"===e&&229===s.keyCode&&(y="onCompositionStart");y&&(qs&&"ko"!==s.locale&&(Js||"onCompositionStart"!==y?"onCompositionEnd"===y&&Js&&(b=cs()):(os="value"in(is=n)?is.value:is.textContent,Js=!0)),0<(g=en(r,y)).length&&(y=new Es(y,e,null,s,n),i.push({event:y,listeners:g}),b?y.data=b:null!==(b=Ys(s))&&(y.data=b))),(b=Ws?function(e,t){switch(e){case"compositionend":return Ys(t);case"keypress":return 32!==t.which?null:(Ks=!0,Gs);case"textInput":return(e=t.data)===Gs&&Ks?null:e;default:return null}}(e,s):function(e,t){if(Js)return"compositionend"===e||!Vs&&$s(e,t)?(e=cs(),ls=os=is=null,Js=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qs&&"ko"!==t.locale?null:t.data}}(e,s))&&(0<(r=en(r,"onBeforeInput")).length&&(n=new Es("onBeforeInput","beforeinput",null,s,n),i.push({event:n,listeners:r}),n.data=b))}Gr(i,t)})}function Zr(e,t,s){return{instance:e,listener:t,currentTarget:s}}function en(e,t){for(var s=t+"Capture",r=[];null!==e;){var n=e,a=n.stateNode;5===n.tag&&null!==a&&(n=a,null!=(a=Te(e,s))&&r.unshift(Zr(e,a,n)),null!=(a=Te(e,t))&&r.push(Zr(e,a,n))),e=e.return}return r}function tn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function sn(e,t,s,r,n){for(var a=t._reactName,i=[];null!==s&&s!==r;){var o=s,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,n?null!=(l=Te(s,a))&&i.unshift(Zr(s,l,o)):n||null!=(l=Te(s,a))&&i.push(Zr(s,l,o))),s=s.return}0!==i.length&&e.push({event:t,listeners:i})}var rn=/\r\n?/g,nn=/\u0000|\uFFFD/g;function an(e){return("string"===typeof e?e:""+e).replace(rn,"\n").replace(nn,"")}function on(e,t,s){if(t=an(t),an(e)!==t&&s)throw Error(a(425))}function ln(){}var cn=null,dn=null;function un(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var pn="function"===typeof setTimeout?setTimeout:void 0,mn="function"===typeof clearTimeout?clearTimeout:void 0,hn="function"===typeof Promise?Promise:void 0,xn="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof hn?function(e){return hn.resolve(null).then(e).catch(fn)}:pn;function fn(e){setTimeout(function(){throw e})}function gn(e,t){var s=t,r=0;do{var n=s.nextSibling;if(e.removeChild(s),n&&8===n.nodeType)if("/$"===(s=n.data)){if(0===r)return e.removeChild(n),void Qt(t);r--}else"$"!==s&&"$?"!==s&&"$!"!==s||r++;s=n}while(s);Qt(t)}function bn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function yn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var s=e.data;if("$"===s||"$!"===s||"$?"===s){if(0===t)return e;t--}else"/$"===s&&t++}e=e.previousSibling}return null}var vn=Math.random().toString(36).slice(2),jn="__reactFiber$"+vn,wn="__reactProps$"+vn,Nn="__reactContainer$"+vn,_n="__reactEvents$"+vn,kn="__reactListeners$"+vn,Sn="__reactHandles$"+vn;function Cn(e){var t=e[jn];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Nn]||s[jn]){if(s=t.alternate,null!==t.child||null!==s&&null!==s.child)for(e=yn(e);null!==e;){if(s=e[jn])return s;e=yn(e)}return t}s=(e=s).parentNode}return null}function En(e){return!(e=e[jn]||e[Nn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Pn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function An(e){return e[wn]||null}var Tn=[],In=-1;function Ln(e){return{current:e}}function Fn(e){0>In||(e.current=Tn[In],Tn[In]=null,In--)}function Rn(e,t){In++,Tn[In]=e.current,e.current=t}var Dn={},On=Ln(Dn),Mn=Ln(!1),Un=Dn;function zn(e,t){var s=e.type.contextTypes;if(!s)return Dn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var n,a={};for(n in s)a[n]=t[n];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Bn(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Vn(){Fn(Mn),Fn(On)}function Hn(e,t,s){if(On.current!==Dn)throw Error(a(168));Rn(On,t),Rn(Mn,s)}function Wn(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return s;for(var n in r=r.getChildContext())if(!(n in t))throw Error(a(108,H(e)||"Unknown",n));return O({},s,r)}function qn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dn,Un=On.current,Rn(On,e),Rn(Mn,Mn.current),!0}function Gn(e,t,s){var r=e.stateNode;if(!r)throw Error(a(169));s?(e=Wn(e,t,Un),r.__reactInternalMemoizedMergedChildContext=e,Fn(Mn),Fn(On),Rn(On,e)):Fn(Mn),Rn(Mn,s)}var Kn=null,$n=!1,Yn=!1;function Jn(e){null===Kn?Kn=[e]:Kn.push(e)}function Qn(){if(!Yn&&null!==Kn){Yn=!0;var e=0,t=Ct;try{var s=Kn;for(Ct=1;e<s.length;e++){var r=s[e];do{r=r(!0)}while(null!==r)}Kn=null,$n=!1}catch(Ve){throw null!==Kn&&(Kn=Kn.slice(e+1)),Qe(it,Qn),Ve}finally{Ct=t,Yn=!1}}return null}var Xn=[],Zn=0,ea=null,ta=0,sa=[],ra=0,na=null,aa=1,ia="";function oa(e,t){Xn[Zn++]=ta,Xn[Zn++]=ea,ea=e,ta=t}function la(e,t,s){sa[ra++]=aa,sa[ra++]=ia,sa[ra++]=na,na=e;var r=aa;e=ia;var n=32-mt(r)-1;r&=~(1<<n),s+=1;var a=32-mt(t)+n;if(30<a){var i=n-n%5;a=(r&(1<<i)-1).toString(32),r>>=i,n-=i,aa=1<<32-mt(t)+n|s<<n|r,ia=a+e}else aa=1<<a|s<<n|r,ia=e}function ca(e){null!==e.return&&(oa(e,1),la(e,1,0))}function da(e){for(;e===ea;)ea=Xn[--Zn],Xn[Zn]=null,ta=Xn[--Zn],Xn[Zn]=null;for(;e===na;)na=sa[--ra],sa[ra]=null,ia=sa[--ra],sa[ra]=null,aa=sa[--ra],sa[ra]=null}var ua=null,pa=null,ma=!1,ha=null;function xa(e,t){var s=zc(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,null===(t=e.deletions)?(e.deletions=[s],e.flags|=16):t.push(s)}function fa(e,t){switch(e.tag){case 5:var s=e.type;return null!==(t=1!==t.nodeType||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ua=e,pa=bn(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ua=e,pa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(s=null!==na?{id:aa,overflow:ia}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},(s=zc(18,null,null,0)).stateNode=t,s.return=e,e.child=s,ua=e,pa=null,!0);default:return!1}}function ga(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ba(e){if(ma){var t=pa;if(t){var s=t;if(!fa(e,t)){if(ga(e))throw Error(a(418));t=bn(s.nextSibling);var r=ua;t&&fa(e,t)?xa(r,s):(e.flags=-4097&e.flags|2,ma=!1,ua=e)}}else{if(ga(e))throw Error(a(418));e.flags=-4097&e.flags|2,ma=!1,ua=e}}}function ya(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ua=e}function va(e){if(e!==ua)return!1;if(!ma)return ya(e),ma=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!un(e.type,e.memoizedProps)),t&&(t=pa)){if(ga(e))throw ja(),Error(a(418));for(;t;)xa(e,t),t=bn(t.nextSibling)}if(ya(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var s=e.data;if("/$"===s){if(0===t){pa=bn(e.nextSibling);break e}t--}else"$"!==s&&"$!"!==s&&"$?"!==s||t++}e=e.nextSibling}pa=null}}else pa=ua?bn(e.stateNode.nextSibling):null;return!0}function ja(){for(var e=pa;e;)e=bn(e.nextSibling)}function wa(){pa=ua=null,ma=!1}function Na(e){null===ha?ha=[e]:ha.push(e)}var _a=v.ReactCurrentBatchConfig;function ka(e,t,s){if(null!==(e=s.ref)&&"function"!==typeof e&&"object"!==typeof e){if(s._owner){if(s=s._owner){if(1!==s.tag)throw Error(a(309));var r=s.stateNode}if(!r)throw Error(a(147,e));var n=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=n.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!s._owner)throw Error(a(290,e))}return e}function Sa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ca(e){return(0,e._init)(e._payload)}function Ea(e){function t(t,s){if(e){var r=t.deletions;null===r?(t.deletions=[s],t.flags|=16):r.push(s)}}function s(s,r){if(!e)return null;for(;null!==r;)t(s,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function n(e,t){return(e=Vc(e,t)).index=0,e.sibling=null,e}function i(t,s,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<s?(t.flags|=2,s):r:(t.flags|=2,s):(t.flags|=1048576,s)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,s,r){return null===t||6!==t.tag?((t=Gc(s,e.mode,r)).return=e,t):((t=n(t,s)).return=e,t)}function c(e,t,s,r){var a=s.type;return a===N?u(e,t,s.props.children,r,s.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===I&&Ca(a)===t.type)?((r=n(t,s.props)).ref=ka(e,t,s),r.return=e,r):((r=Hc(s.type,s.key,s.props,null,e.mode,r)).ref=ka(e,t,s),r.return=e,r)}function d(e,t,s,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==s.containerInfo||t.stateNode.implementation!==s.implementation?((t=Kc(s,e.mode,r)).return=e,t):((t=n(t,s.children||[])).return=e,t)}function u(e,t,s,r,a){return null===t||7!==t.tag?((t=Wc(s,e.mode,r,a)).return=e,t):((t=n(t,s)).return=e,t)}function p(e,t,s){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Gc(""+t,e.mode,s)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(s=Hc(t.type,t.key,t.props,null,e.mode,s)).ref=ka(e,null,t),s.return=e,s;case w:return(t=Kc(t,e.mode,s)).return=e,t;case I:return p(e,(0,t._init)(t._payload),s)}if(te(t)||R(t))return(t=Wc(t,e.mode,s,null)).return=e,t;Sa(e,t)}return null}function m(e,t,s,r){var n=null!==t?t.key:null;if("string"===typeof s&&""!==s||"number"===typeof s)return null!==n?null:l(e,t,""+s,r);if("object"===typeof s&&null!==s){switch(s.$$typeof){case j:return s.key===n?c(e,t,s,r):null;case w:return s.key===n?d(e,t,s,r):null;case I:return m(e,t,(n=s._init)(s._payload),r)}if(te(s)||R(s))return null!==n?null:u(e,t,s,r,null);Sa(e,s)}return null}function h(e,t,s,r,n){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(s)||null,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return c(t,e=e.get(null===r.key?s:r.key)||null,r,n);case w:return d(t,e=e.get(null===r.key?s:r.key)||null,r,n);case I:return h(e,t,s,(0,r._init)(r._payload),n)}if(te(r)||R(r))return u(t,e=e.get(s)||null,r,n,null);Sa(t,r)}return null}function x(n,a,o,l){for(var c=null,d=null,u=a,x=a=0,f=null;null!==u&&x<o.length;x++){u.index>x?(f=u,u=null):f=u.sibling;var g=m(n,u,o[x],l);if(null===g){null===u&&(u=f);break}e&&u&&null===g.alternate&&t(n,u),a=i(g,a,x),null===d?c=g:d.sibling=g,d=g,u=f}if(x===o.length)return s(n,u),ma&&oa(n,x),c;if(null===u){for(;x<o.length;x++)null!==(u=p(n,o[x],l))&&(a=i(u,a,x),null===d?c=u:d.sibling=u,d=u);return ma&&oa(n,x),c}for(u=r(n,u);x<o.length;x++)null!==(f=h(u,n,x,o[x],l))&&(e&&null!==f.alternate&&u.delete(null===f.key?x:f.key),a=i(f,a,x),null===d?c=f:d.sibling=f,d=f);return e&&u.forEach(function(e){return t(n,e)}),ma&&oa(n,x),c}function f(n,o,l,c){var d=R(l);if("function"!==typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var u=d=null,x=o,f=o=0,g=null,b=l.next();null!==x&&!b.done;f++,b=l.next()){x.index>f?(g=x,x=null):g=x.sibling;var y=m(n,x,b.value,c);if(null===y){null===x&&(x=g);break}e&&x&&null===y.alternate&&t(n,x),o=i(y,o,f),null===u?d=y:u.sibling=y,u=y,x=g}if(b.done)return s(n,x),ma&&oa(n,f),d;if(null===x){for(;!b.done;f++,b=l.next())null!==(b=p(n,b.value,c))&&(o=i(b,o,f),null===u?d=b:u.sibling=b,u=b);return ma&&oa(n,f),d}for(x=r(n,x);!b.done;f++,b=l.next())null!==(b=h(x,n,f,b.value,c))&&(e&&null!==b.alternate&&x.delete(null===b.key?f:b.key),o=i(b,o,f),null===u?d=b:u.sibling=b,u=b);return e&&x.forEach(function(e){return t(n,e)}),ma&&oa(n,f),d}return function e(r,a,i,l){if("object"===typeof i&&null!==i&&i.type===N&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case j:e:{for(var c=i.key,d=a;null!==d;){if(d.key===c){if((c=i.type)===N){if(7===d.tag){s(r,d.sibling),(a=n(d,i.props.children)).return=r,r=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&Ca(c)===d.type){s(r,d.sibling),(a=n(d,i.props)).ref=ka(r,d,i),a.return=r,r=a;break e}s(r,d);break}t(r,d),d=d.sibling}i.type===N?((a=Wc(i.props.children,r.mode,l,i.key)).return=r,r=a):((l=Hc(i.type,i.key,i.props,null,r.mode,l)).ref=ka(r,a,i),l.return=r,r=l)}return o(r);case w:e:{for(d=i.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){s(r,a.sibling),(a=n(a,i.children||[])).return=r,r=a;break e}s(r,a);break}t(r,a),a=a.sibling}(a=Kc(i,r.mode,l)).return=r,r=a}return o(r);case I:return e(r,a,(d=i._init)(i._payload),l)}if(te(i))return x(r,a,i,l);if(R(i))return f(r,a,i,l);Sa(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(s(r,a.sibling),(a=n(a,i)).return=r,r=a):(s(r,a),(a=Gc(i,r.mode,l)).return=r,r=a),o(r)):s(r,a)}}var Pa=Ea(!0),Aa=Ea(!1),Ta=Ln(null),Ia=null,La=null,Fa=null;function Ra(){Fa=La=Ia=null}function Da(e){var t=Ta.current;Fn(Ta),e._currentValue=t}function Oa(e,t,s){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function Ma(e,t){Ia=e,Fa=La=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Eo=!0),e.firstContext=null)}function Ua(e){var t=e._currentValue;if(Fa!==e)if(e={context:e,memoizedValue:t,next:null},null===La){if(null===Ia)throw Error(a(308));La=e,Ia.dependencies={lanes:0,firstContext:e}}else La=La.next=e;return t}var za=null;function Ba(e){null===za?za=[e]:za.push(e)}function Va(e,t,s,r){var n=t.interleaved;return null===n?(s.next=s,Ba(t)):(s.next=n.next,n.next=s),t.interleaved=s,Ha(e,r)}function Ha(e,t){e.lanes|=t;var s=e.alternate;for(null!==s&&(s.lanes|=t),s=e,e=e.return;null!==e;)e.childLanes|=t,null!==(s=e.alternate)&&(s.childLanes|=t),s=e,e=e.return;return 3===s.tag?s.stateNode:null}var Wa=!1;function qa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ga(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ka(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $a(e,t,s){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ol)){var n=r.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),r.pending=t,Ha(e,s)}return null===(n=r.interleaved)?(t.next=t,Ba(r)):(t.next=n.next,n.next=t),r.interleaved=t,Ha(e,s)}function Ya(e,t,s){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&s))){var r=t.lanes;s|=r&=e.pendingLanes,t.lanes=s,St(e,s)}}function Ja(e,t){var s=e.updateQueue,r=e.alternate;if(null!==r&&s===(r=r.updateQueue)){var n=null,a=null;if(null!==(s=s.firstBaseUpdate)){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};null===a?n=a=i:a=a.next=i,s=s.next}while(null!==s);null===a?n=a=t:a=a.next=t}else n=a=t;return s={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=s)}null===(e=s.lastBaseUpdate)?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Qa(e,t,s,r){var n=e.updateQueue;Wa=!1;var a=n.firstBaseUpdate,i=n.lastBaseUpdate,o=n.shared.pending;if(null!==o){n.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=n.baseState;for(i=0,d=c=l=null,o=a;;){var p=o.lane,m=o.eventTime;if((r&p)===p){null!==d&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,x=o;switch(p=t,m=s,x.tag){case 1:if("function"===typeof(h=x.payload)){u=h.call(m,u,p);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=x.payload)?h.call(m,u,p):h)||void 0===p)break e;u=O({},u,p);break e;case 2:Wa=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(p=n.effects)?n.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=m,l=u):d=d.next=m,i|=p;if(null===(o=o.next)){if(null===(o=n.shared.pending))break;o=(p=o).next,p.next=null,n.lastBaseUpdate=p,n.shared.pending=null}}if(null===d&&(l=u),n.baseState=l,n.firstBaseUpdate=c,n.lastBaseUpdate=d,null!==(t=n.shared.interleaved)){n=t;do{i|=n.lane,n=n.next}while(n!==t)}else null===a&&(n.shared.lanes=0);ql|=i,e.lanes=i,e.memoizedState=u}}function Xa(e,t,s){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],n=r.callback;if(null!==n){if(r.callback=null,r=s,"function"!==typeof n)throw Error(a(191,n));n.call(r)}}}var Za={},ei=Ln(Za),ti=Ln(Za),si=Ln(Za);function ri(e){if(e===Za)throw Error(a(174));return e}function ni(e,t){switch(Rn(si,t),Rn(ti,e),Rn(ei,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Fn(ei),Rn(ei,t)}function ai(){Fn(ei),Fn(ti),Fn(si)}function ii(e){ri(si.current);var t=ri(ei.current),s=le(t,e.type);t!==s&&(Rn(ti,e),Rn(ei,s))}function oi(e){ti.current===e&&(Fn(ei),Fn(ti))}var li=Ln(0);function ci(e){for(var t=e;null!==t;){if(13===t.tag){var s=t.memoizedState;if(null!==s&&(null===(s=s.dehydrated)||"$?"===s.data||"$!"===s.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var di=[];function ui(){for(var e=0;e<di.length;e++)di[e]._workInProgressVersionPrimary=null;di.length=0}var pi=v.ReactCurrentDispatcher,mi=v.ReactCurrentBatchConfig,hi=0,xi=null,fi=null,gi=null,bi=!1,yi=!1,vi=0,ji=0;function wi(){throw Error(a(321))}function Ni(e,t){if(null===t)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!xr(e[s],t[s]))return!1;return!0}function _i(e,t,s,r,n,i){if(hi=i,xi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pi.current=null===e||null===e.memoizedState?oo:lo,e=s(r,n),yi){i=0;do{if(yi=!1,vi=0,25<=i)throw Error(a(301));i+=1,gi=fi=null,t.updateQueue=null,pi.current=co,e=s(r,n)}while(yi)}if(pi.current=io,t=null!==fi&&null!==fi.next,hi=0,gi=fi=xi=null,bi=!1,t)throw Error(a(300));return e}function ki(){var e=0!==vi;return vi=0,e}function Si(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===gi?xi.memoizedState=gi=e:gi=gi.next=e,gi}function Ci(){if(null===fi){var e=xi.alternate;e=null!==e?e.memoizedState:null}else e=fi.next;var t=null===gi?xi.memoizedState:gi.next;if(null!==t)gi=t,fi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fi=e).memoizedState,baseState:fi.baseState,baseQueue:fi.baseQueue,queue:fi.queue,next:null},null===gi?xi.memoizedState=gi=e:gi=gi.next=e}return gi}function Ei(e,t){return"function"===typeof t?t(e):t}function Pi(e){var t=Ci(),s=t.queue;if(null===s)throw Error(a(311));s.lastRenderedReducer=e;var r=fi,n=r.baseQueue,i=s.pending;if(null!==i){if(null!==n){var o=n.next;n.next=i.next,i.next=o}r.baseQueue=n=i,s.pending=null}if(null!==n){i=n.next,r=r.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((hi&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=p,o=r):c=c.next=p,xi.lanes|=u,ql|=u}d=d.next}while(null!==d&&d!==i);null===c?o=r:c.next=l,xr(r,t.memoizedState)||(Eo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,s.lastRenderedState=r}if(null!==(e=s.interleaved)){n=e;do{i=n.lane,xi.lanes|=i,ql|=i,n=n.next}while(n!==e)}else null===n&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Ai(e){var t=Ci(),s=t.queue;if(null===s)throw Error(a(311));s.lastRenderedReducer=e;var r=s.dispatch,n=s.pending,i=t.memoizedState;if(null!==n){s.pending=null;var o=n=n.next;do{i=e(i,o.action),o=o.next}while(o!==n);xr(i,t.memoizedState)||(Eo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),s.lastRenderedState=i}return[i,r]}function Ti(){}function Ii(e,t){var s=xi,r=Ci(),n=t(),i=!xr(r.memoizedState,n);if(i&&(r.memoizedState=n,Eo=!0),r=r.queue,Wi(Ri.bind(null,s,r,e),[e]),r.getSnapshot!==t||i||null!==gi&&1&gi.memoizedState.tag){if(s.flags|=2048,Ui(9,Fi.bind(null,s,r,n,t),void 0,null),null===Ml)throw Error(a(349));0!==(30&hi)||Li(s,t,n)}return n}function Li(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},null===(t=xi.updateQueue)?(t={lastEffect:null,stores:null},xi.updateQueue=t,t.stores=[e]):null===(s=t.stores)?t.stores=[e]:s.push(e)}function Fi(e,t,s,r){t.value=s,t.getSnapshot=r,Di(t)&&Oi(e)}function Ri(e,t,s){return s(function(){Di(t)&&Oi(e)})}function Di(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!xr(e,s)}catch(Xe){return!0}}function Oi(e){var t=Ha(e,1);null!==t&&uc(t,e,1,-1)}function Mi(e){var t=Si();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:e},t.queue=e,e=e.dispatch=so.bind(null,xi,e),[t.memoizedState,e]}function Ui(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},null===(t=xi.updateQueue)?(t={lastEffect:null,stores:null},xi.updateQueue=t,t.lastEffect=e.next=e):null===(s=t.lastEffect)?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e),e}function zi(){return Ci().memoizedState}function Bi(e,t,s,r){var n=Si();xi.flags|=e,n.memoizedState=Ui(1|t,s,void 0,void 0===r?null:r)}function Vi(e,t,s,r){var n=Ci();r=void 0===r?null:r;var a=void 0;if(null!==fi){var i=fi.memoizedState;if(a=i.destroy,null!==r&&Ni(r,i.deps))return void(n.memoizedState=Ui(t,s,a,r))}xi.flags|=e,n.memoizedState=Ui(1|t,s,a,r)}function Hi(e,t){return Bi(8390656,8,e,t)}function Wi(e,t){return Vi(2048,8,e,t)}function qi(e,t){return Vi(4,2,e,t)}function Gi(e,t){return Vi(4,4,e,t)}function Ki(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $i(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Vi(4,4,Ki.bind(null,t,e),s)}function Yi(){}function Ji(e,t){var s=Ci();t=void 0===t?null:t;var r=s.memoizedState;return null!==r&&null!==t&&Ni(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function Qi(e,t){var s=Ci();t=void 0===t?null:t;var r=s.memoizedState;return null!==r&&null!==t&&Ni(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function Xi(e,t,s){return 0===(21&hi)?(e.baseState&&(e.baseState=!1,Eo=!0),e.memoizedState=s):(xr(s,t)||(s=Nt(),xi.lanes|=s,ql|=s,e.baseState=!0),t)}function Zi(e,t){var s=Ct;Ct=0!==s&&4>s?s:4,e(!0);var r=mi.transition;mi.transition={};try{e(!1),t()}finally{Ct=s,mi.transition=r}}function eo(){return Ci().memoizedState}function to(e,t,s){var r=dc(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},ro(e))no(t,s);else if(null!==(s=Va(e,t,s,r))){uc(s,e,r,cc()),ao(s,t,r)}}function so(e,t,s){var r=dc(e),n={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(ro(e))no(t,n);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=a(i,s);if(n.hasEagerState=!0,n.eagerState=o,xr(o,i)){var l=t.interleaved;return null===l?(n.next=n,Ba(t)):(n.next=l.next,l.next=n),void(t.interleaved=n)}}catch(We){}null!==(s=Va(e,t,n,r))&&(uc(s,e,r,n=cc()),ao(s,t,r))}}function ro(e){var t=e.alternate;return e===xi||null!==t&&t===xi}function no(e,t){yi=bi=!0;var s=e.pending;null===s?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function ao(e,t,s){if(0!==(4194240&s)){var r=t.lanes;s|=r&=e.pendingLanes,t.lanes=s,St(e,s)}}var io={readContext:Ua,useCallback:wi,useContext:wi,useEffect:wi,useImperativeHandle:wi,useInsertionEffect:wi,useLayoutEffect:wi,useMemo:wi,useReducer:wi,useRef:wi,useState:wi,useDebugValue:wi,useDeferredValue:wi,useTransition:wi,useMutableSource:wi,useSyncExternalStore:wi,useId:wi,unstable_isNewReconciler:!1},oo={readContext:Ua,useCallback:function(e,t){return Si().memoizedState=[e,void 0===t?null:t],e},useContext:Ua,useEffect:Hi,useImperativeHandle:function(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Bi(4194308,4,Ki.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Bi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bi(4,2,e,t)},useMemo:function(e,t){var s=Si();return t=void 0===t?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=Si();return t=void 0!==s?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=to.bind(null,xi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Si().memoizedState=e},useState:Mi,useDebugValue:Yi,useDeferredValue:function(e){return Si().memoizedState=e},useTransition:function(){var e=Mi(!1),t=e[0];return e=Zi.bind(null,e[1]),Si().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=xi,n=Si();if(ma){if(void 0===s)throw Error(a(407));s=s()}else{if(s=t(),null===Ml)throw Error(a(349));0!==(30&hi)||Li(r,t,s)}n.memoizedState=s;var i={value:s,getSnapshot:t};return n.queue=i,Hi(Ri.bind(null,r,i,e),[e]),r.flags|=2048,Ui(9,Fi.bind(null,r,i,s,t),void 0,null),s},useId:function(){var e=Si(),t=Ml.identifierPrefix;if(ma){var s=ia;t=":"+t+"R"+(s=(aa&~(1<<32-mt(aa)-1)).toString(32)+s),0<(s=vi++)&&(t+="H"+s.toString(32)),t+=":"}else t=":"+t+"r"+(s=ji++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lo={readContext:Ua,useCallback:Ji,useContext:Ua,useEffect:Wi,useImperativeHandle:$i,useInsertionEffect:qi,useLayoutEffect:Gi,useMemo:Qi,useReducer:Pi,useRef:zi,useState:function(){return Pi(Ei)},useDebugValue:Yi,useDeferredValue:function(e){return Xi(Ci(),fi.memoizedState,e)},useTransition:function(){return[Pi(Ei)[0],Ci().memoizedState]},useMutableSource:Ti,useSyncExternalStore:Ii,useId:eo,unstable_isNewReconciler:!1},co={readContext:Ua,useCallback:Ji,useContext:Ua,useEffect:Wi,useImperativeHandle:$i,useInsertionEffect:qi,useLayoutEffect:Gi,useMemo:Qi,useReducer:Ai,useRef:zi,useState:function(){return Ai(Ei)},useDebugValue:Yi,useDeferredValue:function(e){var t=Ci();return null===fi?t.memoizedState=e:Xi(t,fi.memoizedState,e)},useTransition:function(){return[Ai(Ei)[0],Ci().memoizedState]},useMutableSource:Ti,useSyncExternalStore:Ii,useId:eo,unstable_isNewReconciler:!1};function uo(e,t){if(e&&e.defaultProps){for(var s in t=O({},t),e=e.defaultProps)void 0===t[s]&&(t[s]=e[s]);return t}return t}function po(e,t,s,r){s=null===(s=s(r,t=e.memoizedState))||void 0===s?t:O({},t,s),e.memoizedState=s,0===e.lanes&&(e.updateQueue.baseState=s)}var mo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=cc(),n=dc(e),a=Ka(r,n);a.payload=t,void 0!==s&&null!==s&&(a.callback=s),null!==(t=$a(e,a,n))&&(uc(t,e,n,r),Ya(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=cc(),n=dc(e),a=Ka(r,n);a.tag=1,a.payload=t,void 0!==s&&null!==s&&(a.callback=s),null!==(t=$a(e,a,n))&&(uc(t,e,n,r),Ya(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=cc(),r=dc(e),n=Ka(s,r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=$a(e,n,r))&&(uc(t,e,r,s),Ya(t,e,r))}};function ho(e,t,s,r,n,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!fr(s,r)||!fr(n,a))}function xo(e,t,s){var r=!1,n=Dn,a=t.contextType;return"object"===typeof a&&null!==a?a=Ua(a):(n=Bn(t)?Un:On.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?zn(e,n):Dn),t=new t(s,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),t}function fo(e,t,s,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(s,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function go(e,t,s,r){var n=e.stateNode;n.props=s,n.state=e.memoizedState,n.refs={},qa(e);var a=t.contextType;"object"===typeof a&&null!==a?n.context=Ua(a):(a=Bn(t)?Un:On.current,n.context=zn(e,a)),n.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(po(e,t,a,s),n.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(t=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),t!==n.state&&mo.enqueueReplaceState(n,n.state,null),Qa(e,s,n,r),n.state=e.memoizedState),"function"===typeof n.componentDidMount&&(e.flags|=4194308)}function bo(e,t){try{var s="",r=t;do{s+=B(r),r=r.return}while(r);var n=s}catch(Ze){n="\nError generating stack: "+Ze.message+"\n"+Ze.stack}return{value:e,source:t,stack:n,digest:null}}function yo(e,t,s){return{value:e,source:null,stack:null!=s?s:null,digest:null!=t?t:null}}function vo(e,t){try{console.error(t.value)}catch($e){setTimeout(function(){throw $e})}}var jo="function"===typeof WeakMap?WeakMap:Map;function wo(e,t,s){(s=Ka(-1,s)).tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){Zl||(Zl=!0,ec=r),vo(0,t)},s}function No(e,t,s){(s=Ka(-1,s)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var n=t.value;s.payload=function(){return r(n)},s.callback=function(){vo(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(s.callback=function(){vo(0,t),"function"!==typeof r&&(null===tc?tc=new Set([this]):tc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),s}function _o(e,t,s){var r=e.pingCache;if(null===r){r=e.pingCache=new jo;var n=new Set;r.set(t,n)}else void 0===(n=r.get(t))&&(n=new Set,r.set(t,n));n.has(s)||(n.add(s),e=Fc.bind(null,e,t,s),t.then(e,e))}function ko(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function So(e,t,s,r,n){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,1===s.tag&&(null===s.alternate?s.tag=17:((t=Ka(-1,1)).tag=2,$a(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=n,e)}var Co=v.ReactCurrentOwner,Eo=!1;function Po(e,t,s,r){t.child=null===e?Aa(t,null,s,r):Pa(t,e.child,s,r)}function Ao(e,t,s,r,n){s=s.render;var a=t.ref;return Ma(t,n),r=_i(e,t,s,r,a,n),s=ki(),null===e||Eo?(ma&&s&&ca(t),t.flags|=1,Po(e,t,r,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Zo(e,t,n))}function To(e,t,s,r,n){if(null===e){var a=s.type;return"function"!==typeof a||Bc(a)||void 0!==a.defaultProps||null!==s.compare||void 0!==s.defaultProps?((e=Hc(s.type,null,r,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Io(e,t,a,r,n))}if(a=e.child,0===(e.lanes&n)){var i=a.memoizedProps;if((s=null!==(s=s.compare)?s:fr)(i,r)&&e.ref===t.ref)return Zo(e,t,n)}return t.flags|=1,(e=Vc(a,r)).ref=t.ref,e.return=t,t.child=e}function Io(e,t,s,r,n){if(null!==e){var a=e.memoizedProps;if(fr(a,r)&&e.ref===t.ref){if(Eo=!1,t.pendingProps=r=a,0===(e.lanes&n))return t.lanes=e.lanes,Zo(e,t,n);0!==(131072&e.flags)&&(Eo=!0)}}return Ro(e,t,s,r,n)}function Lo(e,t,s){var r=t.pendingProps,n=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rn(Vl,Bl),Bl|=s;else{if(0===(1073741824&s))return e=null!==a?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rn(Vl,Bl),Bl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:s,Rn(Vl,Bl),Bl|=r}else null!==a?(r=a.baseLanes|s,t.memoizedState=null):r=s,Rn(Vl,Bl),Bl|=r;return Po(e,t,n,s),t.child}function Fo(e,t){var s=t.ref;(null===e&&null!==s||null!==e&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Ro(e,t,s,r,n){var a=Bn(s)?Un:On.current;return a=zn(t,a),Ma(t,n),s=_i(e,t,s,r,a,n),r=ki(),null===e||Eo?(ma&&r&&ca(t),t.flags|=1,Po(e,t,s,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Zo(e,t,n))}function Do(e,t,s,r,n){if(Bn(s)){var a=!0;qn(t)}else a=!1;if(Ma(t,n),null===t.stateNode)Xo(e,t),xo(t,s,r),go(t,s,r,n),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=s.contextType;"object"===typeof c&&null!==c?c=Ua(c):c=zn(t,c=Bn(s)?Un:On.current);var d=s.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==r||l!==c)&&fo(t,i,r,c),Wa=!1;var p=t.memoizedState;i.state=p,Qa(t,r,i,n),l=t.memoizedState,o!==r||p!==l||Mn.current||Wa?("function"===typeof d&&(po(t,s,d,r),l=t.memoizedState),(o=Wa||ho(t,s,o,r,p,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Ga(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:uo(t.type,o),i.props=c,u=t.pendingProps,p=i.context,"object"===typeof(l=s.contextType)&&null!==l?l=Ua(l):l=zn(t,l=Bn(s)?Un:On.current);var m=s.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||p!==l)&&fo(t,i,r,l),Wa=!1,p=t.memoizedState,i.state=p,Qa(t,r,i,n);var h=t.memoizedState;o!==u||p!==h||Mn.current||Wa?("function"===typeof m&&(po(t,s,m,r),h=t.memoizedState),(c=Wa||ho(t,s,c,r,p,h,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Oo(e,t,s,r,a,n)}function Oo(e,t,s,r,n,a){Fo(e,t);var i=0!==(128&t.flags);if(!r&&!i)return n&&Gn(t,s,!1),Zo(e,t,a);r=t.stateNode,Co.current=t;var o=i&&"function"!==typeof s.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Pa(t,e.child,null,a),t.child=Pa(t,null,o,a)):Po(e,t,o,a),t.memoizedState=r.state,n&&Gn(t,s,!0),t.child}function Mo(e){var t=e.stateNode;t.pendingContext?Hn(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Hn(0,t.context,!1),ni(e,t.containerInfo)}function Uo(e,t,s,r,n){return wa(),Na(n),t.flags|=256,Po(e,t,s,r),t.child}var zo,Bo,Vo,Ho,Wo={dehydrated:null,treeContext:null,retryLane:0};function qo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Go(e,t,s){var r,n=t.pendingProps,i=li.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Rn(li,1&i),null===e)return ba(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=n.children,e=n.fallback,o?(n=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&n)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=qc(l,n,0,null),e=Wc(e,n,s,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=qo(s),t.memoizedState=Wo,e):Ko(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,s,r,n,i,o){if(s)return 256&t.flags?(t.flags&=-257,$o(e,t,o,r=yo(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,n=t.mode,r=qc({mode:"visible",children:r.children},n,0,null),(i=Wc(i,n,o,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&Pa(t,e.child,null,o),t.child.memoizedState=qo(o),t.memoizedState=Wo,i);if(0===(1&t.mode))return $o(e,t,o,null);if("$!"===n.data){if(r=n.nextSibling&&n.nextSibling.dataset)var l=r.dgst;return r=l,$o(e,t,o,r=yo(i=Error(a(419)),r,void 0))}if(l=0!==(o&e.childLanes),Eo||l){if(null!==(r=Ml)){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}0!==(n=0!==(n&(r.suspendedLanes|o))?0:n)&&n!==i.retryLane&&(i.retryLane=n,Ha(e,n),uc(r,e,n,-1))}return _c(),$o(e,t,o,r=yo(Error(a(421))))}return"$?"===n.data?(t.flags|=128,t.child=e.child,t=Dc.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,pa=bn(n.nextSibling),ua=t,ma=!0,ha=null,null!==e&&(sa[ra++]=aa,sa[ra++]=ia,sa[ra++]=na,aa=e.id,ia=e.overflow,na=t),t=Ko(t,r.children),t.flags|=4096,t)}(e,t,l,n,r,i,s);if(o){o=n.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:n.children};return 0===(1&l)&&t.child!==i?((n=t.child).childLanes=0,n.pendingProps=c,t.deletions=null):(n=Vc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?o=Vc(r,o):(o=Wc(o,l,s,null)).flags|=2,o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,l=null===(l=e.child.memoizedState)?qo(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~s,t.memoizedState=Wo,n}return e=(o=e.child).sibling,n=Vc(o,{mode:"visible",children:n.children}),0===(1&t.mode)&&(n.lanes=s),n.return=t,n.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function Ko(e,t){return(t=qc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $o(e,t,s,r){return null!==r&&Na(r),Pa(t,e.child,null,s),(e=Ko(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Yo(e,t,s){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Oa(e.return,t,s)}function Jo(e,t,s,r,n){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:n}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=s,a.tailMode=n)}function Qo(e,t,s){var r=t.pendingProps,n=r.revealOrder,a=r.tail;if(Po(e,t,r.children,s),0!==(2&(r=li.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Yo(e,s,t);else if(19===e.tag)Yo(e,s,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Rn(li,r),0===(1&t.mode))t.memoizedState=null;else switch(n){case"forwards":for(s=t.child,n=null;null!==s;)null!==(e=s.alternate)&&null===ci(e)&&(n=s),s=s.sibling;null===(s=n)?(n=t.child,t.child=null):(n=s.sibling,s.sibling=null),Jo(t,!1,n,s,a);break;case"backwards":for(s=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===ci(e)){t.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}Jo(t,!0,s,null,a);break;case"together":Jo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zo(e,t,s){if(null!==e&&(t.dependencies=e.dependencies),ql|=t.lanes,0===(s&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(s=Vc(e=t.child,e.pendingProps),t.child=s,s.return=t;null!==e.sibling;)e=e.sibling,(s=s.sibling=Vc(e,e.pendingProps)).return=t;s.sibling=null}return t.child}function el(e,t){if(!ma)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;null!==t;)null!==t.alternate&&(s=t),t=t.sibling;null===s?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;null!==s;)null!==s.alternate&&(r=s),s=s.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tl(e){var t=null!==e.alternate&&e.alternate.child===e.child,s=0,r=0;if(t)for(var n=e.child;null!==n;)s|=n.lanes|n.childLanes,r|=14680064&n.subtreeFlags,r|=14680064&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)s|=n.lanes|n.childLanes,r|=n.subtreeFlags,r|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function sl(e,t,s){var r=t.pendingProps;switch(da(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tl(t),null;case 1:case 17:return Bn(t.type)&&Vn(),tl(t),null;case 3:return r=t.stateNode,ai(),Fn(Mn),Fn(On),ui(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(va(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ha&&(xc(ha),ha=null))),Bo(e,t),tl(t),null;case 5:oi(t);var n=ri(si.current);if(s=t.type,null!==e&&null!=t.stateNode)Vo(e,t,s,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return tl(t),null}if(e=ri(ei.current),va(t)){r=t.stateNode,s=t.type;var i=t.memoizedProps;switch(r[jn]=t,r[wn]=i,e=0!==(1&t.mode),s){case"dialog":Kr("cancel",r),Kr("close",r);break;case"iframe":case"object":case"embed":Kr("load",r);break;case"video":case"audio":for(n=0;n<Hr.length;n++)Kr(Hr[n],r);break;case"source":Kr("error",r);break;case"img":case"image":case"link":Kr("error",r),Kr("load",r);break;case"details":Kr("toggle",r);break;case"input":J(r,i),Kr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Kr("invalid",r);break;case"textarea":ne(r,i),Kr("invalid",r)}for(var l in ge(s,i),n=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&on(r.textContent,c,e),n=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&on(r.textContent,c,e),n=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Kr("scroll",r)}switch(s){case"input":G(r),Z(r,i,!0);break;case"textarea":G(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=ln)}r=n,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===n.nodeType?n:n.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(s)),"http://www.w3.org/1999/xhtml"===e?"script"===s?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(s,{is:r.is}):(e=l.createElement(s),"select"===s&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,s),e[jn]=t,e[wn]=r,zo(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(s,r),s){case"dialog":Kr("cancel",e),Kr("close",e),n=r;break;case"iframe":case"object":case"embed":Kr("load",e),n=r;break;case"video":case"audio":for(n=0;n<Hr.length;n++)Kr(Hr[n],e);n=r;break;case"source":Kr("error",e),n=r;break;case"img":case"image":case"link":Kr("error",e),Kr("load",e),n=r;break;case"details":Kr("toggle",e),n=r;break;case"input":J(e,r),n=Y(e,r),Kr("invalid",e);break;case"option":default:n=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},n=O({},r,{value:void 0}),Kr("invalid",e);break;case"textarea":ne(e,r),n=re(e,r),Kr("invalid",e)}for(i in ge(s,n),c=n)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?xe(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&de(e,d):"children"===i?"string"===typeof d?("textarea"!==s||""!==d)&&ue(e,d):"number"===typeof d&&ue(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Kr("scroll",e):null!=d&&y(e,i,d,l))}switch(s){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?se(e,!!r.multiple,i,!1):null!=r.defaultValue&&se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof n.onClick&&(e.onclick=ln)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return tl(t),null;case 6:if(e&&null!=t.stateNode)Ho(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(s=ri(si.current),ri(ei.current),va(t)){if(r=t.stateNode,s=t.memoizedProps,r[jn]=t,(i=r.nodeValue!==s)&&null!==(e=ua))switch(e.tag){case 3:on(r.nodeValue,s,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&on(r.nodeValue,s,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===s.nodeType?s:s.ownerDocument).createTextNode(r))[jn]=t,t.stateNode=r}return tl(t),null;case 13:if(Fn(li),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ma&&null!==pa&&0!==(1&t.mode)&&0===(128&t.flags))ja(),wa(),t.flags|=98560,i=!1;else if(i=va(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[jn]=t}else wa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;tl(t),i=!1}else null!==ha&&(xc(ha),ha=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=s,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&li.current)?0===Hl&&(Hl=3):_c())),null!==t.updateQueue&&(t.flags|=4),tl(t),null);case 4:return ai(),Bo(e,t),null===e&&Jr(t.stateNode.containerInfo),tl(t),null;case 10:return Da(t.type._context),tl(t),null;case 19:if(Fn(li),null===(i=t.memoizedState))return tl(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)el(i,!1);else{if(0!==Hl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ci(e))){for(t.flags|=128,el(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;null!==s;)e=r,(i=s).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Rn(li,1&li.current|2),t.child}e=e.sibling}null!==i.tail&&nt()>Ql&&(t.flags|=128,r=!0,el(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ci(l))){if(t.flags|=128,r=!0,null!==(s=e.updateQueue)&&(t.updateQueue=s,t.flags|=4),el(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!ma)return tl(t),null}else 2*nt()-i.renderingStartTime>Ql&&1073741824!==s&&(t.flags|=128,r=!0,el(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(s=i.last)?s.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=nt(),t.sibling=null,s=li.current,Rn(li,r?1&s|2:1&s),t):(tl(t),null);case 22:case 23:return vc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Bl)&&(tl(t),6&t.subtreeFlags&&(t.flags|=8192)):tl(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function rl(e,t){switch(da(t),t.tag){case 1:return Bn(t.type)&&Vn(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ai(),Fn(Mn),Fn(On),ui(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oi(t),null;case 13:if(Fn(li),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));wa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Fn(li),null;case 4:return ai(),null;case 10:return Da(t.type._context),null;case 22:case 23:return vc(),null;default:return null}}zo=function(e,t){for(var s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Bo=function(){},Vo=function(e,t,s,r){var n=e.memoizedProps;if(n!==r){e=t.stateNode,ri(ei.current);var a,i=null;switch(s){case"input":n=Y(e,n),r=Y(e,r),i=[];break;case"select":n=O({},n,{value:void 0}),r=O({},r,{value:void 0}),i=[];break;case"textarea":n=re(e,n),r=re(e,r),i=[];break;default:"function"!==typeof n.onClick&&"function"===typeof r.onClick&&(e.onclick=ln)}for(d in ge(s,r),s=null,n)if(!r.hasOwnProperty(d)&&n.hasOwnProperty(d)&&null!=n[d])if("style"===d){var l=n[d];for(a in l)l.hasOwnProperty(a)&&(s||(s={}),s[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=n?n[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(s||(s={}),s[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(s||(s={}),s[a]=c[a])}else s||(i||(i=[]),i.push(d,s)),s=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Kr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}s&&(i=i||[]).push("style",s);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Ho=function(e,t,s,r){s!==r&&(t.flags|=4)};var nl=!1,al=!1,il="function"===typeof WeakSet?WeakSet:Set,ol=null;function ll(e,t){var s=e.ref;if(null!==s)if("function"===typeof s)try{s(null)}catch(Xe){Lc(e,t,Xe)}else s.current=null}function cl(e,t,s){try{s()}catch(Xe){Lc(e,t,Xe)}}var dl=!1;function ul(e,t,s){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var n=r=r.next;do{if((n.tag&e)===e){var a=n.destroy;n.destroy=void 0,void 0!==a&&cl(t,s,a)}n=n.next}while(n!==r)}}function pl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function ml(e){var t=e.ref;if(null!==t){var s=e.stateNode;e.tag,e=s,"function"===typeof t?t(e):t.current=e}}function hl(e){var t=e.alternate;null!==t&&(e.alternate=null,hl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[jn],delete t[wn],delete t[_n],delete t[kn],delete t[Sn])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xl(e){return 5===e.tag||3===e.tag||4===e.tag}function fl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||xl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,s){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===s.nodeType?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(8===s.nodeType?(t=s.parentNode).insertBefore(e,s):(t=s).appendChild(e),null!==(s=s._reactRootContainer)&&void 0!==s||null!==t.onclick||(t.onclick=ln));else if(4!==r&&null!==(e=e.child))for(gl(e,t,s),e=e.sibling;null!==e;)gl(e,t,s),e=e.sibling}function bl(e,t,s){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(4!==r&&null!==(e=e.child))for(bl(e,t,s),e=e.sibling;null!==e;)bl(e,t,s),e=e.sibling}var yl=null,vl=!1;function jl(e,t,s){for(s=s.child;null!==s;)wl(e,t,s),s=s.sibling}function wl(e,t,s){if(pt&&"function"===typeof pt.onCommitFiberUnmount)try{pt.onCommitFiberUnmount(ut,s)}catch(tt){}switch(s.tag){case 5:al||ll(s,t);case 6:var r=yl,n=vl;yl=null,jl(e,t,s),vl=n,null!==(yl=r)&&(vl?(e=yl,s=s.stateNode,8===e.nodeType?e.parentNode.removeChild(s):e.removeChild(s)):yl.removeChild(s.stateNode));break;case 18:null!==yl&&(vl?(e=yl,s=s.stateNode,8===e.nodeType?gn(e.parentNode,s):1===e.nodeType&&gn(e,s),Qt(e)):gn(yl,s.stateNode));break;case 4:r=yl,n=vl,yl=s.stateNode.containerInfo,vl=!0,jl(e,t,s),yl=r,vl=n;break;case 0:case 11:case 14:case 15:if(!al&&(null!==(r=s.updateQueue)&&null!==(r=r.lastEffect))){n=r=r.next;do{var a=n,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&cl(s,t,i),n=n.next}while(n!==r)}jl(e,t,s);break;case 1:if(!al&&(ll(s,t),"function"===typeof(r=s.stateNode).componentWillUnmount))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(tt){Lc(s,t,tt)}jl(e,t,s);break;case 21:jl(e,t,s);break;case 22:1&s.mode?(al=(r=al)||null!==s.memoizedState,jl(e,t,s),al=r):jl(e,t,s);break;default:jl(e,t,s)}}function Nl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var s=e.stateNode;null===s&&(s=e.stateNode=new il),t.forEach(function(t){var r=Oc.bind(null,e,t);s.has(t)||(s.add(t),t.then(r,r))})}}function _l(e,t){var s=t.deletions;if(null!==s)for(var r=0;r<s.length;r++){var n=s[r];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:yl=l.stateNode,vl=!1;break e;case 3:case 4:yl=l.stateNode.containerInfo,vl=!0;break e}l=l.return}if(null===yl)throw Error(a(160));wl(i,o,n),yl=null,vl=!1;var c=n.alternate;null!==c&&(c.return=null),n.return=null}catch(We){Lc(n,t,We)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)kl(t,e),t=t.sibling}function kl(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_l(t,e),Sl(e),4&r){try{ul(3,e,e.return),pl(3,e)}catch(He){Lc(e,e.return,He)}try{ul(5,e,e.return)}catch(He){Lc(e,e.return,He)}}break;case 1:_l(t,e),Sl(e),512&r&&null!==s&&ll(s,s.return);break;case 5:if(_l(t,e),Sl(e),512&r&&null!==s&&ll(s,s.return),32&e.flags){var n=e.stateNode;try{ue(n,"")}catch(He){Lc(e,e.return,He)}}if(4&r&&null!=(n=e.stateNode)){var i=e.memoizedProps,o=null!==s?s.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&Q(n,i),be(l,o);var d=be(l,i);for(o=0;o<c.length;o+=2){var u=c[o],p=c[o+1];"style"===u?xe(n,p):"dangerouslySetInnerHTML"===u?de(n,p):"children"===u?ue(n,p):y(n,u,p,d)}switch(l){case"input":X(n,i);break;case"textarea":ae(n,i);break;case"select":var m=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?se(n,!!i.multiple,h,!1):m!==!!i.multiple&&(null!=i.defaultValue?se(n,!!i.multiple,i.defaultValue,!0):se(n,!!i.multiple,i.multiple?[]:"",!1))}n[wn]=i}catch(He){Lc(e,e.return,He)}}break;case 6:if(_l(t,e),Sl(e),4&r){if(null===e.stateNode)throw Error(a(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(He){Lc(e,e.return,He)}}break;case 3:if(_l(t,e),Sl(e),4&r&&null!==s&&s.memoizedState.isDehydrated)try{Qt(t.containerInfo)}catch(He){Lc(e,e.return,He)}break;case 4:default:_l(t,e),Sl(e);break;case 13:_l(t,e),Sl(e),8192&(n=e.child).flags&&(i=null!==n.memoizedState,n.stateNode.isHidden=i,!i||null!==n.alternate&&null!==n.alternate.memoizedState||(Jl=nt())),4&r&&Nl(e);break;case 22:if(u=null!==s&&null!==s.memoizedState,1&e.mode?(al=(d=al)||u,_l(t,e),al=d):_l(t,e),Sl(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(ol=e,u=e.child;null!==u;){for(p=ol=u;null!==ol;){switch(h=(m=ol).child,m.tag){case 0:case 11:case 14:case 15:ul(4,m,m.return);break;case 1:ll(m,m.return);var x=m.stateNode;if("function"===typeof x.componentWillUnmount){r=m,s=m.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(He){Lc(r,s,He)}}break;case 5:ll(m,m.return);break;case 22:if(null!==m.memoizedState){Al(p);continue}}null!==h?(h.return=m,ol=h):Al(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{n=p.stateNode,d?"function"===typeof(i=n.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=p.stateNode,o=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=he("display",o))}catch(He){Lc(e,e.return,He)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(He){Lc(e,e.return,He)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:_l(t,e),Sl(e),4&r&&Nl(e);case 21:}}function Sl(e){var t=e.flags;if(2&t){try{e:{for(var s=e.return;null!==s;){if(xl(s)){var r=s;break e}s=s.return}throw Error(a(160))}switch(r.tag){case 5:var n=r.stateNode;32&r.flags&&(ue(n,""),r.flags&=-33),bl(e,fl(e),n);break;case 3:case 4:var i=r.stateNode.containerInfo;gl(e,fl(e),i);break;default:throw Error(a(161))}}catch(wt){Lc(e,e.return,wt)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Cl(e,t,s){ol=e,El(e,t,s)}function El(e,t,s){for(var r=0!==(1&e.mode);null!==ol;){var n=ol,a=n.child;if(22===n.tag&&r){var i=null!==n.memoizedState||nl;if(!i){var o=n.alternate,l=null!==o&&null!==o.memoizedState||al;o=nl;var c=al;if(nl=i,(al=l)&&!c)for(ol=n;null!==ol;)l=(i=ol).child,22===i.tag&&null!==i.memoizedState?Tl(n):null!==l?(l.return=i,ol=l):Tl(n);for(;null!==a;)ol=a,El(a,t,s),a=a.sibling;ol=n,nl=o,al=c}Pl(e)}else 0!==(8772&n.subtreeFlags)&&null!==a?(a.return=n,ol=a):Pl(e)}}function Pl(e){for(;null!==ol;){var t=ol;if(0!==(8772&t.flags)){var s=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:al||pl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!al)if(null===s)r.componentDidMount();else{var n=t.elementType===t.type?s.memoizedProps:uo(t.type,s.memoizedProps);r.componentDidUpdate(n,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Xa(t,i,r);break;case 3:var o=t.updateQueue;if(null!==o){if(s=null,null!==t.child)switch(t.child.tag){case 5:case 1:s=t.child.stateNode}Xa(t,o,s)}break;case 5:var l=t.stateNode;if(null===s&&4&t.flags){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Qt(p)}}}break;default:throw Error(a(163))}al||512&t.flags&&ml(t)}catch(m){Lc(t,t.return,m)}}if(t===e){ol=null;break}if(null!==(s=t.sibling)){s.return=t.return,ol=s;break}ol=t.return}}function Al(e){for(;null!==ol;){var t=ol;if(t===e){ol=null;break}var s=t.sibling;if(null!==s){s.return=t.return,ol=s;break}ol=t.return}}function Tl(e){for(;null!==ol;){var t=ol;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{pl(4,t)}catch(wt){Lc(t,s,wt)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var n=t.return;try{r.componentDidMount()}catch(wt){Lc(t,n,wt)}}var a=t.return;try{ml(t)}catch(wt){Lc(t,a,wt)}break;case 5:var i=t.return;try{ml(t)}catch(wt){Lc(t,i,wt)}}}catch(wt){Lc(t,t.return,wt)}if(t===e){ol=null;break}var o=t.sibling;if(null!==o){o.return=t.return,ol=o;break}ol=t.return}}var Il,Ll=Math.ceil,Fl=v.ReactCurrentDispatcher,Rl=v.ReactCurrentOwner,Dl=v.ReactCurrentBatchConfig,Ol=0,Ml=null,Ul=null,zl=0,Bl=0,Vl=Ln(0),Hl=0,Wl=null,ql=0,Gl=0,Kl=0,$l=null,Yl=null,Jl=0,Ql=1/0,Xl=null,Zl=!1,ec=null,tc=null,sc=!1,rc=null,nc=0,ac=0,ic=null,oc=-1,lc=0;function cc(){return 0!==(6&Ol)?nt():-1!==oc?oc:oc=nt()}function dc(e){return 0===(1&e.mode)?1:0!==(2&Ol)&&0!==zl?zl&-zl:null!==_a.transition?(0===lc&&(lc=Nt()),lc):0!==(e=Ct)?e:e=void 0===(e=window.event)?16:as(e.type)}function uc(e,t,s,r){if(50<ac)throw ac=0,ic=null,Error(a(185));kt(e,s,r),0!==(2&Ol)&&e===Ml||(e===Ml&&(0===(2&Ol)&&(Gl|=s),4===Hl&&fc(e,zl)),pc(e,r),1===s&&0===Ol&&0===(1&t.mode)&&(Ql=nt()+500,$n&&Qn()))}function pc(e,t){var s=e.callbackNode;!function(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,n=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-mt(a),o=1<<i,l=n[i];-1===l?0!==(o&s)&&0===(o&r)||(n[i]=vt(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=yt(e,e===Ml?zl:0);if(0===r)null!==s&&et(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=s&&et(s),1===t)0===e.tag?function(e){$n=!0,Jn(e)}(gc.bind(null,e)):Jn(gc.bind(null,e)),xn(function(){0===(6&Ol)&&Qn()}),s=null;else{switch(Et(r)){case 1:s=it;break;case 4:s=ot;break;case 16:default:s=lt;break;case 536870912:s=dt}s=Mc(s,mc.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function mc(e,t){if(oc=-1,lc=0,0!==(6&Ol))throw Error(a(327));var s=e.callbackNode;if(Tc()&&e.callbackNode!==s)return null;var r=yt(e,e===Ml?zl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=kc(e,r);else{t=r;var n=Ol;Ol|=2;var i=Nc();for(Ml===e&&zl===t||(Xl=null,Ql=nt()+500,jc(e,t));;)try{Cc();break}catch(tt){wc(e,tt)}Ra(),Fl.current=i,Ol=n,null!==Ul?t=0:(Ml=null,zl=0,t=Hl)}if(0!==t){if(2===t&&(0!==(n=jt(e))&&(r=n,t=hc(e,n))),1===t)throw s=Wl,jc(e,0),fc(e,r),pc(e,nt()),s;if(6===t)fc(e,r);else{if(n=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var s=t.updateQueue;if(null!==s&&null!==(s=s.stores))for(var r=0;r<s.length;r++){var n=s[r],a=n.getSnapshot;n=n.value;try{if(!xr(a(),n))return!1}catch(o){return!1}}}if(s=t.child,16384&t.subtreeFlags&&null!==s)s.return=t,t=s;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)&&(2===(t=kc(e,r))&&(0!==(i=jt(e))&&(r=i,t=hc(e,i))),1===t))throw s=Wl,jc(e,0),fc(e,r),pc(e,nt()),s;switch(e.finishedWork=n,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Ac(e,Yl,Xl);break;case 3:if(fc(e,r),(130023424&r)===r&&10<(t=Jl+500-nt())){if(0!==yt(e,0))break;if(((n=e.suspendedLanes)&r)!==r){cc(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=pn(Ac.bind(null,e,Yl,Xl),t);break}Ac(e,Yl,Xl);break;case 4:if(fc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,n=-1;0<r;){var o=31-mt(r);i=1<<o,(o=t[o])>n&&(n=o),r&=~i}if(r=n,10<(r=(120>(r=nt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ll(r/1960))-r)){e.timeoutHandle=pn(Ac.bind(null,e,Yl,Xl),r);break}Ac(e,Yl,Xl);break;default:throw Error(a(329))}}}return pc(e,nt()),e.callbackNode===s?mc.bind(null,e):null}function hc(e,t){var s=$l;return e.current.memoizedState.isDehydrated&&(jc(e,t).flags|=256),2!==(e=kc(e,t))&&(t=Yl,Yl=s,null!==t&&xc(t)),e}function xc(e){null===Yl?Yl=e:Yl.push.apply(Yl,e)}function fc(e,t){for(t&=~Kl,t&=~Gl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-mt(t),r=1<<s;e[s]=-1,t&=~r}}function gc(e){if(0!==(6&Ol))throw Error(a(327));Tc();var t=yt(e,0);if(0===(1&t))return pc(e,nt()),null;var s=kc(e,t);if(0!==e.tag&&2===s){var r=jt(e);0!==r&&(t=r,s=hc(e,r))}if(1===s)throw s=Wl,jc(e,0),fc(e,t),pc(e,nt()),s;if(6===s)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ac(e,Yl,Xl),pc(e,nt()),null}function bc(e,t){var s=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=s)&&(Ql=nt()+500,$n&&Qn())}}function yc(e){null!==rc&&0===rc.tag&&0===(6&Ol)&&Tc();var t=Ol;Ol|=1;var s=Dl.transition,r=Ct;try{if(Dl.transition=null,Ct=1,e)return e()}finally{Ct=r,Dl.transition=s,0===(6&(Ol=t))&&Qn()}}function vc(){Bl=Vl.current,Fn(Vl)}function jc(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(-1!==s&&(e.timeoutHandle=-1,mn(s)),null!==Ul)for(s=Ul.return;null!==s;){var r=s;switch(da(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Vn();break;case 3:ai(),Fn(Mn),Fn(On),ui();break;case 5:oi(r);break;case 4:ai();break;case 13:case 19:Fn(li);break;case 10:Da(r.type._context);break;case 22:case 23:vc()}s=s.return}if(Ml=e,Ul=e=Vc(e.current,null),zl=Bl=t,Hl=0,Wl=null,Kl=Gl=ql=0,Yl=$l=null,null!==za){for(t=0;t<za.length;t++)if(null!==(r=(s=za[t]).interleaved)){s.interleaved=null;var n=r.next,a=s.pending;if(null!==a){var i=a.next;a.next=n,r.next=i}s.pending=r}za=null}return e}function wc(e,t){for(;;){var s=Ul;try{if(Ra(),pi.current=io,bi){for(var r=xi.memoizedState;null!==r;){var n=r.queue;null!==n&&(n.pending=null),r=r.next}bi=!1}if(hi=0,gi=fi=xi=null,yi=!1,vi=0,Rl.current=null,null===s||null===s.return){Hl=1,Wl=t,Ul=null;break}e:{var i=e,o=s.return,l=s,c=t;if(t=zl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=ko(o);if(null!==h){h.flags&=-257,So(h,o,l,0,t),1&h.mode&&_o(i,d,t),c=d;var x=(t=h).updateQueue;if(null===x){var f=new Set;f.add(c),t.updateQueue=f}else x.add(c);break e}if(0===(1&t)){_o(i,d,t),_c();break e}c=Error(a(426))}else if(ma&&1&l.mode){var g=ko(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),So(g,o,l,0,t),Na(bo(c,l));break e}}i=c=bo(c,l),4!==Hl&&(Hl=2),null===$l?$l=[i]:$l.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Ja(i,wo(0,c,t));break e;case 1:l=c;var b=i.type,y=i.stateNode;if(0===(128&i.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===tc||!tc.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t,Ja(i,No(i,l,t));break e}}i=i.return}while(null!==i)}Pc(s)}catch(v){t=v,Ul===s&&null!==s&&(Ul=s=s.return);continue}break}}function Nc(){var e=Fl.current;return Fl.current=io,null===e?io:e}function _c(){0!==Hl&&3!==Hl&&2!==Hl||(Hl=4),null===Ml||0===(268435455&ql)&&0===(268435455&Gl)||fc(Ml,zl)}function kc(e,t){var s=Ol;Ol|=2;var r=Nc();for(Ml===e&&zl===t||(Xl=null,jc(e,t));;)try{Sc();break}catch(Ve){wc(e,Ve)}if(Ra(),Ol=s,Fl.current=r,null!==Ul)throw Error(a(261));return Ml=null,zl=0,Hl}function Sc(){for(;null!==Ul;)Ec(Ul)}function Cc(){for(;null!==Ul&&!st();)Ec(Ul)}function Ec(e){var t=Il(e.alternate,e,Bl);e.memoizedProps=e.pendingProps,null===t?Pc(e):Ul=t,Rl.current=null}function Pc(e){var t=e;do{var s=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(s=sl(s,t,Bl)))return void(Ul=s)}else{if(null!==(s=rl(s,t)))return s.flags&=32767,void(Ul=s);if(null===e)return Hl=6,void(Ul=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ul=t);Ul=t=e}while(null!==t);0===Hl&&(Hl=5)}function Ac(e,t,s){var r=Ct,n=Dl.transition;try{Dl.transition=null,Ct=1,function(e,t,s,r){do{Tc()}while(null!==rc);if(0!==(6&Ol))throw Error(a(327));s=e.finishedWork;var n=e.finishedLanes;if(null===s)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(function(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var n=31-mt(s),a=1<<n;t[n]=0,r[n]=-1,e[n]=-1,s&=~a}}(e,i),e===Ml&&(Ul=Ml=null,zl=0),0===(2064&s.subtreeFlags)&&0===(2064&s.flags)||sc||(sc=!0,Mc(lt,function(){return Tc(),null})),i=0!==(15990&s.flags),0!==(15990&s.subtreeFlags)||i){i=Dl.transition,Dl.transition=null;var o=Ct;Ct=1;var l=Ol;Ol|=4,Rl.current=null,function(e,t){if(cn=Zt,jr(e=vr())){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(s=(s=e.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(r&&0!==r.rangeCount){s=r.anchorNode;var n=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{s.nodeType,i.nodeType}catch(Ut){s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,p=e,m=null;t:for(;;){for(var h;p!==s||0!==n&&3!==p.nodeType||(l=o+n),p!==i||0!==r&&3!==p.nodeType||(c=o+r),3===p.nodeType&&(o+=p.nodeValue.length),null!==(h=p.firstChild);)m=p,p=h;for(;;){if(p===e)break t;if(m===s&&++d===n&&(l=o),m===i&&++u===r&&(c=o),null!==(h=p.nextSibling))break;m=(p=m).parentNode}p=h}s=-1===l||-1===c?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(dn={focusedElem:e,selectionRange:s},Zt=!1,ol=t;null!==ol;)if(e=(t=ol).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ol=e;else for(;null!==ol;){t=ol;try{var x=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==x){var f=x.memoizedProps,g=x.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?f:uo(t.type,f),g);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(a(163))}}catch(Ut){Lc(t,t.return,Ut)}if(null!==(e=t.sibling)){e.return=t.return,ol=e;break}ol=t.return}x=dl,dl=!1}(e,s),kl(s,e),wr(dn),Zt=!!cn,dn=cn=null,e.current=s,Cl(s,e,n),rt(),Ol=l,Ct=o,Dl.transition=i}else e.current=s;if(sc&&(sc=!1,rc=e,nc=n),i=e.pendingLanes,0===i&&(tc=null),function(e){if(pt&&"function"===typeof pt.onCommitFiberRoot)try{pt.onCommitFiberRoot(ut,e,void 0,128===(128&e.current.flags))}catch(t){}}(s.stateNode),pc(e,nt()),null!==t)for(r=e.onRecoverableError,s=0;s<t.length;s++)n=t[s],r(n.value,{componentStack:n.stack,digest:n.digest});if(Zl)throw Zl=!1,e=ec,ec=null,e;0!==(1&nc)&&0!==e.tag&&Tc(),i=e.pendingLanes,0!==(1&i)?e===ic?ac++:(ac=0,ic=e):ac=0,Qn()}(e,t,s,r)}finally{Dl.transition=n,Ct=r}return null}function Tc(){if(null!==rc){var e=Et(nc),t=Dl.transition,s=Ct;try{if(Dl.transition=null,Ct=16>e?16:e,null===rc)var r=!1;else{if(e=rc,rc=null,nc=0,0!==(6&Ol))throw Error(a(331));var n=Ol;for(Ol|=4,ol=e.current;null!==ol;){var i=ol,o=i.child;if(0!==(16&ol.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(ol=d;null!==ol;){var u=ol;switch(u.tag){case 0:case 11:case 15:ul(8,u,i)}var p=u.child;if(null!==p)p.return=u,ol=p;else for(;null!==ol;){var m=(u=ol).sibling,h=u.return;if(hl(u),u===d){ol=null;break}if(null!==m){m.return=h,ol=m;break}ol=h}}}var x=i.alternate;if(null!==x){var f=x.child;if(null!==f){x.child=null;do{var g=f.sibling;f.sibling=null,f=g}while(null!==f)}}ol=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,ol=o;else e:for(;null!==ol;){if(0!==(2048&(i=ol).flags))switch(i.tag){case 0:case 11:case 15:ul(9,i,i.return)}var b=i.sibling;if(null!==b){b.return=i.return,ol=b;break e}ol=i.return}}var y=e.current;for(ol=y;null!==ol;){var v=(o=ol).child;if(0!==(2064&o.subtreeFlags)&&null!==v)v.return=o,ol=v;else e:for(o=y;null!==ol;){if(0!==(2048&(l=ol).flags))try{switch(l.tag){case 0:case 11:case 15:pl(9,l)}}catch(w){Lc(l,l.return,w)}if(l===o){ol=null;break e}var j=l.sibling;if(null!==j){j.return=l.return,ol=j;break e}ol=l.return}}if(Ol=n,Qn(),pt&&"function"===typeof pt.onPostCommitFiberRoot)try{pt.onPostCommitFiberRoot(ut,e)}catch(w){}r=!0}return r}finally{Ct=s,Dl.transition=t}}return!1}function Ic(e,t,s){e=$a(e,t=wo(0,t=bo(s,t),1),1),t=cc(),null!==e&&(kt(e,1,t),pc(e,t))}function Lc(e,t,s){if(3===e.tag)Ic(e,e,s);else for(;null!==t;){if(3===t.tag){Ic(t,e,s);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===tc||!tc.has(r))){t=$a(t,e=No(t,e=bo(s,e),1),1),e=cc(),null!==t&&(kt(t,1,e),pc(t,e));break}}t=t.return}}function Fc(e,t,s){var r=e.pingCache;null!==r&&r.delete(t),t=cc(),e.pingedLanes|=e.suspendedLanes&s,Ml===e&&(zl&s)===s&&(4===Hl||3===Hl&&(130023424&zl)===zl&&500>nt()-Jl?jc(e,0):Kl|=s),pc(e,t)}function Rc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=gt,0===(130023424&(gt<<=1))&&(gt=4194304)));var s=cc();null!==(e=Ha(e,t))&&(kt(e,t,s),pc(e,s))}function Dc(e){var t=e.memoizedState,s=0;null!==t&&(s=t.retryLane),Rc(e,s)}function Oc(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,n=e.memoizedState;null!==n&&(s=n.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Rc(e,s)}function Mc(e,t){return Qe(e,t)}function Uc(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zc(e,t,s,r){return new Uc(e,t,s,r)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vc(e,t){var s=e.alternate;return null===s?((s=zc(e.tag,t,e.key,e.mode)).elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=14680064&e.flags,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Hc(e,t,s,r,n,i){var o=2;if(r=e,"function"===typeof e)Bc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Wc(s.children,n,i,t);case _:o=8,n|=8;break;case k:return(e=zc(12,s,t,2|n)).elementType=k,e.lanes=i,e;case P:return(e=zc(13,s,t,n)).elementType=P,e.lanes=i,e;case A:return(e=zc(19,s,t,n)).elementType=A,e.lanes=i,e;case L:return qc(s,n,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case C:o=9;break e;case E:o=11;break e;case T:o=14;break e;case I:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=zc(o,s,t,n)).elementType=e,t.type=r,t.lanes=i,t}function Wc(e,t,s,r){return(e=zc(7,e,r,t)).lanes=s,e}function qc(e,t,s,r){return(e=zc(22,e,r,t)).elementType=L,e.lanes=s,e.stateNode={isHidden:!1},e}function Gc(e,t,s){return(e=zc(6,e,null,t)).lanes=s,e}function Kc(e,t,s){return(t=zc(4,null!==e.children?e.children:[],e.key,t)).lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $c(e,t,s,r,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_t(0),this.expirationTimes=_t(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_t(0),this.identifierPrefix=r,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Yc(e,t,s,r,n,a,i,o,l){return e=new $c(e,t,s,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=zc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},qa(a),e}function Jc(e){if(!e)return Dn;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var s=e.type;if(Bn(s))return Wn(e,s,t)}return t}function Qc(e,t,s,r,n,a,i,o,l){return(e=Yc(s,r,!0,e,0,a,0,o,l)).context=Jc(null),s=e.current,(a=Ka(r=cc(),n=dc(s))).callback=void 0!==t&&null!==t?t:null,$a(s,a,n),e.current.lanes=n,kt(e,n,r),pc(e,r),e}function Xc(e,t,s,r){var n=t.current,a=cc(),i=dc(n);return s=Jc(s),null===t.context?t.context=s:t.pendingContext=s,(t=Ka(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=$a(n,t,i))&&(uc(e,n,i,a),Ya(e,n,i)),i}function Zc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ed(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var s=e.retryLane;e.retryLane=0!==s&&s<t?s:t}}function td(e,t){ed(e,t),(e=e.alternate)&&ed(e,t)}Il=function(e,t,s){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mn.current)Eo=!0;else{if(0===(e.lanes&s)&&0===(128&t.flags))return Eo=!1,function(e,t,s){switch(t.tag){case 3:Mo(t),wa();break;case 5:ii(t);break;case 1:Bn(t.type)&&qn(t);break;case 4:ni(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,n=t.memoizedProps.value;Rn(Ta,r._currentValue),r._currentValue=n;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Rn(li,1&li.current),t.flags|=128,null):0!==(s&t.child.childLanes)?Go(e,t,s):(Rn(li,1&li.current),null!==(e=Zo(e,t,s))?e.sibling:null);Rn(li,1&li.current);break;case 19:if(r=0!==(s&t.childLanes),0!==(128&e.flags)){if(r)return Qo(e,t,s);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),Rn(li,li.current),r)break;return null;case 22:case 23:return t.lanes=0,Lo(e,t,s)}return Zo(e,t,s)}(e,t,s);Eo=0!==(131072&e.flags)}else Eo=!1,ma&&0!==(1048576&t.flags)&&la(t,ta,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xo(e,t),e=t.pendingProps;var n=zn(t,On.current);Ma(t,s),n=_i(null,t,r,e,n,s);var i=ki();return t.flags|=1,"object"===typeof n&&null!==n&&"function"===typeof n.render&&void 0===n.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bn(r)?(i=!0,qn(t)):i=!1,t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,qa(t),n.updater=mo,t.stateNode=n,n._reactInternals=t,go(t,r,e,s),t=Oo(null,t,r,!0,i,s)):(t.tag=0,ma&&i&&ca(t),Po(null,t,n,s),t=t.child),t;case 16:r=t.elementType;e:{switch(Xo(e,t),e=t.pendingProps,r=(n=r._init)(r._payload),t.type=r,n=t.tag=function(e){if("function"===typeof e)return Bc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===T)return 14}return 2}(r),e=uo(r,e),n){case 0:t=Ro(null,t,r,e,s);break e;case 1:t=Do(null,t,r,e,s);break e;case 11:t=Ao(null,t,r,e,s);break e;case 14:t=To(null,t,r,uo(r.type,e),s);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,n=t.pendingProps,Ro(e,t,r,n=t.elementType===r?n:uo(r,n),s);case 1:return r=t.type,n=t.pendingProps,Do(e,t,r,n=t.elementType===r?n:uo(r,n),s);case 3:e:{if(Mo(t),null===e)throw Error(a(387));r=t.pendingProps,n=(i=t.memoizedState).element,Ga(e,t),Qa(t,r,null,s);var o=t.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Uo(e,t,r,s,n=bo(Error(a(423)),t));break e}if(r!==n){t=Uo(e,t,r,s,n=bo(Error(a(424)),t));break e}for(pa=bn(t.stateNode.containerInfo.firstChild),ua=t,ma=!0,ha=null,s=Aa(t,null,r,s),t.child=s;s;)s.flags=-3&s.flags|4096,s=s.sibling}else{if(wa(),r===n){t=Zo(e,t,s);break e}Po(e,t,r,s)}t=t.child}return t;case 5:return ii(t),null===e&&ba(t),r=t.type,n=t.pendingProps,i=null!==e?e.memoizedProps:null,o=n.children,un(r,n)?o=null:null!==i&&un(r,i)&&(t.flags|=32),Fo(e,t),Po(e,t,o,s),t.child;case 6:return null===e&&ba(t),null;case 13:return Go(e,t,s);case 4:return ni(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Pa(t,null,r,s):Po(e,t,r,s),t.child;case 11:return r=t.type,n=t.pendingProps,Ao(e,t,r,n=t.elementType===r?n:uo(r,n),s);case 7:return Po(e,t,t.pendingProps,s),t.child;case 8:case 12:return Po(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,n=t.pendingProps,i=t.memoizedProps,o=n.value,Rn(Ta,r._currentValue),r._currentValue=o,null!==i)if(xr(i.value,o)){if(i.children===n.children&&!Mn.current){t=Zo(e,t,s);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Ka(-1,s&-s)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=s,null!==(c=i.alternate)&&(c.lanes|=s),Oa(i.return,s,t),l.lanes|=s;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=s,null!==(l=o.alternate)&&(l.lanes|=s),Oa(o,s,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}Po(e,t,n.children,s),t=t.child}return t;case 9:return n=t.type,r=t.pendingProps.children,Ma(t,s),r=r(n=Ua(n)),t.flags|=1,Po(e,t,r,s),t.child;case 14:return n=uo(r=t.type,t.pendingProps),To(e,t,r,n=uo(r.type,n),s);case 15:return Io(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:uo(r,n),Xo(e,t),t.tag=1,Bn(r)?(e=!0,qn(t)):e=!1,Ma(t,s),xo(t,r,n),go(t,r,n,s),Oo(null,t,r,!0,e,s);case 19:return Qo(e,t,s);case 22:return Lo(e,t,s)}throw Error(a(156,t.tag))};var sd="function"===typeof reportError?reportError:function(e){console.error(e)};function rd(e){this._internalRoot=e}function nd(e){this._internalRoot=e}function ad(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function id(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function od(){}function ld(e,t,s,r,n){var a=s._reactRootContainer;if(a){var i=a;if("function"===typeof n){var o=n;n=function(){var e=Zc(i);o.call(e)}}Xc(t,i,e,n)}else i=function(e,t,s,r,n){if(n){if("function"===typeof r){var a=r;r=function(){var e=Zc(i);a.call(e)}}var i=Qc(t,r,e,0,null,!1,0,"",od);return e._reactRootContainer=i,e[Nn]=i.current,Jr(8===e.nodeType?e.parentNode:e),yc(),i}for(;n=e.lastChild;)e.removeChild(n);if("function"===typeof r){var o=r;r=function(){var e=Zc(l);o.call(e)}}var l=Yc(e,0,!1,null,0,!1,0,"",od);return e._reactRootContainer=l,e[Nn]=l.current,Jr(8===e.nodeType?e.parentNode:e),yc(function(){Xc(t,l,s,r)}),l}(s,t,e,n,r);return Zc(i)}nd.prototype.render=rd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Xc(e,t,null,null)},nd.prototype.unmount=rd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;yc(function(){Xc(null,e,null,null)}),t[Nn]=null}},nd.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Vt.length&&0!==t&&t<Vt[s].priority;s++);Vt.splice(s,0,e),0===s&&Gt(e)}},Pt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=bt(t.pendingLanes);0!==s&&(St(t,1|s),pc(t,nt()),0===(6&Ol)&&(Ql=nt()+500,Qn()))}break;case 13:yc(function(){var t=Ha(e,1);if(null!==t){var s=cc();uc(t,e,1,s)}}),td(e,1)}},At=function(e){if(13===e.tag){var t=Ha(e,134217728);if(null!==t)uc(t,e,134217728,cc());td(e,134217728)}},Tt=function(e){if(13===e.tag){var t=dc(e),s=Ha(e,t);if(null!==s)uc(s,e,t,cc());td(e,t)}},It=function(){return Ct},Lt=function(e,t){var s=Ct;try{return Ct=e,t()}finally{Ct=s}},je=function(e,t,s){switch(t){case"input":if(X(e,s),t=s.name,"radio"===s.type&&null!=t){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var n=An(r);if(!n)throw Error(a(90));K(r),X(r,n)}}}break;case"textarea":ae(e,s);break;case"select":null!=(t=s.value)&&se(e,!!s.multiple,t,!1)}},Ce=bc,Ee=yc;var cd={usingClientEntryPoint:!1,Events:[En,Pn,An,ke,Se,bc]},dd={findFiberByHostInstance:Cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ud={bundleType:dd.bundleType,version:dd.version,rendererPackageName:dd.rendererPackageName,rendererConfig:dd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:dd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{ut=pd.inject(ud),pt=pd}catch(qe){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cd,t.createPortal=function(e,t){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ad(t))throw Error(a(200));return function(e,t,s){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:s}}(e,t,null,s)},t.createRoot=function(e,t){if(!ad(e))throw Error(a(299));var s=!1,r="",n=sd;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(s=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(n=t.onRecoverableError)),t=Yc(e,1,!1,null,0,s,0,r,n),e[Nn]=t.current,Jr(8===e.nodeType?e.parentNode:e),new rd(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e){return yc(e)},t.hydrate=function(e,t,s){if(!id(t))throw Error(a(200));return ld(null,e,t,!0,s)},t.hydrateRoot=function(e,t,s){if(!ad(e))throw Error(a(405));var r=null!=s&&s.hydratedSources||null,n=!1,i="",o=sd;if(null!==s&&void 0!==s&&(!0===s.unstable_strictMode&&(n=!0),void 0!==s.identifierPrefix&&(i=s.identifierPrefix),void 0!==s.onRecoverableError&&(o=s.onRecoverableError)),t=Qc(t,null,e,1,null!=s?s:null,n,0,i,o),e[Nn]=t.current,Jr(e),r)for(e=0;e<r.length;e++)n=(n=(s=r[e])._getVersion)(s._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[s,n]:t.mutableSourceEagerHydrationData.push(s,n);return new nd(t)},t.render=function(e,t,s){if(!id(t))throw Error(a(200));return ld(null,e,t,!1,s)},t.unmountComponentAtNode=function(e){if(!id(e))throw Error(a(40));return!!e._reactRootContainer&&(yc(function(){ld(null,null,e,!1,function(){e._reactRootContainer=null,e[Nn]=null})}),!0)},t.unstable_batchedUpdates=bc,t.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!id(s))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ld(e,t,s,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,s)=>{e.exports=s(234)},950:(e,t,s)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(730)}},t={};function s(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,s),a.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;s.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"===typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"===typeof r.then)return r}var a=Object.create(null);s.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&n&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,s.d(a,i),a}})(),s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Ve){if("object"===typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};s.r(r),s.d(r,{hasBrowserEnv:()=>or,hasStandardBrowserEnv:()=>cr,hasStandardBrowserWebWorkerEnv:()=>dr,navigator:()=>lr,origin:()=>ur});var n,a=s(43),i=s.t(a,2),o=s(391);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(n||(n={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Ve){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,s,r){return void 0===s&&(s=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?x(t):t,{state:s,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&"?"!==s&&(t+="?"===s.charAt(0)?s:"?"+s),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function x(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(e,t,s,r){void 0===r&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,u=n.Pop,x=null,f=g();function g(){return(o.state||{idx:null}).idx}function b(){u=n.Pop;let e=g(),t=null==e?null:e-f;f=e,x&&x({action:u,location:v.location,delta:t})}function y(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,s="string"===typeof e?e:h(e);return s=s.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+s),new URL(s,t)}null==f&&(f=0,o.replaceState(l({},o.state,{idx:f}),""));let v={get action(){return u},get location(){return e(a,o)},listen(e){if(x)throw new Error("A history only accepts one active listener");return a.addEventListener(c,b),x=e,()=>{a.removeEventListener(c,b),x=null}},createHref:e=>t(a,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u=n.Push;let r=m(v.location,e,t);s&&s(r,e),f=g()+1;let l=p(r,f),c=v.createHref(r);try{o.pushState(l,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;a.location.assign(c)}i&&x&&x({action:u,location:v.location,delta:1})},replace:function(e,t){u=n.Replace;let r=m(v.location,e,t);s&&s(r,e),f=g();let a=p(r,f),l=v.createHref(r);o.replaceState(a,"",l),i&&x&&x({action:u,location:v.location,delta:0})},go:e=>o.go(e)};return v}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,s){return void 0===s&&(s="/"),y(e,t,s,!1)}function y(e,t,s,r){let n=L(("string"===typeof t?x(t):t).pathname||"/",s);if(null==n)return null;let a=v(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let s=e.length===t.length&&e.slice(0,-1).every((e,s)=>e===t[s]);return s?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let o=0;null==i&&o<a.length;++o){let e=I(n);i=A(a[o],e,r)}return i}function v(e,t,s,r){void 0===t&&(t=[]),void 0===s&&(s=[]),void 0===r&&(r="");let n=(e,n,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:n,route:e};i.relativePath.startsWith("/")&&(d(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let o=M([r,i.relativePath]),l=s.concat(i);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),v(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:P(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var s;if(""!==e.path&&null!=(s=e.path)&&s.includes("?"))for(let r of j(e.path))n(e,t,r);else n(e,t)}),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[s,...r]=t,n=s.endsWith("?"),a=s.replace(/\?$/,"");if(0===r.length)return n?[a,""]:[a];let i=j(r.join("/")),o=[];return o.push(...i.map(e=>""===e?a:[a,e].join("/"))),n&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const w=/^:[\w-]+$/,N=3,_=2,k=1,S=10,C=-2,E=e=>"*"===e;function P(e,t){let s=e.split("/"),r=s.length;return s.some(E)&&(r+=C),t&&(r+=_),s.filter(e=>!E(e)).reduce((e,t)=>e+(w.test(t)?N:""===t?k:S),r)}function A(e,t,s){void 0===s&&(s=!1);let{routesMeta:r}=e,n={},a="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",d=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&s&&!r[r.length-1].route.index&&(d=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(n,d.params),i.push({params:n,pathname:M([a,d.pathname]),pathnameBase:U(M([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=M([a,d.pathnameBase]))}return i}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=function(e,t,s){void 0===t&&(t=!1);void 0===s&&(s=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,s)=>(r.push({paramName:t,isOptional:null!=s}),s?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))");let a=new RegExp(n,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),n=t.match(s);if(!n)return null;let a=n[0],i=a.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:r.reduce((e,t,s)=>{let{paramName:r,isOptional:n}=t;if("*"===r){let e=o[s]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[s];return e[r]=n&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:i,pattern:e}}function I(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&"/"!==r?null:e.slice(s)||"/"}function F(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+s+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function D(e,t){let s=R(e);return t?s.map((e,t)=>t===s.length-1?e.pathname:e.pathnameBase):s.map(e=>e.pathnameBase)}function O(e,t,s,r){let n;void 0===r&&(r=!1),"string"===typeof e?n=x(e):(n=l({},e),d(!n.pathname||!n.pathname.includes("?"),F("?","pathname","search",n)),d(!n.pathname||!n.pathname.includes("#"),F("#","pathname","hash",n)),d(!n.search||!n.search.includes("#"),F("#","search","hash",n)));let a,i=""===e||""===n.pathname,o=i?"/":n.pathname;if(null==o)a=s;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:s,search:r="",hash:n=""}="string"===typeof e?x(e):e,a=s?s.startsWith("/")?s:function(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?s.length>1&&s.pop():"."!==e&&s.push(e)}),s.length>1?s.join("/"):"/"}(s,t):t;return{pathname:a,search:z(r),hash:B(n)}}(n,a),u=o&&"/"!==o&&o.endsWith("/"),p=(i||"."===o)&&s.endsWith("/");return c.pathname.endsWith("/")||!u&&!p||(c.pathname+="/"),c}const M=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],W=(new Set(H),["get",...H]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},q.apply(this,arguments)}const G=a.createContext(null);const K=a.createContext(null);const $=a.createContext(null);const Y=a.createContext(null);const J=a.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=a.createContext(null);function X(){return null!=a.useContext(Y)}function Z(){return X()||d(!1),a.useContext(Y).location}function ee(e){a.useContext($).static||a.useLayoutEffect(e)}function te(){let{isDataRoute:e}=a.useContext(J);return e?function(){let{router:e}=pe(de.UseNavigateStable),t=he(ue.UseNavigateStable),s=a.useRef(!1);return ee(()=>{s.current=!0}),a.useCallback(function(r,n){void 0===n&&(n={}),s.current&&("number"===typeof r?e.navigate(r):e.navigate(r,q({fromRouteId:t},n)))},[e,t])}():function(){X()||d(!1);let e=a.useContext(G),{basename:t,future:s,navigator:r}=a.useContext($),{matches:n}=a.useContext(J),{pathname:i}=Z(),o=JSON.stringify(D(n,s.v7_relativeSplatPath)),l=a.useRef(!1);return ee(()=>{l.current=!0}),a.useCallback(function(s,n){if(void 0===n&&(n={}),!l.current)return;if("number"===typeof s)return void r.go(s);let a=O(s,JSON.parse(o),i,"path"===n.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:M([t,a.pathname])),(n.replace?r.replace:r.push)(a,n.state,n)},[t,r,o,i,e])}()}function se(){let{matches:e}=a.useContext(J),t=e[e.length-1];return t?t.params:{}}function re(e,t){let{relative:s}=void 0===t?{}:t,{future:r}=a.useContext($),{matches:n}=a.useContext(J),{pathname:i}=Z(),o=JSON.stringify(D(n,r.v7_relativeSplatPath));return a.useMemo(()=>O(e,JSON.parse(o),i,"path"===s),[e,o,i,s])}function ne(e,t,s,r){X()||d(!1);let{navigator:i}=a.useContext($),{matches:o}=a.useContext(J),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let p,m=Z();if(t){var h;let e="string"===typeof t?x(t):t;"/"===u||(null==(h=e.pathname)?void 0:h.startsWith(u))||d(!1),p=e}else p=m;let f=p.pathname||"/",g=f;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=b(e,{pathname:g});let v=ce(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:M([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:M([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,s,r);return t&&v?a.createElement(Y.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:n.Pop}},v):v}function ae(){let e=function(){var e;let t=a.useContext(Q),s=me(ue.UseRouteError),r=he(ue.UseRouteError);if(void 0!==t)return t;return null==(e=s.errors)?void 0:e[r]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),s?a.createElement("pre",{style:n},s):null,null)}const ie=a.createElement(ae,null);class oe extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(J.Provider,{value:this.props.routeContext},a.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:s,children:r}=e,n=a.useContext(G);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),a.createElement(J.Provider,{value:t},r)}function ce(e,t,s,r){var n;if(void 0===t&&(t=[]),void 0===s&&(s=null),void 0===r&&(r=null),null==e){var i;if(!s)return null;if(s.errors)e=s.matches;else{if(!(null!=(i=r)&&i.v7_partialHydration&&0===t.length&&!s.initialized&&s.matches.length>0))return null;e=s.matches}}let o=e,l=null==(n=s)?void 0:n.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||d(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(s&&r&&r.v7_partialHydration)for(let a=0;a<o.length;a++){let e=o[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:r}=s,n=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||n){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,n)=>{let i,d=!1,p=null,m=null;var h;s&&(i=l&&r.route.id?l[r.route.id]:void 0,p=r.route.errorElement||ie,c&&(u<0&&0===n?(h="route-fallback",!1||xe[h]||(xe[h]=!0),d=!0,m=null):u===n&&(d=!0,m=r.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,n+1)),f=()=>{let t;return t=i?p:d?m:r.route.Component?a.createElement(r.route.Component,null):r.route.element?r.route.element:e,a.createElement(le,{match:r,routeContext:{outlet:e,matches:x,isDataRoute:null!=s},children:t})};return s&&(r.route.ErrorBoundary||r.route.errorElement||0===n)?a.createElement(oe,{location:s.location,revalidation:s.revalidation,component:p,error:i,children:f(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):f()},null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function pe(e){let t=a.useContext(G);return t||d(!1),t}function me(e){let t=a.useContext(K);return t||d(!1),t}function he(e){let t=function(){let e=a.useContext(J);return e||d(!1),e}(),s=t.matches[t.matches.length-1];return s.route.id||d(!1),s.route.id}const xe={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function ge(e){let{to:t,replace:s,state:r,relative:n}=e;X()||d(!1);let{future:i,static:o}=a.useContext($),{matches:l}=a.useContext(J),{pathname:c}=Z(),u=te(),p=O(t,D(l,i.v7_relativeSplatPath),c,"path"===n),m=JSON.stringify(p);return a.useEffect(()=>u(JSON.parse(m),{replace:s,state:r,relative:n}),[u,m,n,s,r]),null}function be(e){d(!1)}function ye(e){let{basename:t="/",children:s=null,location:r,navigationType:i=n.Pop,navigator:o,static:l=!1,future:c}=e;X()&&d(!1);let u=t.replace(/^\/*/,"/"),p=a.useMemo(()=>({basename:u,navigator:o,static:l,future:q({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);"string"===typeof r&&(r=x(r));let{pathname:m="/",search:h="",hash:f="",state:g=null,key:b="default"}=r,y=a.useMemo(()=>{let e=L(m,u);return null==e?null:{location:{pathname:e,search:h,hash:f,state:g,key:b},navigationType:i}},[u,m,h,f,g,b,i]);return null==y?null:a.createElement($.Provider,{value:p},a.createElement(Y.Provider,{children:s,value:y}))}function ve(e){let{children:t,location:s}=e;return ne(je(t),s)}new Promise(()=>{});a.Component;function je(e,t){void 0===t&&(t=[]);let s=[];return a.Children.forEach(e,(e,r)=>{if(!a.isValidElement(e))return;let n=[...t,r];if(e.type===a.Fragment)return void s.push.apply(s,je(e.props.children,n));e.type!==be&&d(!1),e.props.index&&e.props.children&&d(!1);let i={id:e.props.id||n.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=je(e.props.children,n)),s.push(i)}),s}var we=s(950),Ne=s.t(we,2);function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},_e.apply(this,arguments)}function ke(e,t){if(null==e)return{};var s,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)s=a[r],t.indexOf(s)>=0||(n[s]=e[s]);return n}function Se(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let r=e[s];return t.concat(Array.isArray(r)?r.map(e=>[s,e]):[[s,r]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Ve){}new Map;const Ee=i.startTransition;Ne.flushSync,i.useId;function Pe(e){let{basename:t,children:s,future:r,window:n}=e,i=a.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:n,v5Compat:!0})&&(o={}),f(function(e,t){let{pathname:s,search:r,hash:n}=e.location;return m("",{pathname:s,search:r,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:h(t)},null,o)));let l=i.current,[c,d]=a.useState({action:l.action,location:l.location}),{v7_startTransition:u}=r||{},p=a.useCallback(e=>{u&&Ee?Ee(()=>d(e)):d(e)},[d,u]);return a.useLayoutEffect(()=>l.listen(p),[l,p]),a.useEffect(()=>fe(r),[r]),a.createElement(ye,{basename:t,children:s,location:c.location,navigationType:c.action,navigator:l,future:r})}const Ae="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=a.forwardRef(function(e,t){let s,{onClick:r,relative:n,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:p,viewTransition:m}=e,x=ke(e,Ce),{basename:f}=a.useContext($),g=!1;if("string"===typeof u&&Te.test(u)&&(s=u,Ae))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),s=L(t.pathname,f);t.origin===e.origin&&null!=s?u=s+t.search+t.hash:g=!0}catch(Ve){}let b=function(e,t){let{relative:s}=void 0===t?{}:t;X()||d(!1);let{basename:r,navigator:n}=a.useContext($),{hash:i,pathname:o,search:l}=re(e,{relative:s}),c=o;return"/"!==r&&(c="/"===o?r:M([r,o])),n.createHref({pathname:c,search:l,hash:i})}(u,{relative:n}),y=function(e,t){let{target:s,replace:r,state:n,preventScrollReset:i,relative:o,viewTransition:l}=void 0===t?{}:t,c=te(),d=Z(),u=re(e,{relative:o});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,s)){t.preventDefault();let s=void 0!==r?r:h(d)===h(u);c(e,{replace:s,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,r,n,s,e,i,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:p,relative:n,viewTransition:m});return a.createElement("a",_e({},x,{href:s||b,onClick:g||i?r:function(e){r&&r(e),e.defaultPrevented||y(e)},ref:t,target:c}))});var Le,Fe;function Re(e){let t=a.useRef(Se(e)),s=a.useRef(!1),r=Z(),n=a.useMemo(()=>function(e,t){let s=Se(e);return t&&t.forEach((e,r)=>{s.has(r)||t.getAll(r).forEach(e=>{s.append(r,e)})}),s}(r.search,s.current?null:t.current),[r.search]),i=te(),o=a.useCallback((e,t)=>{const r=Se("function"===typeof e?e(n):e);s.current=!0,i("?"+r,t)},[i,n]);return[n,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Le||(Le={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Fe||(Fe={}));function De(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function Me(e){var t=function(e,t){if("object"!=Oe(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=Oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Oe(t)?t:t+""}function Ue(e,t,s){return(t=Me(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ze(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function Be(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(s),!0).forEach(function(t){Ue(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ze(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}let Ve={data:""},He=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Ve},We=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,qe=/\/\*[^]*?\*\/|  +/g,Ge=/\n+/g,Ke=(e,t)=>{let s="",r="",n="";for(let a in e){let i=e[a];"@"==a[0]?"i"==a[1]?s=a+" "+i+";":r+="f"==a[1]?Ke(i,a):a+"{"+Ke(i,"k"==a[1]?"":t)+"}":"object"==typeof i?r+=Ke(i,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=i&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=Ke.p?Ke.p(a,i):a+":"+i+";")}return s+(t&&n?t+"{"+n+"}":n)+r},$e={},Ye=e=>{if("object"==typeof e){let t="";for(let s in e)t+=s+Ye(e[s]);return t}return e},Je=(e,t,s,r,n)=>{let a=Ye(e),i=$e[a]||($e[a]=(e=>{let t=0,s=11;for(;t<e.length;)s=101*s+e.charCodeAt(t++)>>>0;return"go"+s})(a));if(!$e[i]){let t=a!==e?e:(e=>{let t,s,r=[{}];for(;t=We.exec(e.replace(qe,""));)t[4]?r.shift():t[3]?(s=t[3].replace(Ge," ").trim(),r.unshift(r[0][s]=r[0][s]||{})):r[0][t[1]]=t[2].replace(Ge," ").trim();return r[0]})(e);$e[i]=Ke(n?{["@keyframes "+i]:t}:t,s?"":"."+i)}let o=s&&$e.g?$e.g:null;return s&&($e.g=$e[i]),((e,t,s,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=s?e+t.data:t.data+e)})($e[i],t,r,o),i};function Qe(e){let t=this||{},s=e.call?e(t.p):e;return Je(s.unshift?s.raw?((e,t,s)=>e.reduce((e,r,n)=>{let a=t[n];if(a&&a.call){let e=a(s),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":Ke(e,""):!1===e?"":e}return e+r+(null==a?"":a)},""))(s,[].slice.call(arguments,1),t.p):s.reduce((e,s)=>Object.assign(e,s&&s.call?s(t.p):s),{}):s,He(t.target),t.g,t.o,t.k)}Qe.bind({g:1});let Xe,Ze,et,tt=Qe.bind({k:1});function st(e,t){let s=this||{};return function(){let r=arguments;function n(a,i){let o=Object.assign({},a),l=o.className||n.className;s.p=Object.assign({theme:Ze&&Ze()},o),s.o=/ *go\d+/.test(l),o.className=Qe.apply(s,r)+(l?" "+l:""),t&&(o.ref=i);let c=e;return e[0]&&(c=o.as||e,delete o.as),et&&c[0]&&et(o),Xe(c,o)}return t?t(n):n}}var rt,nt,at,it,ot,lt,ct,dt,ut,pt,mt,ht,xt,ft,gt,bt,yt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,vt=(()=>{let e=0;return()=>(++e).toString()})(),jt=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),wt="default",Nt=(e,t)=>{let{toastLimit:s}=e.settings;switch(t.type){case 0:return Be(Be({},e),{},{toasts:[t.toast,...e.toasts].slice(0,s)});case 1:return Be(Be({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?Be(Be({},e),t.toast):e)});case 2:let{toast:r}=t;return Nt(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return Be(Be({},e),{},{toasts:e.toasts.map(e=>e.id===n||void 0===n?Be(Be({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?Be(Be({},e),{},{toasts:[]}):Be(Be({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return Be(Be({},e),{},{pausedAt:t.time});case 6:let a=t.time-(e.pausedAt||0);return Be(Be({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>Be(Be({},e),{},{pauseDuration:e.pauseDuration+a}))})}},_t=[],kt={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},St={},Ct=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wt;St[t]=Nt(St[t]||kt,e),_t.forEach(e=>{let[s,r]=e;s===t&&r(St[t])})},Et=e=>Object.keys(St).forEach(t=>Ct(e,t)),Pt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt;return t=>{Ct(t,e)}},At={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Tt=e=>(t,s)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",s=arguments.length>2?arguments[2]:void 0;return Be(Be({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},s),{},{id:(null==s?void 0:s.id)||vt()})}(t,e,s);return Pt(r.toasterId||(e=>Object.keys(St).find(t=>St[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},It=(e,t)=>Tt("blank")(e,t);It.error=Tt("error"),It.success=Tt("success"),It.loading=Tt("loading"),It.custom=Tt("custom"),It.dismiss=(e,t)=>{let s={type:3,toastId:e};t?Pt(t)(s):Et(s)},It.dismissAll=e=>It.dismiss(void 0,e),It.remove=(e,t)=>{let s={type:4,toastId:e};t?Pt(t)(s):Et(s)},It.removeAll=e=>It.remove(void 0,e),It.promise=(e,t,s)=>{let r=It.loading(t.loading,Be(Be({},s),null==s?void 0:s.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let n=t.success?yt(t.success,e):void 0;return n?It.success(n,Be(Be({id:r},s),null==s?void 0:s.success)):It.dismiss(r),e}).catch(e=>{let n=t.error?yt(t.error,e):void 0;n?It.error(n,Be(Be({id:r},s),null==s?void 0:s.error)):It.dismiss(r)}),e};var Lt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:s,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wt,[s,r]=(0,a.useState)(St[t]||kt),n=(0,a.useRef)(St[t]);(0,a.useEffect)(()=>(n.current!==St[t]&&r(St[t]),_t.push([t,r]),()=>{let e=_t.findIndex(e=>{let[s]=e;return s===t});e>-1&&_t.splice(e,1)}),[t]);let i=s.toasts.map(t=>{var s,r,n;return Be(Be(Be(Be({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(s=e[t.type])?void 0:s.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||At[t.type],style:Be(Be(Be({},e.style),null==(n=e[t.type])?void 0:n.style),t.style)})});return Be(Be({},s),{},{toasts:i})}(e,t),n=(0,a.useRef)(new Map).current,i=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(n.has(e))return;let s=setTimeout(()=>{n.delete(e),o({type:4,toastId:e})},t);n.set(e,s)},[]);(0,a.useEffect)(()=>{if(r)return;let e=Date.now(),n=s.map(s=>{if(s.duration===1/0)return;let r=(s.duration||0)+s.pauseDuration-(e-s.createdAt);if(!(r<0))return setTimeout(()=>It.dismiss(s.id,t),r);s.visible&&It.dismiss(s.id)});return()=>{n.forEach(e=>e&&clearTimeout(e))}},[s,r,t]);let o=(0,a.useCallback)(Pt(t),[t]),l=(0,a.useCallback)(()=>{o({type:5,time:Date.now()})},[o]),c=(0,a.useCallback)((e,t)=>{o({type:1,toast:{id:e,height:t}})},[o]),d=(0,a.useCallback)(()=>{r&&o({type:6,time:Date.now()})},[r,o]),u=(0,a.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:n=8,defaultPosition:a}=t||{},i=s.filter(t=>(t.position||a)===(e.position||a)&&t.height),o=i.findIndex(t=>t.id===e.id),l=i.filter((e,t)=>t<o&&e.visible).length;return i.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+n,0)},[s]);return(0,a.useEffect)(()=>{s.forEach(e=>{if(e.dismissed)i(e.id,e.removeDelay);else{let t=n.get(e.id);t&&(clearTimeout(t),n.delete(e.id))}})},[s,i]),{toasts:s,handlers:{updateHeight:c,startPause:l,endPause:d,calculateOffset:u}}},Ft=tt(rt||(rt=De(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Rt=tt(nt||(nt=De(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Dt=tt(at||(at=De(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Ot=st("div")(it||(it=De(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",Ft,Rt,e=>e.secondary||"#fff",Dt),Mt=tt(ot||(ot=De(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Ut=st("div")(lt||(lt=De(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Mt),zt=tt(ct||(ct=De(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Bt=tt(dt||(dt=De(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Vt=st("div")(ut||(ut=De(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",zt,Bt,e=>e.secondary||"#fff"),Ht=st("div")(pt||(pt=De(["\n  position: absolute;\n"]))),Wt=st("div")(mt||(mt=De(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),qt=tt(ht||(ht=De(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Gt=st("div")(xt||(xt=De(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),qt),Kt=e=>{let{toast:t}=e,{icon:s,type:r,iconTheme:n}=t;return void 0!==s?"string"==typeof s?a.createElement(Gt,null,s):s:"blank"===r?null:a.createElement(Wt,null,a.createElement(Ut,Be({},n)),"loading"!==r&&a.createElement(Ht,null,"error"===r?a.createElement(Ot,Be({},n)):a.createElement(Vt,Be({},n))))},$t=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Yt=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Jt=st("div")(ft||(ft=De(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Qt=st("div")(gt||(gt=De(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Xt=a.memo(e=>{let{toast:t,position:s,style:r,children:n}=e,i=t.height?((e,t)=>{let s=e.includes("top")?1:-1,[r,n]=jt()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[$t(s),Yt(s)];return{animation:t?"".concat(tt(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(tt(n)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||s||"top-center",t.visible):{opacity:0},o=a.createElement(Kt,{toast:t}),l=a.createElement(Qt,Be({},t.ariaProps),yt(t.message,t));return a.createElement(Jt,{className:t.className,style:Be(Be(Be({},i),r),t.style)},"function"==typeof n?n({icon:o,message:l}):a.createElement(a.Fragment,null,o,l))});!function(e,t,s,r){Ke.p=t,Xe=e,Ze=s,et=r}(a.createElement);var Zt=e=>{let{id:t,className:s,style:r,onHeightUpdate:n,children:i}=e,o=a.useCallback(e=>{if(e){let s=()=>{let s=e.getBoundingClientRect().height;n(t,s)};s(),new MutationObserver(s).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return a.createElement("div",{ref:o,className:s,style:r},i)},es=Qe(bt||(bt=De(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),ts=e=>{let{reverseOrder:t,position:s="top-center",toastOptions:r,gutter:n,children:i,toasterId:o,containerStyle:l,containerClassName:c}=e,{toasts:d,handlers:u}=Lt(r,o);return a.createElement("div",{"data-rht-toaster":o||"",style:Be({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:u.startPause,onMouseLeave:u.endPause},d.map(e=>{let r=e.position||s,o=((e,t)=>{let s=e.includes("top"),r=s?{top:0}:{bottom:0},n=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return Be(Be({left:0,right:0,display:"flex",position:"absolute",transition:jt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(s?1:-1),"px)")},r),n)})(r,u.calculateOffset(e,{reverseOrder:t,gutter:n,defaultPosition:s}));return a.createElement(Zt,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?es:"",style:o},"custom"===e.type?yt(e.message,e):i?i(e):a.createElement(Xt,{toast:e,position:r}))}))};function ss(e,t){return function(){return e.apply(t,arguments)}}const{toString:rs}=Object.prototype,{getPrototypeOf:ns}=Object,{iterator:as,toStringTag:is}=Symbol,os=(ls=Object.create(null),e=>{const t=rs.call(e);return ls[t]||(ls[t]=t.slice(8,-1).toLowerCase())});var ls;const cs=e=>(e=e.toLowerCase(),t=>os(t)===e),ds=e=>t=>typeof t===e,{isArray:us}=Array,ps=ds("undefined");function ms(e){return null!==e&&!ps(e)&&null!==e.constructor&&!ps(e.constructor)&&fs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const hs=cs("ArrayBuffer");const xs=ds("string"),fs=ds("function"),gs=ds("number"),bs=e=>null!==e&&"object"===typeof e,ys=e=>{if("object"!==os(e))return!1;const t=ns(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(is in e)&&!(as in e)},vs=cs("Date"),js=cs("File"),ws=cs("Blob"),Ns=cs("FileList"),_s=cs("URLSearchParams"),[ks,Ss,Cs,Es]=["ReadableStream","Request","Response","Headers"].map(cs);function Ps(e,t){let s,r,{allOwnKeys:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),us(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{if(ms(e))return;const r=n?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let i;for(s=0;s<a;s++)i=r[s],t.call(null,e[i],i,e)}}function As(e,t){if(ms(e))return null;t=t.toLowerCase();const s=Object.keys(e);let r,n=s.length;for(;n-- >0;)if(r=s[n],t===r.toLowerCase())return r;return null}const Ts="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Is=e=>!ps(e)&&e!==Ts;const Ls=(Fs="undefined"!==typeof Uint8Array&&ns(Uint8Array),e=>Fs&&e instanceof Fs);var Fs;const Rs=cs("HTMLFormElement"),Ds=(e=>{let{hasOwnProperty:t}=e;return(e,s)=>t.call(e,s)})(Object.prototype),Os=cs("RegExp"),Ms=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};Ps(s,(s,n)=>{let a;!1!==(a=t(s,n,e))&&(r[n]=a||s)}),Object.defineProperties(e,r)};const Us=cs("AsyncFunction"),zs=((e,t)=>{return e?setImmediate:t?(s="axios@".concat(Math.random()),r=[],Ts.addEventListener("message",e=>{let{source:t,data:n}=e;t===Ts&&n===s&&r.length&&r.shift()()},!1),e=>{r.push(e),Ts.postMessage(s,"*")}):e=>setTimeout(e);var s,r})("function"===typeof setImmediate,fs(Ts.postMessage)),Bs="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Ts):"undefined"!==typeof process&&process.nextTick||zs,Vs={isArray:us,isArrayBuffer:hs,isBuffer:ms,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||fs(e.append)&&("formdata"===(t=os(e))||"object"===t&&fs(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&hs(e.buffer),t},isString:xs,isNumber:gs,isBoolean:e=>!0===e||!1===e,isObject:bs,isPlainObject:ys,isEmptyObject:e=>{if(!bs(e)||ms(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Ve){return!1}},isReadableStream:ks,isRequest:Ss,isResponse:Cs,isHeaders:Es,isUndefined:ps,isDate:vs,isFile:js,isBlob:ws,isRegExp:Os,isFunction:fs,isStream:e=>bs(e)&&fs(e.pipe),isURLSearchParams:_s,isTypedArray:Ls,isFileList:Ns,forEach:Ps,merge:function e(){const{caseless:t,skipUndefined:s}=Is(this)&&this||{},r={},n=(n,a)=>{const i=t&&As(r,a)||a;ys(r[i])&&ys(n)?r[i]=e(r[i],n):ys(n)?r[i]=e({},n):us(n)?r[i]=n.slice():s&&ps(n)||(r[i]=n)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Ps(arguments[a],n);return r},extend:function(e,t,s){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ps(t,(t,r)=>{s&&fs(t)?e[r]=ss(t,s):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},toFlatObject:(e,t,s,r)=>{let n,a,i;const o={};if(t=t||{},null==e)return t;do{for(n=Object.getOwnPropertyNames(e),a=n.length;a-- >0;)i=n[a],r&&!r(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==s&&ns(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},kindOf:os,kindOfTest:cs,endsWith:(e,t,s)=>{e=String(e),(void 0===s||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return-1!==r&&r===s},toArray:e=>{if(!e)return null;if(us(e))return e;let t=e.length;if(!gs(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},forEachEntry:(e,t)=>{const s=(e&&e[as]).call(e);let r;for(;(r=s.next())&&!r.done;){const s=r.value;t.call(e,s[0],s[1])}},matchAll:(e,t)=>{let s;const r=[];for(;null!==(s=e.exec(t));)r.push(s);return r},isHTMLForm:Rs,hasOwnProperty:Ds,hasOwnProp:Ds,reduceDescriptors:Ms,freezeMethods:e=>{Ms(e,(t,s)=>{if(fs(e)&&-1!==["arguments","caller","callee"].indexOf(s))return!1;const r=e[s];fs(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")}))})},toObjectSet:(e,t)=>{const s={},r=e=>{e.forEach(e=>{s[e]=!0})};return us(e)?r(e):r(String(e).split(t)),s},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,s){return t.toUpperCase()+s}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:As,global:Ts,isContextDefined:Is,isSpecCompliantForm:function(e){return!!(e&&fs(e.append)&&"FormData"===e[is]&&e[as])},toJSONObject:e=>{const t=new Array(10),s=(e,r)=>{if(bs(e)){if(t.indexOf(e)>=0)return;if(ms(e))return e;if(!("toJSON"in e)){t[r]=e;const n=us(e)?[]:{};return Ps(e,(e,t)=>{const a=s(e,r+1);!ps(a)&&(n[t]=a)}),t[r]=void 0,n}}return e};return s(e,0)},isAsyncFn:Us,isThenable:e=>e&&(bs(e)||fs(e))&&fs(e.then)&&fs(e.catch),setImmediate:zs,asap:Bs,isIterable:e=>null!=e&&fs(e[as])};function Hs(e,t,s,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}Vs.inherits(Hs,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Vs.toJSONObject(this.config),code:this.code,status:this.status}}});const Ws=Hs.prototype,qs={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{qs[e]={value:e}}),Object.defineProperties(Hs,qs),Object.defineProperty(Ws,"isAxiosError",{value:!0}),Hs.from=(e,t,s,r,n,a)=>{const i=Object.create(Ws);Vs.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return Hs.call(i,o,l,s,r,n),e&&null==i.cause&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",a&&Object.assign(i,a),i};const Gs=Hs;function Ks(e){return Vs.isPlainObject(e)||Vs.isArray(e)}function $s(e){return Vs.endsWith(e,"[]")?e.slice(0,-2):e}function Ys(e,t,s){return e?e.concat(t).map(function(e,t){return e=$s(e),!s&&t?"["+e+"]":e}).join(s?".":""):t}const Js=Vs.toFlatObject(Vs,{},null,function(e){return/^is[A-Z]/.test(e)});const Qs=function(e,t,s){if(!Vs.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(s=Vs.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Vs.isUndefined(t[e])})).metaTokens,n=s.visitor||c,a=s.dots,i=s.indexes,o=(s.Blob||"undefined"!==typeof Blob&&Blob)&&Vs.isSpecCompliantForm(t);if(!Vs.isFunction(n))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Vs.isDate(e))return e.toISOString();if(Vs.isBoolean(e))return e.toString();if(!o&&Vs.isBlob(e))throw new Gs("Blob is not supported. Use a Buffer instead.");return Vs.isArrayBuffer(e)||Vs.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,s,n){let o=e;if(e&&!n&&"object"===typeof e)if(Vs.endsWith(s,"{}"))s=r?s:s.slice(0,-2),e=JSON.stringify(e);else if(Vs.isArray(e)&&function(e){return Vs.isArray(e)&&!e.some(Ks)}(e)||(Vs.isFileList(e)||Vs.endsWith(s,"[]"))&&(o=Vs.toArray(e)))return s=$s(s),o.forEach(function(e,r){!Vs.isUndefined(e)&&null!==e&&t.append(!0===i?Ys([s],r,a):null===i?s:s+"[]",l(e))}),!1;return!!Ks(e)||(t.append(Ys(n,s,a),l(e)),!1)}const d=[],u=Object.assign(Js,{defaultVisitor:c,convertValue:l,isVisitable:Ks});if(!Vs.isObject(e))throw new TypeError("data must be an object");return function e(s,r){if(!Vs.isUndefined(s)){if(-1!==d.indexOf(s))throw Error("Circular reference detected in "+r.join("."));d.push(s),Vs.forEach(s,function(s,a){!0===(!(Vs.isUndefined(s)||null===s)&&n.call(t,s,Vs.isString(a)?a.trim():a,r,u))&&e(s,r?r.concat(a):[a])}),d.pop()}}(e),t};function Xs(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Zs(e,t){this._pairs=[],e&&Qs(e,this,t)}const er=Zs.prototype;er.append=function(e,t){this._pairs.push([e,t])},er.toString=function(e){const t=e?function(t){return e.call(this,t,Xs)}:Xs;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const tr=Zs;function sr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function rr(e,t,s){if(!t)return e;const r=s&&s.encode||sr;Vs.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let a;if(a=n?n(t,s):Vs.isURLSearchParams(t)?t.toString():new tr(t,s).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const nr=class{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!s&&s.synchronous,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Vs.forEach(this.handlers,function(t){null!==t&&e(t)})}},ar={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ir={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:tr,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},or="undefined"!==typeof window&&"undefined"!==typeof document,lr="object"===typeof navigator&&navigator||void 0,cr=or&&(!lr||["ReactNative","NativeScript","NS"].indexOf(lr.product)<0),dr="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ur=or&&window.location.href||"http://localhost",pr=Be(Be({},r),ir);const mr=function(e){function t(e,s,r,n){let a=e[n++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),o=n>=e.length;if(a=!a&&Vs.isArray(r)?r.length:a,o)return Vs.hasOwnProp(r,a)?r[a]=[r[a],s]:r[a]=s,!i;r[a]&&Vs.isObject(r[a])||(r[a]=[]);return t(e,s,r[a],n)&&Vs.isArray(r[a])&&(r[a]=function(e){const t={},s=Object.keys(e);let r;const n=s.length;let a;for(r=0;r<n;r++)a=s[r],t[a]=e[a];return t}(r[a])),!i}if(Vs.isFormData(e)&&Vs.isFunction(e.entries)){const s={};return Vs.forEachEntry(e,(e,r)=>{t(function(e){return Vs.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,s,0)}),s}return null};const hr={transitional:ar,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",r=s.indexOf("application/json")>-1,n=Vs.isObject(e);n&&Vs.isHTMLForm(e)&&(e=new FormData(e));if(Vs.isFormData(e))return r?JSON.stringify(mr(e)):e;if(Vs.isArrayBuffer(e)||Vs.isBuffer(e)||Vs.isStream(e)||Vs.isFile(e)||Vs.isBlob(e)||Vs.isReadableStream(e))return e;if(Vs.isArrayBufferView(e))return e.buffer;if(Vs.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(n){if(s.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Qs(e,new pr.classes.URLSearchParams,Be({visitor:function(e,t,s,r){return pr.isNode&&Vs.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=Vs.isFileList(e))||s.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Qs(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||r?(t.setContentType("application/json",!1),function(e,t,s){if(Vs.isString(e))try{return(t||JSON.parse)(e),Vs.trim(e)}catch(Ve){if("SyntaxError"!==Ve.name)throw Ve}return(s||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||hr.transitional,s=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Vs.isResponse(e)||Vs.isReadableStream(e))return e;if(e&&Vs.isString(e)&&(s&&!this.responseType||r)){const s=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(Ve){if(s){if("SyntaxError"===Ve.name)throw Gs.from(Ve,Gs.ERR_BAD_RESPONSE,this,null,this.response);throw Ve}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pr.classes.FormData,Blob:pr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Vs.forEach(["delete","get","head","post","put","patch"],e=>{hr.headers[e]={}});const xr=hr,fr=Vs.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gr=Symbol("internals");function br(e){return e&&String(e).trim().toLowerCase()}function yr(e){return!1===e||null==e?e:Vs.isArray(e)?e.map(yr):String(e)}function vr(e,t,s,r,n){return Vs.isFunction(r)?r.call(this,t,s):(n&&(t=s),Vs.isString(t)?Vs.isString(r)?-1!==t.indexOf(r):Vs.isRegExp(r)?r.test(t):void 0:void 0)}class jr{constructor(e){e&&this.set(e)}set(e,t,s){const r=this;function n(e,t,s){const n=br(t);if(!n)throw new Error("header name must be a non-empty string");const a=Vs.findKey(r,n);(!a||void 0===r[a]||!0===s||void 0===s&&!1!==r[a])&&(r[a||t]=yr(e))}const a=(e,t)=>Vs.forEach(e,(e,s)=>n(e,s,t));if(Vs.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Vs.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let s,r,n;return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),s=e.substring(0,n).trim().toLowerCase(),r=e.substring(n+1).trim(),!s||t[s]&&fr[s]||("set-cookie"===s?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t})(e),t);else if(Vs.isObject(e)&&Vs.isIterable(e)){let s,r,n={};for(const t of e){if(!Vs.isArray(t))throw TypeError("Object iterator must return a key-value pair");n[r=t[0]]=(s=n[r])?Vs.isArray(s)?[...s,t[1]]:[s,t[1]]:t[1]}a(n,t)}else null!=e&&n(t,e,s);return this}get(e,t){if(e=br(e)){const s=Vs.findKey(this,e);if(s){const e=this[s];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}(e);if(Vs.isFunction(t))return t.call(this,e,s);if(Vs.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=br(e)){const s=Vs.findKey(this,e);return!(!s||void 0===this[s]||t&&!vr(0,this[s],s,t))}return!1}delete(e,t){const s=this;let r=!1;function n(e){if(e=br(e)){const n=Vs.findKey(s,e);!n||t&&!vr(0,s[n],n,t)||(delete s[n],r=!0)}}return Vs.isArray(e)?e.forEach(n):n(e),r}clear(e){const t=Object.keys(this);let s=t.length,r=!1;for(;s--;){const n=t[s];e&&!vr(0,this[n],n,e,!0)||(delete this[n],r=!0)}return r}normalize(e){const t=this,s={};return Vs.forEach(this,(r,n)=>{const a=Vs.findKey(s,n);if(a)return t[a]=yr(r),void delete t[n];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}(n):String(n).trim();i!==n&&delete t[n],t[i]=yr(r),s[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Vs.forEach(this,(s,r)=>{null!=s&&!1!==s&&(t[r]=e&&Vs.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,s]=e;return t+": "+s}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var s=arguments.length,r=new Array(s>1?s-1:0),n=1;n<s;n++)r[n-1]=arguments[n];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[gr]=this[gr]={accessors:{}}).accessors,s=this.prototype;function r(e){const r=br(e);t[r]||(!function(e,t){const s=Vs.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(e,s,n){return this[r].call(this,t,e,s,n)},configurable:!0})})}(s,e),t[r]=!0)}return Vs.isArray(e)?e.forEach(r):r(e),this}}jr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Vs.reduceDescriptors(jr.prototype,(e,t)=>{let{value:s}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(e){this[r]=e}}}),Vs.freezeMethods(jr);const wr=jr;function Nr(e,t){const s=this||xr,r=t||s,n=wr.from(r.headers);let a=r.data;return Vs.forEach(e,function(e){a=e.call(s,a,n.normalize(),t?t.status:void 0)}),n.normalize(),a}function _r(e){return!(!e||!e.__CANCEL__)}function kr(e,t,s){Gs.call(this,null==e?"canceled":e,Gs.ERR_CANCELED,t,s),this.name="CanceledError"}Vs.inherits(kr,Gs,{__CANCEL__:!0});const Sr=kr;function Cr(e,t,s){const r=s.config.validateStatus;s.status&&r&&!r(s.status)?t(new Gs("Request failed with status code "+s.status,[Gs.ERR_BAD_REQUEST,Gs.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)):e(s)}const Er=function(e,t){e=e||10;const s=new Array(e),r=new Array(e);let n,a=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[i];n||(n=l),s[a]=o,r[a]=l;let d=i,u=0;for(;d!==a;)u+=s[d++],d%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),l-n<t)return;const p=c&&l-c;return p?Math.round(1e3*u/p):void 0}};const Pr=function(e,t){let s,r,n=0,a=1e3/t;const i=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();n=a,s=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-n;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=a?i(l,e):(s=l,r||(r=setTimeout(()=>{r=null,i(s)},a-t)))},()=>s&&i(s)]},Ar=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const n=Er(50,250);return Pr(s=>{const a=s.loaded,i=s.lengthComputable?s.total:void 0,o=a-r,l=n(o);r=a;e({loaded:a,total:i,progress:i?a/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&a<=i?(i-a)/l:void 0,event:s,lengthComputable:null!=i,[t?"download":"upload"]:!0})},s)},Tr=(e,t)=>{const s=null!=e;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},Ir=e=>function(){for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return Vs.asap(()=>e(...s))},Lr=pr.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,pr.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(pr.origin),pr.navigator&&/(msie|trident)/i.test(pr.navigator.userAgent)):()=>!0,Fr=pr.hasStandardBrowserEnv?{write(e,t,s,r,n,a){const i=[e+"="+encodeURIComponent(t)];Vs.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),Vs.isString(r)&&i.push("path="+r),Vs.isString(n)&&i.push("domain="+n),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Rr(e,t,s){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==s)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Dr=e=>e instanceof wr?Be({},e):e;function Or(e,t){t=t||{};const s={};function r(e,t,s,r){return Vs.isPlainObject(e)&&Vs.isPlainObject(t)?Vs.merge.call({caseless:r},e,t):Vs.isPlainObject(t)?Vs.merge({},t):Vs.isArray(t)?t.slice():t}function n(e,t,s,n){return Vs.isUndefined(t)?Vs.isUndefined(e)?void 0:r(void 0,e,0,n):r(e,t,0,n)}function a(e,t){if(!Vs.isUndefined(t))return r(void 0,t)}function i(e,t){return Vs.isUndefined(t)?Vs.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(s,n,a){return a in t?r(s,n):a in e?r(void 0,s):void 0}const l={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,s)=>n(Dr(e),Dr(t),0,!0)};return Vs.forEach(Object.keys(Be(Be({},e),t)),function(r){const a=l[r]||n,i=a(e[r],t[r],r);Vs.isUndefined(i)&&a!==o||(s[r]=i)}),s}const Mr=e=>{const t=Or({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:a,headers:i,auth:o}=t;if(t.headers=i=wr.from(i),t.url=rr(Rr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Vs.isFormData(s))if(pr.hasStandardBrowserEnv||pr.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Vs.isFunction(s.getHeaders)){const e=s.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[s,r]=e;t.includes(s.toLowerCase())&&i.set(s,r)})}if(pr.hasStandardBrowserEnv&&(r&&Vs.isFunction(r)&&(r=r(t)),r||!1!==r&&Lr(t.url))){const e=n&&a&&Fr.read(a);e&&i.set(n,e)}return t},Ur="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,s){const r=Mr(e);let n=r.data;const a=wr.from(r.headers).normalize();let i,o,l,c,d,{responseType:u,onUploadProgress:p,onDownloadProgress:m}=r;function h(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let x=new XMLHttpRequest;function f(){if(!x)return;const r=wr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders());Cr(function(e){t(e),h()},function(e){s(e),h()},{data:u&&"text"!==u&&"json"!==u?x.response:x.responseText,status:x.status,statusText:x.statusText,headers:r,config:e,request:x}),x=null}x.open(r.method.toUpperCase(),r.url,!0),x.timeout=r.timeout,"onloadend"in x?x.onloadend=f:x.onreadystatechange=function(){x&&4===x.readyState&&(0!==x.status||x.responseURL&&0===x.responseURL.indexOf("file:"))&&setTimeout(f)},x.onabort=function(){x&&(s(new Gs("Request aborted",Gs.ECONNABORTED,e,x)),x=null)},x.onerror=function(t){const r=t&&t.message?t.message:"Network Error",n=new Gs(r,Gs.ERR_NETWORK,e,x);n.event=t||null,s(n),x=null},x.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const n=r.transitional||ar;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),s(new Gs(t,n.clarifyTimeoutError?Gs.ETIMEDOUT:Gs.ECONNABORTED,e,x)),x=null},void 0===n&&a.setContentType(null),"setRequestHeader"in x&&Vs.forEach(a.toJSON(),function(e,t){x.setRequestHeader(t,e)}),Vs.isUndefined(r.withCredentials)||(x.withCredentials=!!r.withCredentials),u&&"json"!==u&&(x.responseType=r.responseType),m&&([l,d]=Ar(m,!0),x.addEventListener("progress",l)),p&&x.upload&&([o,c]=Ar(p),x.upload.addEventListener("progress",o),x.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(i=t=>{x&&(s(!t||t.type?new Sr(null,e,x):t),x.abort(),x=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===pr.protocols.indexOf(g)?s(new Gs("Unsupported protocol "+g+":",Gs.ERR_BAD_REQUEST,e)):x.send(n||null)})},zr=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let s,r=new AbortController;const n=function(e){if(!s){s=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Gs?t:new Sr(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,n(new Gs("timeout ".concat(t," of ms exceeded"),Gs.ETIMEDOUT))},t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(n):e.removeEventListener("abort",n)}),e=null)};e.forEach(e=>e.addEventListener("abort",n));const{signal:o}=r;return o.unsubscribe=()=>Vs.asap(i),o}};function Br(e,t){this.v=e,this.k=t}function Vr(e){return function(){return new Hr(e.apply(this,arguments))}}function Hr(e){var t,s;function r(t,s){try{var a=e[t](s),i=a.value,o=i instanceof Br;Promise.resolve(o?i.v:i).then(function(s){if(o){var l="return"===t?"return":"next";if(!i.k||s.done)return r(l,s);s=e[l](s).value}n(a.done?"return":"normal",s)},function(e){r("throw",e)})}catch(e){n("throw",e)}}function n(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?r(t.key,t.arg):s=null}this._invoke=function(e,n){return new Promise(function(a,i){var o={key:e,arg:n,resolve:a,reject:i,next:null};s?s=s.next=o:(t=s=o,r(e,n))})},"function"!=typeof e.return&&(this.return=void 0)}function Wr(e){return new Br(e,0)}function qr(e){var t={},s=!1;function r(t,r){return s=!0,r=new Promise(function(s){s(e[t](r))}),{done:!1,value:new Br(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return s?(s=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(s)throw s=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return s?(s=!1,e):r("return",e)}),t}function Gr(e){var t,s,r,n=2;for("undefined"!=typeof Symbol&&(s=Symbol.asyncIterator,r=Symbol.iterator);n--;){if(s&&null!=(t=e[s]))return t.call(e);if(r&&null!=(t=e[r]))return new Kr(t.call(e));s="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Kr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Kr=function(e){this.s=e,this.n=e.next},Kr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var s=this.s.return;return void 0===s?Promise.resolve({value:e,done:!0}):t(s.apply(this.s,arguments))},throw:function(e){var s=this.s.return;return void 0===s?Promise.reject(e):t(s.apply(this.s,arguments))}},new Kr(e)}Hr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Hr.prototype.next=function(e){return this._invoke("next",e)},Hr.prototype.throw=function(e){return this._invoke("throw",e)},Hr.prototype.return=function(e){return this._invoke("return",e)};const $r=function*(e,t){let s=e.byteLength;if(!t||s<t)return void(yield e);let r,n=0;for(;n<s;)r=n+t,yield e.slice(n,r),n=r},Yr=function(){var e=Vr(function*(e,t){var s,r=!1,n=!1;try{for(var a,i=Gr(Jr(e));r=!(a=yield Wr(i.next())).done;r=!1){const e=a.value;yield*qr(Gr($r(e,t)))}}catch(o){n=!0,s=o}finally{try{r&&null!=i.return&&(yield Wr(i.return()))}finally{if(n)throw s}}});return function(t,s){return e.apply(this,arguments)}}(),Jr=function(){var e=Vr(function*(e){if(e[Symbol.asyncIterator])return void(yield*qr(Gr(e)));const t=e.getReader();try{for(;;){const{done:e,value:s}=yield Wr(t.read());if(e)break;yield s}}finally{yield Wr(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Qr=(e,t,s,r)=>{const n=Yr(e,t);let a,i=0,o=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await n.next();if(t)return o(),void e.close();let a=r.byteLength;if(s){let e=i+=a;s(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),n.return())},{highWaterMark:2})},{isFunction:Xr}=Vs,Zr=(e=>{let{Request:t,Response:s}=e;return{Request:t,Response:s}})(Vs.global),{ReadableStream:en,TextEncoder:tn}=Vs.global,sn=function(e){try{for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];return!!e(...s)}catch(Ve){return!1}},rn=e=>{e=Vs.merge.call({skipUndefined:!0},Zr,e);const{fetch:t,Request:s,Response:r}=e,n=t?Xr(t):"function"===typeof fetch,a=Xr(s),i=Xr(r);if(!n)return!1;const o=n&&Xr(en),l=n&&("function"===typeof tn?(c=new tn,e=>c.encode(e)):async e=>new Uint8Array(await new s(e).arrayBuffer()));var c;const d=a&&o&&sn(()=>{let e=!1;const t=new s(pr.origin,{body:new en,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=i&&o&&sn(()=>Vs.isReadableStream(new r("").body)),p={stream:u&&(e=>e.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!p[e]&&(p[e]=(t,s)=>{let r=t&&t[e];if(r)return r.call(t);throw new Gs("Response type '".concat(e,"' is not supported"),Gs.ERR_NOT_SUPPORT,s)})});const m=async(e,t)=>{const r=Vs.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Vs.isBlob(e))return e.size;if(Vs.isSpecCompliantForm(e)){const t=new s(pr.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Vs.isArrayBufferView(e)||Vs.isArrayBuffer(e)?e.byteLength:(Vs.isURLSearchParams(e)&&(e+=""),Vs.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:n,method:i,data:o,signal:l,cancelToken:c,timeout:h,onDownloadProgress:x,onUploadProgress:f,responseType:g,headers:b,withCredentials:y="same-origin",fetchOptions:v}=Mr(e),j=t||fetch;g=g?(g+"").toLowerCase():"text";let w=zr([l,c&&c.toAbortSignal()],h),N=null;const _=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let k;try{if(f&&d&&"get"!==i&&"head"!==i&&0!==(k=await m(b,o))){let e,t=new s(n,{method:"POST",body:o,duplex:"half"});if(Vs.isFormData(o)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,s]=Tr(k,Ar(Ir(f)));o=Qr(t.body,65536,e,s)}}Vs.isString(y)||(y=y?"include":"omit");const t=a&&"credentials"in s.prototype,l=Be(Be({},v),{},{signal:w,method:i.toUpperCase(),headers:b.normalize().toJSON(),body:o,duplex:"half",credentials:t?y:void 0});N=a&&new s(n,l);let c=await(a?j(N,v):j(n,l));const h=u&&("stream"===g||"response"===g);if(u&&(x||h&&_)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=Vs.toFiniteNumber(c.headers.get("content-length")),[s,n]=x&&Tr(t,Ar(Ir(x),!0))||[];c=new r(Qr(c.body,65536,s,()=>{n&&n(),_&&_()}),e)}g=g||"text";let S=await p[Vs.findKey(p,g)||"text"](c,e);return!h&&_&&_(),await new Promise((t,s)=>{Cr(t,s,{data:S,headers:wr.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:N})})}catch(S){if(_&&_(),S&&"TypeError"===S.name&&/Load failed|fetch/i.test(S.message))throw Object.assign(new Gs("Network Error",Gs.ERR_NETWORK,e,N),{cause:S.cause||S});throw Gs.from(S,S&&S.code,e,N)}}},nn=new Map,an=e=>{let t=e?e.env:{};const{fetch:s,Request:r,Response:n}=t,a=[r,n,s];let i,o,l=a.length,c=nn;for(;l--;)i=a[l],o=c.get(i),void 0===o&&c.set(i,o=l?new Map:rn(t)),c=o;return o},on=(an(),{http:null,xhr:Ur,fetch:{get:an}});Vs.forEach(on,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Ve){}Object.defineProperty(e,"adapterName",{value:t})}});const ln=e=>"- ".concat(e),cn=e=>Vs.isFunction(e)||null===e||!1===e,dn=(e,t)=>{e=Vs.isArray(e)?e:[e];const{length:s}=e;let r,n;const a={};for(let i=0;i<s;i++){let s;if(r=e[i],n=r,!cn(r)&&(n=on[(s=String(r)).toLowerCase()],void 0===n))throw new Gs("Unknown adapter '".concat(s,"'"));if(n&&(Vs.isFunction(n)||(n=n.get(t))))break;a[s||"#"+i]=n}if(!n){const e=Object.entries(a).map(e=>{let[t,s]=e;return"adapter ".concat(t," ")+(!1===s?"is not supported by the environment":"is not available in the build")});let t=s?e.length>1?"since :\n"+e.map(ln).join("\n"):" "+ln(e[0]):"as no adapter specified";throw new Gs("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return n};function un(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Sr(null,e)}function pn(e){un(e),e.headers=wr.from(e.headers),e.data=Nr.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return dn(e.adapter||xr.adapter,e)(e).then(function(t){return un(e),t.data=Nr.call(e,e.transformResponse,t),t.headers=wr.from(t.headers),t},function(t){return _r(t)||(un(e),t&&t.response&&(t.response.data=Nr.call(e,e.transformResponse,t.response),t.response.headers=wr.from(t.response.headers))),Promise.reject(t)})}const mn="1.12.2",hn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{hn[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const xn={};hn.transitional=function(e,t,s){function r(e,t){return"[Axios v"+mn+"] Transitional option '"+e+"'"+t+(s?". "+s:"")}return(s,n,a)=>{if(!1===e)throw new Gs(r(n," has been removed"+(t?" in "+t:"")),Gs.ERR_DEPRECATED);return t&&!xn[n]&&(xn[n]=!0,console.warn(r(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(s,n,a)}},hn.spelling=function(e){return(t,s)=>(console.warn("".concat(s," is likely a misspelling of ").concat(e)),!0)};const fn={assertOptions:function(e,t,s){if("object"!==typeof e)throw new Gs("options must be an object",Gs.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let n=r.length;for(;n-- >0;){const a=r[n],i=t[a];if(i){const t=e[a],s=void 0===t||i(t,a,e);if(!0!==s)throw new Gs("option "+a+" must be "+s,Gs.ERR_BAD_OPTION_VALUE);continue}if(!0!==s)throw new Gs("Unknown option "+a,Gs.ERR_BAD_OPTION)}},validators:hn},gn=fn.validators;class bn{constructor(e){this.defaults=e||{},this.interceptors={request:new nr,response:new nr}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{s.stack?t&&!String(s.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(s.stack+="\n"+t):s.stack=t}catch(Ve){}}throw s}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Or(this.defaults,t);const{transitional:s,paramsSerializer:r,headers:n}=t;void 0!==s&&fn.assertOptions(s,{silentJSONParsing:gn.transitional(gn.boolean),forcedJSONParsing:gn.transitional(gn.boolean),clarifyTimeoutError:gn.transitional(gn.boolean)},!1),null!=r&&(Vs.isFunction(r)?t.paramsSerializer={serialize:r}:fn.assertOptions(r,{encode:gn.function,serialize:gn.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),fn.assertOptions(t,{baseUrl:gn.spelling("baseURL"),withXsrfToken:gn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=n&&Vs.merge(n.common,n[t.method]);n&&Vs.forEach(["delete","get","head","post","put","patch","common"],e=>{delete n[e]}),t.headers=wr.concat(a,n);const i=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[pn.bind(this),void 0];for(e.unshift(...i),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let p=t;for(;u<d;){const e=i[u++],t=i[u++];try{p=e(p)}catch(m){t.call(this,m);break}}try{c=pn.call(this,p)}catch(m){return Promise.reject(m)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return rr(Rr((e=Or(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Vs.forEach(["delete","get","head","options"],function(e){bn.prototype[e]=function(t,s){return this.request(Or(s||{},{method:e,url:t,data:(s||{}).data}))}}),Vs.forEach(["post","put","patch"],function(e){function t(t){return function(s,r,n){return this.request(Or(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:s,data:r}))}}bn.prototype[e]=t(),bn.prototype[e+"Form"]=t(!0)});const yn=bn;class vn{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const s=this;this.promise.then(e=>{if(!s._listeners)return;let t=s._listeners.length;for(;t-- >0;)s._listeners[t](e);s._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{s.subscribe(e),t=e}).then(e);return r.cancel=function(){s.unsubscribe(t)},r},e(function(e,r,n){s.reason||(s.reason=new Sr(e,r,n),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new vn(function(t){e=t});return{token:t,cancel:e}}}const jn=vn;const wn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wn).forEach(e=>{let[t,s]=e;wn[s]=t});const Nn=wn;const _n=function e(t){const s=new yn(t),r=ss(yn.prototype.request,s);return Vs.extend(r,yn.prototype,s,{allOwnKeys:!0}),Vs.extend(r,s,null,{allOwnKeys:!0}),r.create=function(s){return e(Or(t,s))},r}(xr);_n.Axios=yn,_n.CanceledError=Sr,_n.CancelToken=jn,_n.isCancel=_r,_n.VERSION=mn,_n.toFormData=Qs,_n.AxiosError=Gs,_n.Cancel=_n.CanceledError,_n.all=function(e){return Promise.all(e)},_n.spread=function(e){return function(t){return e.apply(null,t)}},_n.isAxiosError=function(e){return Vs.isObject(e)&&!0===e.isAxiosError},_n.mergeConfig=Or,_n.AxiosHeaders=wr,_n.formToJSON=e=>mr(Vs.isHTMLForm(e)?new FormData(e):e),_n.getAdapter=dn,_n.HttpStatusCode=Nn,_n.default=_n;const kn=_n,Sn="https://getnayi.mycartly.in",Cn=kn.create({baseURL:Sn,withCredentials:!0,headers:{"Content-Type":"application/json"},timeout:1e4});Cn.interceptors.request.use(e=>{var t;const s=localStorage.getItem("auth_token");return s?e.headers.Authorization="Bearer ".concat(s):!e.url||e.url.includes("/api/me")||e.url.includes("/api/auth/")||console.warn("[API] No auth token found for request: ".concat(e.url)),null!==(t=e.url)&&void 0!==t&&t.includes("approve")&&(console.log("=== APPROVE REQUEST DEBUG ==="),console.log("URL:",e.url),console.log("Method:",e.method),console.log("Data (before transform):",e.data),console.log("Data type:",typeof e.data),console.log("Headers:",JSON.stringify(e.headers,null,2)),console.log("===========================")),e},e=>(console.error("Request error:",e),Promise.reject(e))),Cn.interceptors.response.use(e=>{var t,s;if((null===(t=e.config)||void 0===t||null===(s=t.url)||void 0===s?void 0:s.includes("/api/me"))||console.log("Response received:",e.status,e.config.url),e.data&&!1===e.data.ok){const t=new Error(e.data.error||"Request failed");return t.response=Be(Be({},e),{},{data:e.data}),Promise.reject(t)}return e},e=>{var t,s,r,n;const a=null===(t=e.config)||void 0===t||null===(s=t.url)||void 0===s?void 0:s.includes("/api/me");var i,o;401===(null===(r=e.response)||void 0===r?void 0:r.status)&&a||console.error("Response error:",null===(i=e.response)||void 0===i?void 0:i.status,null===(o=e.config)||void 0===o?void 0:o.url,e.message);if(e.response){if(401===e.response.status)a&&(e.isExpected=!0);else if(e.response.status>=500){var l,c;e.message=(null===(l=e.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.error)||"Server error. Please try again later."}}else e.message="Network error. Please check your internet connection.",e.code="NETWORK_ERROR";return null!==(n=e.response)&&void 0!==n&&n.data?Promise.reject(Be(Be({},e),{},{response:Be(Be({},e.response),{},{data:e.response.data})})):Promise.reject(e)});const En=async(e,t,s,r)=>(await Cn.post("/api/auth/signup",{onboardingToken:e,username:t,full_name:s,preferences:r})).data,Pn=async()=>(await Cn.get("/api/me")).data,An=async()=>{const e=await Cn.post("/api/auth/logout");return localStorage.removeItem("auth_token"),e.data},Tn=async e=>(await Cn.post("/api/auth/google",{idToken:e})).data,In=async(e,t,s,r)=>(await Cn.post("/api/auth/google/signup",{idToken:e,username:t,full_name:s,preferences:r})).data,Ln=async()=>(await Cn.get("/api/categories")).data,Fn=async()=>(await Cn.get("/api/admin/categories")).data,Rn=async e=>(await Cn.post("/api/admin/categories",e)).data,Dn=async(e,t)=>(await Cn.put("/api/admin/categories/".concat(e),t)).data,On=async e=>(await Cn.post("/api/providers",e)).data,Mn=async e=>(await Cn.put("/api/providers/me",e)).data,Un=async()=>(await Cn.get("/api/providers/me")).data,zn=async e=>(await Cn.get("/api/providers/".concat(e))).data,Bn=async()=>(await Cn.get("/api/providers/request-status")).data,Vn=async e=>{const t=new FormData;t.append("video",e);const s=localStorage.getItem("auth_token"),r={"Content-Type":"multipart/form-data"};s&&(r.Authorization="Bearer ".concat(s));return(await kn.post("".concat(Sn,"/api/upload/video"),t,{withCredentials:!0,headers:r,timeout:3e5,onUploadProgress:e=>{const t=Math.round(100*e.loaded/e.total);console.log("Upload progress: ".concat(t,"%"))}})).data},Hn=async e=>{const t=new FormData;t.append("image",e);const s=localStorage.getItem("auth_token"),r={"Content-Type":"multipart/form-data"};s&&(r.Authorization="Bearer ".concat(s));return(await kn.post("".concat(Sn,"/api/upload/image"),t,{withCredentials:!0,headers:r,timeout:12e4,onUploadProgress:e=>{const t=Math.round(100*e.loaded/e.total);console.log("Image upload progress: ".concat(t,"%"))}})).data},Wn=async e=>(await Cn.post("/api/videos",e)).data,qn=async(e,t)=>(await Cn.put("/api/videos/".concat(e),t)).data,Gn=async e=>(await Cn.delete("/api/videos/".concat(e))).data,Kn=async e=>(await Cn.post("/api/listings",e)).data,$n=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await Cn.get("/api/listings",{params:e})).data},Yn=async()=>(await Cn.get("/api/listings/my")).data,Jn=async e=>(await Cn.post("/api/listings/".concat(e,"/like"))).data,Qn=async e=>(await Cn.delete("/api/listings/".concat(e,"/like"))).data,Xn=async e=>(await Cn.get("/api/listings/".concat(e,"/like/status"))).data,Zn=async e=>(await Cn.post("/api/listings/".concat(e,"/love"))).data,ea=async e=>(await Cn.delete("/api/listings/".concat(e,"/love"))).data,ta=async e=>(await Cn.get("/api/listings/".concat(e,"/love/status"))).data,sa=async e=>(await Cn.post("/api/listings/".concat(e,"/click"))).data,ra=async()=>(await Cn.get("/api/subscription/status")).data,na=async()=>(await Cn.get("/api/subscription/plans")).data,aa=async e=>(await Cn.post("/api/subscription/coupons/validate",e)).data,ia=async e=>(await Cn.post("/api/subscription/payment/create-order",e)).data,oa=async e=>(await Cn.post("/api/subscription/payment/verify",e)).data,la=async()=>(await Cn.get("/api/wishlist")).data,ca=async e=>(await Cn.post("/api/wishlist/".concat(e))).data,da=async e=>(await Cn.delete("/api/wishlist/".concat(e))).data,ua={follow:async e=>(await Cn.post("/api/users/".concat(e,"/follow"))).data,unfollow:async e=>(await Cn.delete("/api/users/".concat(e,"/follow"))).data,getFollowStatus:async e=>(await Cn.get("/api/users/".concat(e,"/follow/status"))).data,getFollowers:async e=>(await Cn.get("/api/users/".concat(e,"/followers"))).data,getFollowing:async e=>(await Cn.get("/api/users/".concat(e,"/following"))).data,getProfile:async()=>(await Cn.get("/api/user/profile")).data,getProfileByUsername:async e=>(await Cn.get("/api/profile/".concat(e))).data,updateProfile:async e=>(await Cn.put("/api/user/profile",e)).data,submitVideoUploadRequest:async e=>(await Cn.post("/api/video-upload-request",e)).data,submitPromotion:async e=>(await Cn.post("/api/promotion-submission",e)).data,getPromotionSubmissions:async()=>(await Cn.get("/api/promotion-submissions")).data,getMyVideos:async()=>(await Cn.get("/api/videos/my")).data},pa={getFeed:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(await Cn.get("/api/watch/feed",{params:{limit:e,offset:t}})).data},getFeedWithAdminPriority:async function(){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const t={limit:arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,offset:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0};e&&(t.exclude_video_id=e);return(await Cn.get("/api/watch/feed/admin-priority",{params:t})).data},getVideoDetails:async e=>(await Cn.get("/api/watch/".concat(e))).data,engage:async(e,t)=>(await Cn.post("/api/watch/".concat(e,"/engage"),{listing_id:e,action:t})).data,like:async e=>(await Cn.post("/api/watch/".concat(e,"/like"))).data,unlike:async e=>(await Cn.delete("/api/watch/".concat(e,"/like"))).data,getLikeStatus:async e=>(await Cn.get("/api/watch/".concat(e,"/like/status"))).data,getLoveStatus:async e=>(await Cn.get("/api/watch/".concat(e,"/love/status"))).data,love:async e=>await pa.engage(e,"love"),view:async e=>await pa.engage(e,"view"),click:async e=>await pa.engage(e,"click"),getVideosByProvider:async e=>(await Cn.get("/api/watch/provider/".concat(e,"/videos"))).data,getProductsByProvider:async e=>(await Cn.get("/api/watch/provider/".concat(e,"/products"))).data},ma=async()=>(await Cn.get("/api/admin/dashboard")).data,ha=async e=>(await Cn.get("/api/admin/users/search",{params:{q:e}})).data,xa=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"30d";return(await Cn.get("/api/admin/reports",{params:{date_range:e}})).data},fa=async()=>(await Cn.get("/api/admin/reports/test")).data,ga=async()=>(await Cn.get("/api/admin/reports/simple")).data,ba=async()=>(await Cn.get("/api/admin/settings")).data,ya=async(e,t)=>(await Cn.put("/api/admin/settings/".concat(e),t)).data,va=async e=>(await Cn.post("/api/admin/create-admin",e)).data,ja=async e=>(await Cn.post("/api/admin/roles",e)).data,wa=async(e,t)=>(await Cn.put("/api/admin/roles/".concat(e),t)).data,Na=async e=>(await Cn.delete("/api/admin/roles/".concat(e))).data,_a=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await Cn.get("/api/admin/users",{params:e})).data},ka=async e=>(await Cn.get("/api/admin/users/".concat(e))).data,Sa=async(e,t)=>(await Cn.put("/api/admin/users/".concat(e,"/status"),{status:t})).data,Ca=async e=>(await Cn.delete("/api/admin/users/".concat(e))).data,Ea=async(e,t)=>(await Cn.post("/api/admin/users/".concat(e,"/subscription"),{plan_id:t})).data,Pa=async e=>(await Cn.delete("/api/admin/users/".concat(e,"/subscription"))).data,Aa=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await Cn.get("/api/admin/influencers",{params:e})).data},Ta=async e=>(await Cn.get("/api/admin/influencers/".concat(e))).data,Ia=async function(e,t){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const r={action:t,reason:arguments.length>2&&void 0!==arguments[2]?arguments[2]:""};s&&(r.request_id=s);return(await Cn.post("/api/admin/influencers/".concat(e,"/approve"),r)).data},La=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await Cn.get("/api/admin/brands",{params:e})).data},Fa=async e=>(await Cn.get("/api/admin/brands/".concat(e))).data,Ra=async function(e,t){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const r={action:t,reason:arguments.length>2&&void 0!==arguments[2]?arguments[2]:""};s&&(r.request_id=s);return(await Cn.post("/api/admin/brands/".concat(e,"/approve"),r)).data},Da=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(await Cn.post("/api/admin/videos/".concat(e,"/approve"),{action:t,reason:s})).data},Oa=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await Cn.get("/api/admin/videos/admin-videos",{params:e})).data},Ma=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await Cn.get("/api/admin/listings",{params:e})).data},Ua=async e=>(await Cn.get("/api/admin/listings/".concat(e))).data,za=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!t||!["approve","reject"].includes(t))throw new Error("Invalid action: ".concat(t,". Must be 'approve' or 'reject'"));const n={action:t,rejection_reason:s||"",admin_notes:r||""};console.log("Sending approve listing request:",{requestId:e,action:t,payload:n});try{return(await Cn.post("/api/admin/listings/".concat(e,"/approve"),n)).data}catch(a){throw console.error("Error in approveListing:",a),a.config&&(console.error("Request URL:",a.config.url),console.error("Request method:",a.config.method),console.error("Request data:",a.config.data),console.error("Request headers:",a.config.headers)),a}},Ba=async()=>(await Cn.get("/api/admin/subscription-plans")).data,Va=async e=>(await Cn.post("/api/admin/subscription-plans",e)).data,Ha=async(e,t)=>(await Cn.put("/api/admin/subscription-plans/".concat(e),t)).data,Wa=async()=>(await Cn.get("/api/admin/discount-coupons")).data,qa=async e=>(await Cn.post("/api/admin/discount-coupons",e)).data,Ga=async(e,t)=>(await Cn.put("/api/admin/discount-coupons/".concat(e),t)).data,Ka=async()=>(await Cn.get("/api/admin/subscription-transactions")).data,$a=async()=>(await Cn.get("/api/admin/subscription-alerts")).data,Ya=async()=>(await Cn.get("/api/admin/promotion-submissions")).data,Ja=async(e,t)=>(await Cn.post("/api/admin/promotion-submissions/".concat(e,"/review"),t)).data,Qa=async()=>(await Cn.get("/api/admin/promotion-analytics")).data,Xa=async()=>(await Cn.get("/api/admin/payment-transactions")).data,Za=async()=>(await Cn.get("/api/admin/refund-requests")).data,ei=async(e,t)=>(await Cn.post("/api/admin/refund-requests/".concat(e,"/initiate"),t)).data,ti=async(e,t)=>{const s=new URLSearchParams;e&&s.append("type",e),t&&s.append("date",t);return(await Cn.get("/api/admin/revenue-reports?".concat(s.toString()))).data},si=async()=>(await Cn.get("/api/admin/payment-gateway-logs")).data,ri=async()=>(await Cn.get("/api/admin/payment-analytics")).data,ni=async()=>(await Cn.get("/api/admin/notifications/push")).data,ai=async e=>(await Cn.post("/api/admin/notifications/push",e)).data,ii=async()=>(await Cn.get("/api/admin/notifications/email")).data,oi=async e=>(await Cn.post("/api/admin/notifications/email",e)).data,li=async()=>(await Cn.get("/api/admin/support-tickets")).data,ci=async(e,t)=>(await Cn.post("/api/admin/support-tickets/".concat(e,"/reply"),t)).data,di=async()=>(await Cn.get("/api/admin/notifications/analytics")).data,ui=async()=>(await Cn.get("/api/admin/cms/static-pages")).data,pi=async e=>(await Cn.post("/api/admin/cms/static-pages",e)).data,mi=async(e,t)=>(await Cn.put("/api/admin/cms/static-pages/".concat(e),t)).data,hi=async e=>(await Cn.delete("/api/admin/cms/static-pages/".concat(e))).data,xi=async()=>(await Cn.get("/api/admin/cms/faqs")).data,fi=async e=>(await Cn.post("/api/admin/cms/faqs",e)).data,gi=async(e,t)=>(await Cn.put("/api/admin/cms/faqs/".concat(e),t)).data,bi=async e=>(await Cn.delete("/api/admin/cms/faqs/".concat(e))).data,yi=async()=>(await Cn.get("/api/admin/cms/banners")).data,vi=async e=>(await Cn.post("/api/admin/cms/banners",e)).data,ji=async(e,t)=>(await Cn.put("/api/admin/cms/banners/".concat(e),t)).data,wi=async e=>(await Cn.delete("/api/admin/cms/banners/".concat(e))).data,Ni=async()=>(await Cn.get("/api/admin/cms/featured-sections")).data,_i=async e=>(await Cn.post("/api/admin/cms/featured-sections",e)).data,ki=async(e,t)=>(await Cn.put("/api/admin/cms/featured-sections/".concat(e),t)).data,Si=async()=>(await Cn.get("/api/cms/pages")).data,Ci=async e=>(await Cn.get("/api/cms/pages/".concat(e))).data,Ei=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await Cn.get("/api/cms/banners",{params:e})).data},Pi=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(await Cn.get("/api/search/suggestions",{params:{q:e,limit:t}})).data},Ai=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all";return(await Cn.get("/api/search",{params:{q:e,limit:t,type:s}})).data},Ti=Cn;function Ii(e,t){if(null==e)return{};var s,r,n=function(e,t){if(null==e)return{};var s={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;s[r]=e[r]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)s=a[r],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}const Li=function(e){const t=[];let s=0;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<128?t[s++]=n:n<2048?(t[s++]=n>>6|192,t[s++]=63&n|128):55296===(64512&n)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(n=65536+((1023&n)<<10)+(1023&e.charCodeAt(++r)),t[s++]=n>>18|240,t[s++]=n>>12&63|128,t[s++]=n>>6&63|128,t[s++]=63&n|128):(t[s++]=n>>12|224,t[s++]=n>>6&63|128,t[s++]=63&n|128)}return t},Fi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let n=0;n<e.length;n+=3){const t=e[n],a=n+1<e.length,i=a?e[n+1]:0,o=n+2<e.length,l=o?e[n+2]:0,c=t>>2,d=(3&t)<<4|i>>4;let u=(15&i)<<2|l>>6,p=63&l;o||(p=64,a||(u=64)),r.push(s[c],s[d],s[u],s[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Li(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let s=0,r=0;for(;s<e.length;){const n=e[s++];if(n<128)t[r++]=String.fromCharCode(n);else if(n>191&&n<224){const a=e[s++];t[r++]=String.fromCharCode((31&n)<<6|63&a)}else if(n>239&&n<365){const a=((7&n)<<18|(63&e[s++])<<12|(63&e[s++])<<6|63&e[s++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[s++],i=e[s++];t[r++]=String.fromCharCode((15&n)<<12|(63&a)<<6|63&i)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const s=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let n=0;n<e.length;){const t=s[e.charAt(n++)],a=n<e.length?s[e.charAt(n)]:0;++n;const i=n<e.length?s[e.charAt(n)]:64;++n;const o=n<e.length?s[e.charAt(n)]:64;if(++n,null==t||null==a||null==i||null==o)throw new Ri;const l=t<<2|a>>4;if(r.push(l),64!==i){const e=a<<4&240|i>>2;if(r.push(e),64!==o){const e=i<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ri extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Di=function(e){return function(e){const t=Li(e);return Fi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Oi=function(e){try{return Fi.decodeString(e,!0)}catch(Ve){console.error("base64Decode failed: ",Ve)}return null};const Mi=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof s.g)return s.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ui=()=>{try{return Mi()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Ve){return}const t=e&&Oi(e[1]);return t&&JSON.parse(t)})()}catch(Ve){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Ve))}},zi=e=>{var t;return null===(t=Ui())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},Bi=()=>{var e;return null===(e=Ui())||void 0===e?void 0:e.config},Vi=e=>{var t;return null===(t=Ui())||void 0===t?void 0:t["_".concat(e)]};class Hi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,s))}}}function Wi(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}const qi={};let Gi=!1;function Ki(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Wi(window.location.host)||qi[e]===t||qi[e]||Gi)return;function s(e){return"__firebase__banner__".concat(e)}qi[e]=t;const r="__firebase__banner",n=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(qi))qi[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Gi=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function i(){const e=function(e){let t=document.getElementById(e),s=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),s=!0),{created:s,element:t}}(r),t=s("text"),i=document.getElementById(t)||document.createElement("span"),o=s("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=s("preprendIcon"),d=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const s=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(d,c),t.append(d,i,l,s),document.body.appendChild(t)}n?(i.innerText="Preview backend disconnected.",d.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(d.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',i.innerText="Preview backend running in this workspace."),i.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",i):i()}function $i(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Yi(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ji(){try{return"object"===typeof indexedDB}catch(Ve){return!1}}function Qi(){return new Promise((e,t)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(r);n.onsuccess=()=>{n.result.close(),s||self.indexedDB.deleteDatabase(r),e(!0)},n.onupgradeneeded=()=>{s=!1},n.onerror=()=>{var e;t((null===(e=n.error)||void 0===e?void 0:e.message)||"")}}catch(s){t(s)}})}class Xi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name="FirebaseError",Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zi.prototype.create)}}class Zi{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},s="".concat(this.service,"/").concat(e),r=this.errors[e],n=r?function(e,t){return e.replace(eo,(e,s)=>{const r=t[s];return null!=r?String(r):"<".concat(s,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(n," (").concat(s,").");return new Xi(s,a,t)}}const eo=/\{\$([^}]+)}/g;function to(e,t){if(e===t)return!0;const s=Object.keys(e),r=Object.keys(t);for(const n of s){if(!r.includes(n))return!1;const s=e[n],a=t[n];if(so(s)&&so(a)){if(!to(s,a))return!1}else if(s!==a)return!1}for(const n of r)if(!s.includes(n))return!1;return!0}function so(e){return null!==e&&"object"===typeof e}function ro(e){const t=[];for(const[s,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(s)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function no(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[s,r]=e.split("=");t[decodeURIComponent(s)]=decodeURIComponent(r)}}),t}function ao(e){const t=e.indexOf("?");if(!t)return"";const s=e.indexOf("#",t);return e.substring(t,s>0?s:void 0)}class io{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let r;if(void 0===e&&void 0===t&&void 0===s)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const s of t)if(s in e&&"function"===typeof e[s])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:s},void 0===r.next&&(r.next=oo),void 0===r.error&&(r.error=oo),void 0===r.complete&&(r.complete=oo);const n=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Ve){}}),this.observers.push(r),n}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Ve){"undefined"!==typeof console&&console.error&&console.error(Ve)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oo(){}function lo(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const s=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*s*(Math.random()-.5)*2);return Math.min(144e5,s+r)}function co(e){return e&&e._delegate?e._delegate:e}class uo{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const po="[DEFAULT]";class mo{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Hi;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&e.resolve(s)}catch(Ve){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(s)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:s})}catch(Ve){if(r)return null;throw Ve}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:po})}catch(Ve){}for(const[e,t]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:s});t.resolve(e)}catch(Ve){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error("".concat(this.name,"(").concat(s,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[n,a]of this.instancesDeferred.entries()){s===this.normalizeInstanceIdentifier(n)&&a.resolve(r)}return r}onInit(e,t){var s;const r=this.normalizeInstanceIdentifier(t),n=null!==(s=this.onInitCallbacks.get(r))&&void 0!==s?s:new Set;n.add(e),this.onInitCallbacks.set(r,n);const a=this.instances.get(r);return a&&e(a,r),()=>{n.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const n of s)try{n(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:s={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t,n===po?void 0:n),options:s}),this.instances.set(t,r),this.instancesOptions.set(t,s),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var n;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po;return this.component?this.component.multipleInstances?e:po:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ho{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mo(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const xo=[];var fo;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(fo||(fo={}));const go={debug:fo.DEBUG,verbose:fo.VERBOSE,info:fo.INFO,warn:fo.WARN,error:fo.ERROR,silent:fo.SILENT},bo=fo.INFO,yo={[fo.DEBUG]:"log",[fo.VERBOSE]:"log",[fo.INFO]:"info",[fo.WARN]:"warn",[fo.ERROR]:"error"},vo=function(e,t){if(t<e.logLevel)return;const s=(new Date).toISOString(),r=yo[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];console[r]("[".concat(s,"]  ").concat(e.name,":"),...a)};class jo{constructor(e){this.name=e,this._logLevel=bo,this._logHandler=vo,this._userLogHandler=null,xo.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fo))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?go[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._userLogHandler&&this._userLogHandler(this,fo.DEBUG,...t),this._logHandler(this,fo.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._userLogHandler&&this._userLogHandler(this,fo.VERBOSE,...t),this._logHandler(this,fo.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._userLogHandler&&this._userLogHandler(this,fo.INFO,...t),this._logHandler(this,fo.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._userLogHandler&&this._userLogHandler(this,fo.WARN,...t),this._logHandler(this,fo.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._userLogHandler&&this._userLogHandler(this,fo.ERROR,...t),this._logHandler(this,fo.ERROR,...t)}}let wo,No;const _o=new WeakMap,ko=new WeakMap,So=new WeakMap,Co=new WeakMap,Eo=new WeakMap;let Po={get(e,t,s){if(e instanceof IDBTransaction){if("done"===t)return ko.get(e);if("objectStoreNames"===t)return e.objectStoreNames||So.get(e);if("store"===t)return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Io(e[t])},set:(e,t,s)=>(e[t]=s,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ao(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(No||(No=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e.apply(Lo(this),s),Io(_o.get(this))}:function(){for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return Io(e.apply(Lo(this),s))}:function(t){for(var s=arguments.length,r=new Array(s>1?s-1:0),n=1;n<s;n++)r[n-1]=arguments[n];const a=e.call(Lo(this),t,...r);return So.set(a,t.sort?t.sort():[t]),Io(a)}}function To(e){return"function"===typeof e?Ao(e):(e instanceof IDBTransaction&&function(e){if(ko.has(e))return;const t=new Promise((t,s)=>{const r=()=>{e.removeEventListener("complete",n),e.removeEventListener("error",a),e.removeEventListener("abort",a)},n=()=>{t(),r()},a=()=>{s(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",n),e.addEventListener("error",a),e.addEventListener("abort",a)});ko.set(e,t)}(e),t=e,(wo||(wo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Po):e);var t}function Io(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,s)=>{const r=()=>{e.removeEventListener("success",n),e.removeEventListener("error",a)},n=()=>{t(Io(e.result)),r()},a=()=>{s(e.error),r()};e.addEventListener("success",n),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&_o.set(t,e)}).catch(()=>{}),Eo.set(t,e),t}(e);if(Co.has(e))return Co.get(e);const t=To(e);return t!==e&&(Co.set(e,t),Eo.set(t,e)),t}const Lo=e=>Eo.get(e);function Fo(e,t){let{blocked:s,upgrade:r,blocking:n,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=indexedDB.open(e,t),o=Io(i);return r&&i.addEventListener("upgradeneeded",e=>{r(Io(i.result),e.oldVersion,e.newVersion,Io(i.transaction),e)}),s&&i.addEventListener("blocked",e=>s(e.oldVersion,e.newVersion,e)),o.then(e=>{a&&e.addEventListener("close",()=>a()),n&&e.addEventListener("versionchange",e=>n(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}const Ro=["get","getKey","getAll","getAllKeys","count"],Do=["put","add","delete","clear"],Oo=new Map;function Mo(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Oo.get(t))return Oo.get(t);const s=t.replace(/FromIndex$/,""),r=t!==s,n=Do.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!n&&!Ro.includes(s))return;const a=async function(e){const t=this.transaction(e,n?"readwrite":"readonly");let a=t.store;for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return r&&(a=a.index(o.shift())),(await Promise.all([a[s](...o),n&&t.done]))[0]};return Oo.set(t,a),a}Po=(e=>Be(Be({},e),{},{get:(t,s,r)=>Mo(t,s)||e.get(t,s,r),has:(t,s)=>!!Mo(t,s)||e.has(t,s)}))(Po);class Uo{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const zo="@firebase/app",Bo="0.14.6",Vo=new jo("@firebase/app"),Ho="@firebase/app-compat",Wo="@firebase/analytics-compat",qo="@firebase/analytics",Go="@firebase/app-check-compat",Ko="@firebase/app-check",$o="@firebase/auth",Yo="@firebase/auth-compat",Jo="@firebase/database",Qo="@firebase/data-connect",Xo="@firebase/database-compat",Zo="@firebase/functions",el="@firebase/functions-compat",tl="@firebase/installations",sl="@firebase/installations-compat",rl="@firebase/messaging",nl="@firebase/messaging-compat",al="@firebase/performance",il="@firebase/performance-compat",ol="@firebase/remote-config",ll="@firebase/remote-config-compat",cl="@firebase/storage",dl="@firebase/storage-compat",ul="@firebase/firestore",pl="@firebase/ai",ml="@firebase/firestore-compat",hl="firebase",xl="[DEFAULT]",fl={[zo]:"fire-core",[Ho]:"fire-core-compat",[qo]:"fire-analytics",[Wo]:"fire-analytics-compat",[Ko]:"fire-app-check",[Go]:"fire-app-check-compat",[$o]:"fire-auth",[Yo]:"fire-auth-compat",[Jo]:"fire-rtdb",[Qo]:"fire-data-connect",[Xo]:"fire-rtdb-compat",[Zo]:"fire-fn",[el]:"fire-fn-compat",[tl]:"fire-iid",[sl]:"fire-iid-compat",[rl]:"fire-fcm",[nl]:"fire-fcm-compat",[al]:"fire-perf",[il]:"fire-perf-compat",[ol]:"fire-rc",[ll]:"fire-rc-compat",[cl]:"fire-gcs",[dl]:"fire-gcs-compat",[ul]:"fire-fst",[ml]:"fire-fst-compat",[pl]:"fire-vertex","fire-js":"fire-js",[hl]:"fire-js-all"},gl=new Map,bl=new Map,yl=new Map;function vl(e,t){try{e.container.addComponent(t)}catch(Ve){Vo.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Ve)}}function jl(e){const t=e.name;if(yl.has(t))return Vo.debug("There were multiple attempts to register component ".concat(t,".")),!1;yl.set(t,e);for(const s of gl.values())vl(s,e);for(const s of bl.values())vl(s,e);return!0}function wl(e,t){const s=e.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),e.container.getProvider(t)}function Nl(e){return null!==e&&void 0!==e&&void 0!==e.settings}const _l=new Zi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class kl{constructor(e,t,s){this._isDeleted=!1,this._options=Be({},e),this._config=Be({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _l.create("app-deleted",{appName:this._name})}}const Sl="12.6.0";function Cl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=e;if("object"!==typeof t){t={name:t}}const r=Be({name:xl,automaticDataCollectionEnabled:!0},t),n=r.name;if("string"!==typeof n||!n)throw _l.create("bad-app-name",{appName:String(n)});if(s||(s=Bi()),!s)throw _l.create("no-options");const a=gl.get(n);if(a){if(to(s,a.options)&&to(r,a.config))return a;throw _l.create("duplicate-app",{appName:n})}const i=new ho(n);for(const l of yl.values())i.addComponent(l);const o=new kl(s,r,i);return gl.set(n,o),o}function El(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xl;const t=gl.get(e);if(!t&&e===xl&&Bi())return Cl();if(!t)throw _l.create("no-app",{appName:e});return t}function Pl(e,t,s){var r;let n=null!==(r=fl[e])&&void 0!==r?r:e;s&&(n+="-".concat(s));const a=n.match(/\s|\//),i=t.match(/\s|\//);if(a||i){const e=['Unable to register library "'.concat(n,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(n,'" contains illegal characters (whitespace or "/")')),a&&i&&e.push("and"),i&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Vo.warn(e.join(" "))}jl(new uo("".concat(n,"-version"),()=>({library:n,version:t}),"VERSION"))}const Al="firebase-heartbeat-store";let Tl=null;function Il(){return Tl||(Tl=Fo("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Al)}catch(Ve){console.warn(Ve)}}}).catch(e=>{throw _l.create("idb-open",{originalErrorMessage:e.message})})),Tl}async function Ll(e,t){try{const s=(await Il()).transaction(Al,"readwrite"),r=s.objectStore(Al);await r.put(t,Fl(e)),await s.done}catch(Ve){if(Ve instanceof Xi)Vo.warn(Ve.message);else{const t=_l.create("idb-set",{originalErrorMessage:null===Ve||void 0===Ve?void 0:Ve.message});Vo.warn(t.message)}}}function Fl(e){return"".concat(e.name,"!").concat(e.options.appId)}class Rl{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ol(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Dl();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,s=e[0].date;for(let r=1;r<e.length;r++)e[r].date<s&&(s=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Ve){Vo.warn(Ve)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Dl(),{heartbeatsToSend:s,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const s=[];let r=e.slice();for(const n of e){const e=s.find(e=>e.agent===n.agent);if(e){if(e.dates.push(n.date),Ml(s)>t){e.dates.pop();break}}else if(s.push({agent:n.agent,dates:[n.date]}),Ml(s)>t){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}(this._heartbeatsCache.heartbeats),n=Di(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}catch(Ve){return Vo.warn(Ve),""}}}function Dl(){return(new Date).toISOString().substring(0,10)}class Ol{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ji()&&Qi().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Il()).transaction(Al),s=await t.objectStore(Al).get(Fl(e));return await t.done,s}catch(Ve){if(Ve instanceof Xi)Vo.warn(Ve.message);else{const t=_l.create("idb-get",{originalErrorMessage:null===Ve||void 0===Ve?void 0:Ve.message});Vo.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const s=await this.read();return Ll(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const s=await this.read();return Ll(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}}}function Ml(e){return Di(JSON.stringify({version:2,heartbeats:e})).length}var Ul;Ul="",jl(new uo("platform-logger",e=>new Uo(e),"PRIVATE")),jl(new uo("heartbeat",e=>new Rl(e),"PRIVATE")),Pl(zo,Bo,Ul),Pl(zo,Bo,"esm2020"),Pl("fire-js","");const zl=["providerId"],Bl=["uid","auth","stsTokenManager"],Vl=["providerId","signInMethod"];function Hl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Wl=Hl,ql=new Zi("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Gl=new jo("@firebase/auth");function Kl(e){if(Gl.logLevel<=fo.ERROR){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];Gl.error("Auth (".concat(Sl,"): ").concat(e),...s)}}function $l(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];throw Zl(e,...s)}function Yl(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];return Zl(e,...s)}function Jl(e,t,s){const r=Be(Be({},Wl()),{},{[t]:s});return new Zi("auth","Firebase",r).create(t,{appName:e.name})}function Ql(e){return Jl(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xl(e,t,s){if(!(t instanceof s))throw s.name!==t.constructor.name&&$l(e,"argument-error"),Jl(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Zl(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];if("string"!==typeof e){const t=s[0],r=[...s.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return ql.create(e,...s)}function ec(e,t){if(!e){for(var s=arguments.length,r=new Array(s>2?s-2:0),n=2;n<s;n++)r[n-2]=arguments[n];throw Zl(t,...r)}}function tc(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Kl(t),new Error(t)}function sc(e,t){e||tc(t)}function rc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function nc(){return"http:"===ac()||"https:"===ac()}function ac(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class ic{constructor(e,t){this.shortDelay=e,this.longDelay=t,sc(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($i())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(nc()||Yi()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function oc(e,t){sc(e.emulator,"Emulator should always be set here");const{url:s}=e.emulator;return t?"".concat(s).concat(t.startsWith("/")?t.slice(1):t):s}class lc{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void tc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void tc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void tc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cc={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},dc=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uc=new ic(3e4,6e4);function pc(e,t){return e.tenantId&&!t.tenantId?Be(Be({},t),{},{tenantId:e.tenantId}):t}async function mc(e,t,s,r){return hc(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let n={},a={};r&&("GET"===t?a=r:n={body:JSON.stringify(r)});const i=ro(Be({key:e.config.apiKey},a)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Be({method:t,headers:o},n);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Wi(e.emulatorConfig.host)&&(l.credentials="include"),lc.fetch()(await fc(e,e.config.apiHost,s,i),l)})}async function hc(e,t,s){e._canInitEmulator=!1;const r=Be(Be({},cc),t);try{const t=new bc(e),n=await Promise.race([s(),t.promise]);t.clearNetworkTimeout();const a=await n.json();if("needConfirmation"in a)throw yc(e,"account-exists-with-different-credential",a);if(n.ok&&!("errorMessage"in a))return a;{const t=n.ok?a.errorMessage:a.error.message,[s,i]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===s)throw yc(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===s)throw yc(e,"email-already-in-use",a);if("USER_DISABLED"===s)throw yc(e,"user-disabled",a);const o=r[s]||s.toLowerCase().replace(/[_\s]+/g,"-");if(i)throw Jl(e,o,i);$l(e,o)}}catch(Ve){if(Ve instanceof Xi)throw Ve;$l(e,"network-request-failed",{message:String(Ve)})}}async function xc(e,t,s,r){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await mc(e,t,s,r,n);return"mfaPendingCredential"in a&&$l(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function fc(e,t,s,r){const n="".concat(t).concat(s,"?").concat(r),a=e,i=a.config.emulator?oc(e.config,n):"".concat(e.config.apiScheme,"://").concat(n);if(dc.includes(s)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(i).toString()}return i}function gc(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bc{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Yl(this.auth,"network-request-failed")),uc.get())})}}function yc(e,t,s){const r={appName:e.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const n=Yl(e,t,r);return n.customData._tokenResponse=s,n}function vc(e){return void 0!==e&&void 0!==e.enterprise}class jc{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return gc(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wc(e,t){return mc(e,"GET","/v2/recaptchaConfig",pc(e,t))}async function Nc(e,t){return mc(e,"POST","/v1/accounts:lookup",t)}function _c(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Ve){}}function kc(e){return 1e3*Number(e)}function Sc(e){const[t,s,r]=e.split(".");if(void 0===t||void 0===s||void 0===r)return Kl("JWT malformed, contained fewer than 3 sections"),null;try{const e=Oi(s);return e?JSON.parse(e):(Kl("Failed to decode base64 JWT payload"),null)}catch(Ve){return Kl("Caught error parsing JWT payload as JSON",null===Ve||void 0===Ve?void 0:Ve.toString()),null}}function Cc(e){const t=Sc(e);return ec(t,"internal-error"),ec("undefined"!==typeof t.exp,"internal-error"),ec("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Ec(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Ve){throw Ve instanceof Xi&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Ve)&&e.auth.currentUser===e&&await e.auth.signOut(),Ve}}class Pc{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Ve){return void((null===Ve||void 0===Ve?void 0:Ve.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Ac{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=_c(this.lastLoginAt),this.creationTime=_c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Tc(e){var t;const s=e.auth,r=await e.getIdToken(),n=await Ec(e,Nc(s,{idToken:r}));ec(null===n||void 0===n?void 0:n.users.length,s,"internal-error");const a=n.users[0];e._notifyReloadListener(a);const i=null!==(t=a.providerUserInfo)&&void 0!==t&&t.length?Ic(a.providerUserInfo):[],o=function(e,t){const s=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...s,...t]}(e.providerData,i),l=e.isAnonymous,c=!(e.email&&a.passwordHash)&&!(null!==o&&void 0!==o&&o.length),d=!!l&&c,u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Ac(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(e,u)}function Ic(e){return e.map(e=>{let{providerId:t}=e,s=Ii(e,zl);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}class Lc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ec(e.idToken,"internal-error"),ec("undefined"!==typeof e.idToken,"internal-error"),ec("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Cc(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ec(0!==e.length,"internal-error");const t=Cc(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(ec(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:r,expiresIn:n}=await async function(e,t){const s=await hc(e,{},async()=>{const s=ro({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:n}=e.config,a=await fc(e,r,"/v1/token","key=".concat(n)),i=await e._getAdditionalHeaders();i["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:i,body:s};return e.emulatorConfig&&Wi(e.emulatorConfig.host)&&(o.credentials="include"),lc.fetch()(a,o)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}(e,t);this.updateTokensAndExpiration(s,r,Number(n))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*s}static fromJSON(e,t){const{refreshToken:s,accessToken:r,expirationTime:n}=t,a=new Lc;return s&&(ec("string"===typeof s,"internal-error",{appName:e}),a.refreshToken=s),r&&(ec("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),n&&(ec("number"===typeof n,"internal-error",{appName:e}),a.expirationTime=n),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lc,this.toJSON())}_performRefresh(){return tc("not implemented")}}function Fc(e,t){ec("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Rc{constructor(e){let{uid:t,auth:s,stsTokenManager:r}=e,n=Ii(e,Bl);this.providerId="firebase",this.proactiveRefresh=new Pc(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=n.displayName||null,this.email=n.email||null,this.emailVerified=n.emailVerified||!1,this.phoneNumber=n.phoneNumber||null,this.photoURL=n.photoURL||null,this.isAnonymous=n.isAnonymous||!1,this.tenantId=n.tenantId||null,this.providerData=n.providerData?[...n.providerData]:[],this.metadata=new Ac(n.createdAt||void 0,n.lastLoginAt||void 0)}async getIdToken(e){const t=await Ec(this,this.stsTokenManager.getToken(this.auth,e));return ec(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=co(e),r=await s.getIdToken(t),n=Sc(r);ec(n&&n.exp&&n.auth_time&&n.iat,s.auth,"internal-error");const a="object"===typeof n.firebase?n.firebase:void 0,i=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:n,token:r,authTime:_c(kc(n.auth_time)),issuedAtTime:_c(kc(n.iat)),expirationTime:_c(kc(n.exp)),signInProvider:i||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=co(e);await Tc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ec(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Be({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Rc(Be(Be({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ec(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Tc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nl(this.auth.app))return Promise.reject(Ql(this.auth));const e=await this.getIdToken();return await Ec(this,async function(e,t){return mc(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Be(Be({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Be({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,r,n,a,i,o,l,c;const d=null!==(s=t.displayName)&&void 0!==s?s:void 0,u=null!==(r=t.email)&&void 0!==r?r:void 0,p=null!==(n=t.phoneNumber)&&void 0!==n?n:void 0,m=null!==(a=t.photoURL)&&void 0!==a?a:void 0,h=null!==(i=t.tenantId)&&void 0!==i?i:void 0,x=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,f=null!==(l=t.createdAt)&&void 0!==l?l:void 0,g=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:y,isAnonymous:v,providerData:j,stsTokenManager:w}=t;ec(b&&w,e,"internal-error");const N=Lc.fromJSON(this.name,w);ec("string"===typeof b,e,"internal-error"),Fc(d,e.name),Fc(u,e.name),ec("boolean"===typeof y,e,"internal-error"),ec("boolean"===typeof v,e,"internal-error"),Fc(p,e.name),Fc(m,e.name),Fc(h,e.name),Fc(x,e.name),Fc(f,e.name),Fc(g,e.name);const _=new Rc({uid:b,auth:e,email:u,emailVerified:y,displayName:d,isAnonymous:v,photoURL:m,phoneNumber:p,tenantId:h,stsTokenManager:N,createdAt:f,lastLoginAt:g});return j&&Array.isArray(j)&&(_.providerData=j.map(e=>Be({},e))),x&&(_._redirectEventId=x),_}static async _fromIdTokenResponse(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Lc;r.updateFromServerResponse(t);const n=new Rc({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Tc(n),n}static async _fromGetAccountInfoResponse(e,t,s){const r=t.users[0];ec(void 0!==r.localId,"internal-error");const n=void 0!==r.providerUserInfo?Ic(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null!==n&&void 0!==n&&n.length),i=new Lc;i.updateFromIdToken(s);const o=new Rc({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:n,metadata:new Ac(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==n&&void 0!==n&&n.length)};return Object.assign(o,l),o}}const Dc=new Map;function Oc(e){sc(e instanceof Function,"Expected a class definition");let t=Dc.get(e);return t?(sc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Dc.set(e,t),t)}class Mc{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Mc.type="NONE";const Uc=Mc;function zc(e,t,s){return"firebase".concat(":",e,":").concat(t,":").concat(s)}class Bc{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:r,name:n}=this.auth;this.fullUserKey=zc(this.userKey,r.apiKey,n),this.fullPersistenceKey=zc("persistence",r.apiKey,n),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Nc(this.auth,{idToken:e}).catch(()=>{});return t?Rc._fromGetAccountInfoResponse(this.auth,t,e):null}return Rc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Bc(Oc(Uc),e,s);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let n=r[0]||Oc(Uc);const a=zc(s,e.config.apiKey,e.name);let i=null;for(const c of t)try{const t=await c._get(a);if(t){let s;if("string"===typeof t){const r=await Nc(e,{idToken:t}).catch(()=>{});if(!r)break;s=await Rc._fromGetAccountInfoResponse(e,r,t)}else s=Rc._fromJSON(e,t);c!==n&&(i=s),n=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return n._shouldAllowMigration&&o.length?(n=o[0],i&&await n._set(a,i.toJSON()),await Promise.all(t.map(async e=>{if(e!==n)try{await e._remove(a)}catch(t){}})),new Bc(n,e,s)):new Bc(n,e,s)}}function Vc(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Gc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Hc(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($c(t))return"Blackberry";if(Yc(t))return"Webos";if(Wc(t))return"Safari";if((t.includes("chrome/")||qc(t))&&!t.includes("edge/"))return"Chrome";if(Kc(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(t);if(2===(null===s||void 0===s?void 0:s.length))return s[1]}return"Other"}function Hc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/firefox\//i.test(e)}function Wc(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/crios\//i.test(e)}function Gc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/iemobile/i.test(e)}function Kc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/android/i.test(e)}function $c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/blackberry/i.test(e)}function Yc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/webos/i.test(e)}function Jc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Qc(){return function(){const e=$i();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Xc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return Jc(e)||Kc(e)||Yc(e)||$c(e)||/windows phone/i.test(e)||Gc(e)}function Zc(e){let t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Vc($i());break;case"Worker":t="".concat(Vc($i()),"-").concat(e);break;default:t=e}const r=s.length?s.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Sl,"/").concat(r)}class ed{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=t=>new Promise((s,r)=>{try{s(e(t))}catch(Ve){r(Ve)}});s.onAbort=t,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(Ve){t.reverse();for(const s of t)try{s()}catch(Et){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Ve||void 0===Ve?void 0:Ve.message})}}}class td{constructor(e){var t,s,r,n;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(s=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==s?s:"",this.forceUpgradeOnSignin=null!==(n=e.forceUpgradeOnSignin)&&void 0!==n&&n,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,r,n,a,i;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(s=o.meetsMaxPasswordLength)||void 0===s||s),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(n=o.containsUppercaseLetter)||void 0===n||n),o.isValid&&(o.isValid=null===(a=o.containsNumericCharacter)||void 0===a||a),o.isValid&&(o.isValid=null===(i=o.containsNonAlphanumericCharacter)||void 0===i||i),o}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let s;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,r,n){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=n))}}class sd{constructor(e,t,s,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nd(this),this.idTokenSubscription=new nd(this),this.beforeStateQueue=new ed(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ql,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Oc(t)),this._initializationPromise=this.queue(async()=>{var s,r,n;if(!this._deleted&&(this.persistenceManager=await Bc.create(this,e),null===(s=this._resolvePersistenceManagerAvailable)||void 0===s||s.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Ve){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(n=this.currentUser)||void 0===n?void 0:n.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Nc(this,{idToken:e}),s=await Rc._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Nl(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,r=!1;if(e&&this.config.authDomain){var n,a;await this.getOrInitRedirectPersistenceManager();const t=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,i=null===(a=s)||void 0===a?void 0:a._redirectEventId,o=await this.tryRedirectSignIn(e);t&&t!==i||null===o||void 0===o||!o.user||(s=o.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(Ve){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Ve))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ec(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Ve){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Tc(e)}catch(Ve){if((null===Ve||void 0===Ve?void 0:Ve.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nl(this.app))return Promise.reject(Ql(this));const t=e?co(e):null;return t&&ec(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&ec(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nl(this.app)?Promise.reject(Ql(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nl(this.app)?Promise.reject(Ql(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oc(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return mc(e,"GET","/v2/passwordPolicy",pc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new td(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zi("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return mc(e,"POST","/v2/accounts:revokeToken",pc(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return null===e?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Oc(e)||this._popupRedirectResolver;ec(t,this,"argument-error"),this.redirectPersistenceManager=await Bc.create(this,[Oc(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(s=this.redirectUser)||void 0===s?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,r){if(this._deleted)return()=>{};const n="function"===typeof t?t:t.next.bind(t);let a=!1;const i=this._isInitialized?Promise.resolve():this._initializationPromise;if(ec(i,this,"internal-error"),i.then(()=>{a||n(this.currentUser)}),"function"===typeof t){const n=e.addObserver(t,s,r);return()=>{a=!0,n()}}{const s=e.addObserver(t);return()=>{a=!0,s()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ec(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Nl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(Gl.logLevel<=fo.WARN){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];Gl.warn("Auth (".concat(Sl,"): ").concat(e),...s)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function rd(e){return co(e)}class nd{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const s=new io(e,t);return s.subscribe.bind(s)}(e=>this.observer=e)}get next(){return ec(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function id(e){return ad.loadJS(e)}function od(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ld{constructor(){this.enterprise=new cd}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class cd{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const dd="NO_RECAPTCHA";class ud{constructor(e){this.type="recaptcha-enterprise",this.auth=rd(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function s(t,s,r){const n=window.grecaptcha;vc(n)?n.enterprise.ready(()=>{n.enterprise.execute(t,{action:e}).then(e=>{s(e)}).catch(()=>{s(dd)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new ld).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,s)=>{wc(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const s=new jc(r);return null==e.tenantId?e._agentRecaptchaConfig=s:e._tenantRecaptchaConfigs[e.tenantId]=s,t(s.siteKey)}s(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{s(e)})})})(this.auth).then(n=>{if(!t&&vc(window.grecaptcha))s(n,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=ad.recaptchaEnterpriseScript;0!==t.length&&(t+=n),id(t).then(()=>{s(n,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function pd(e,t,s){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new ud(e);let i;if(n)i=dd;else try{i=await a.verify(s)}catch(l){i=await a.verify(s,!0)}const o=Be({},t);if("mfaSmsEnrollment"===s||"mfaSmsSignIn"===s){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function md(e,t,s,r,n){if("EMAIL_PASSWORD_PROVIDER"===n){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const n=await pd(e,t,s,"getOobCode"===s);return r(e,n)}return r(e,t).catch(async n=>{if(n.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(s," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const n=await pd(e,t,s,"getOobCode"===s);return r(e,n)}return Promise.reject(n)})}if("PHONE_PROVIDER"===n){var i;if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("PHONE_PROVIDER")){const n=await pd(e,t,s);return r(e,n).catch(async n=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&(n.code==="auth/".concat("missing-recaptcha-token")||n.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(s," flow."));const n=await pd(e,t,s,!1,!0);return r(e,n)}return Promise.reject(n)})}{const n=await pd(e,t,s,!1,!0);return r(e,n)}}return Promise.reject(n+" provider is not supported.")}async function hd(e){const t=rd(e),s=await wc(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new jc(s);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new ud(t).verify()}}function xd(e,t,s){const r=rd(e);ec(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const n=!(null===s||void 0===s||!s.disableWarnings),a=fd(t),{host:i,port:o}=function(e){const t=fd(e),s=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",n=/^(\[[^\]]+\])(:|$)/.exec(r);if(n){const e=n[1];return{host:e,port:gd(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:gd(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(a,"//").concat(i).concat(l,"/")},d=Object.freeze({host:i,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:n})});if(!r._canInitEmulator)return ec(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void ec(to(c,r.config.emulator)&&to(d,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Wi(i)?(!async function(e){(await fetch(e,{credentials:"include"})).ok}("".concat(a,"//").concat(i).concat(l)),Ki("Auth",!0)):n||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function fd(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function gd(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class bd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return tc("not implemented")}_getIdTokenResponse(e){return tc("not implemented")}_linkToIdToken(e,t){return tc("not implemented")}_getReauthenticationResolver(e){return tc("not implemented")}}async function yd(e,t){return mc(e,"POST","/v1/accounts:signUp",t)}async function vd(e,t){return xc(e,"POST","/v1/accounts:signInWithPassword",pc(e,t))}class jd extends bd{constructor(e,t,s){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",s),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new jd(e,t,"password")}static _fromEmailAndCode(e,t){return new jd(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return md(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",vd,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return xc(e,"POST","/v1/accounts:signInWithEmailLink",pc(e,t))}(e,{email:this._email,oobCode:this._password});default:$l(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return md(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yd,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return xc(e,"POST","/v1/accounts:signInWithEmailLink",pc(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:$l(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function wd(e,t){return xc(e,"POST","/v1/accounts:signInWithIdp",pc(e,t))}class Nd extends bd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Nd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$l("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:s,signInMethod:r}=t,n=Ii(t,Vl);if(!s||!r)return null;const a=new Nd(s,r);return a.idToken=n.idToken||void 0,a.accessToken=n.accessToken||void 0,a.secret=n.secret,a.nonce=n.nonce,a.pendingToken=n.pendingToken||null,a}_getIdTokenResponse(e){return wd(e,this.buildRequest())}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,wd(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wd(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ro(t)}return e}}async function _d(e,t){return mc(e,"POST","/v1/accounts:sendVerificationCode",pc(e,t))}const kd={USER_NOT_FOUND:"user-not-found"};class Sd extends bd{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Sd({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Sd({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return xc(e,"POST","/v1/accounts:signInWithPhoneNumber",pc(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const s=await xc(e,"POST","/v1/accounts:signInWithPhoneNumber",pc(e,t));if(s.temporaryProof)throw yc(e,"account-exists-with-different-credential",s);return s}(e,Be({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return xc(e,"POST","/v1/accounts:signInWithPhoneNumber",pc(e,Be(Be({},t),{},{operation:"REAUTH"})),kd)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:s,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:s,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:s,phoneNumber:r,temporaryProof:n}=e;return s||t||r||n?new Sd({verificationId:t,verificationCode:s,phoneNumber:r,temporaryProof:n}):null}}class Cd{constructor(e){var t,s,r,n,a,i;const o=no(ao(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(s=o.oobCode)&&void 0!==s?s:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);ec(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(n=o.continueUrl)&&void 0!==n?n:null,this.languageCode=null!==(a=o.lang)&&void 0!==a?a:null,this.tenantId=null!==(i=o.tenantId)&&void 0!==i?i:null}static parseLink(e){const t=function(e){const t=no(ao(e)).link,s=t?no(ao(t)).deep_link_id:null,r=no(ao(e)).deep_link_id;return(r?no(ao(r)).link:null)||r||s||t||e}(e);try{return new Cd(t)}catch(s){return null}}}class Ed{constructor(){this.providerId=Ed.PROVIDER_ID}static credential(e,t){return jd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Cd.parseLink(t);return ec(s,"argument-error"),jd._fromEmailAndCode(e,s.code,s.tenantId)}}Ed.PROVIDER_ID="password",Ed.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ed.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Pd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ad extends Pd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Td extends Ad{constructor(){super("facebook.com")}static credential(e){return Nd._fromParams({providerId:Td.PROVIDER_ID,signInMethod:Td.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Td.credentialFromTaggedObject(e)}static credentialFromError(e){return Td.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Td.credential(t.oauthAccessToken)}catch(s){return null}}}Td.FACEBOOK_SIGN_IN_METHOD="facebook.com",Td.PROVIDER_ID="facebook.com";class Id extends Ad{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Nd._fromParams({providerId:Id.PROVIDER_ID,signInMethod:Id.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Id.credentialFromTaggedObject(e)}static credentialFromError(e){return Id.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:s,oauthAccessToken:r}=t;if(!s&&!r)return null;try{return Id.credential(s,r)}catch(n){return null}}}Id.GOOGLE_SIGN_IN_METHOD="google.com",Id.PROVIDER_ID="google.com";class Ld extends Ad{constructor(){super("github.com")}static credential(e){return Nd._fromParams({providerId:Ld.PROVIDER_ID,signInMethod:Ld.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ld.credentialFromTaggedObject(e)}static credentialFromError(e){return Ld.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ld.credential(t.oauthAccessToken)}catch(s){return null}}}Ld.GITHUB_SIGN_IN_METHOD="github.com",Ld.PROVIDER_ID="github.com";class Fd extends Ad{constructor(){super("twitter.com")}static credential(e,t){return Nd._fromParams({providerId:Fd.PROVIDER_ID,signInMethod:Fd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fd.credentialFromTaggedObject(e)}static credentialFromError(e){return Fd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=t;if(!s||!r)return null;try{return Fd.credential(s,r)}catch(n){return null}}}Fd.TWITTER_SIGN_IN_METHOD="twitter.com",Fd.PROVIDER_ID="twitter.com";class Rd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n=await Rc._fromIdTokenResponse(e,s,r),a=Dd(s);return new Rd({user:n,providerId:a,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const r=Dd(s);return new Rd({user:e,providerId:r,_tokenResponse:s,operationType:t})}}function Dd(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Od extends Xi{constructor(e,t,s,r){var n;super(t.code,t.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,Od.prototype),this.customData={appName:e.name,tenantId:null!==(n=e.tenantId)&&void 0!==n?n:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,r){return new Od(e,t,s,r)}}function Md(e,t,s,r){return("reauthenticate"===t?s._getReauthenticationResolver(e):s._getIdTokenResponse(e)).catch(s=>{if(s.code==="auth/".concat("multi-factor-auth-required"))throw Od._fromErrorAndOperation(e,s,t,r);throw s})}async function Ud(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Ec(e,t._linkToIdToken(e.auth,await e.getIdToken()),s);return Rd._forOperation(e,"link",r)}async function zd(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Nl(r.app))return Promise.reject(Ql(r));const n="reauthenticate";try{const a=await Ec(e,Md(r,n,t,e),s);ec(a.idToken,r,"internal-error");const i=Sc(a.idToken);ec(i,r,"internal-error");const{sub:o}=i;return ec(e.uid===o,r,"user-mismatch"),Rd._forOperation(e,n,a)}catch(Ve){throw(null===Ve||void 0===Ve?void 0:Ve.code)==="auth/".concat("user-not-found")&&$l(r,"user-mismatch"),Ve}}async function Bd(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Nl(e.app))return Promise.reject(Ql(e));const r="signIn",n=await Md(e,r,t),a=await Rd._fromIdTokenResponse(e,r,n);return s||await e._updateCurrentUser(a.user),a}function Vd(e,t){return mc(e,"POST","/v2/accounts/mfaEnrollment:start",pc(e,t))}new WeakMap;const Hd="__sak";class Wd{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hd,"1"),this.storage.removeItem(Hd),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class qd extends Wd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Xc(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),r=this.localCache[t];s!==r&&e(t,r,s)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,s)=>{this.notifyListeners(e,s)});const s=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(s);(t||this.localCache[s]!==e)&&this.notifyListeners(s,e)},n=this.storage.getItem(s);Qc()&&n!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}qd.type="LOCAL";const Gd=qd;function Kd(e){var t,s;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),n=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(s=document.cookie.match(n))||void 0===s?void 0:s[1])&&void 0!==t?t:null}function $d(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Yd{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=$d(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Kd(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=$d(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const s=$d(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===s);r&&t(r.value);e.deleted.find(e=>e.name===s)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Kd(s);const n=setInterval(()=>{const e=Kd(s);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(n))}_removeListener(e,t){const s=this.listenerUnsubscribes.get(t);s&&(s(),this.listenerUnsubscribes.delete(t))}}Yd.type="COOKIE";class Jd extends Wd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Jd.type="SESSION";const Qd=Jd;class Xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const s=new Xd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:r,data:n}=t.data,a=this.handlersMap[r];if(null===a||void 0===a||!a.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const i=Array.from(a).map(async e=>e(t.origin,n)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(i);t.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Zd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,s="";for(let r=0;r<t;r++)s+=Math.floor(10*Math.random());return e+s}Xd.receivers=[];class eu{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let n,a;return new Promise((i,o)=>{const l=Zd("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},s);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),n=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(n),i(t.data.response);break;default:clearTimeout(c),clearTimeout(n),o(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function tu(){return window}function su(){return"undefined"!==typeof tu().WorkerGlobalScope&&"function"===typeof tu().importScripts}const ru="firebaseLocalStorageDb",nu="firebaseLocalStorage",au="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ou(e,t){return e.transaction([nu],t?"readwrite":"readonly").objectStore(nu)}function lu(){const e=indexedDB.open(ru,1);return new Promise((t,s)=>{e.addEventListener("error",()=>{s(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(nu,{keyPath:au})}catch(Ve){s(Ve)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(nu)?t(s):(s.close(),await function(){const e=indexedDB.deleteDatabase(ru);return new iu(e).toPromise()}(),t(await lu()))})})}async function cu(e,t,s){const r=ou(e,!0).put({[au]:t,value:s});return new iu(r).toPromise()}function du(e,t){const s=ou(e,!0).delete(t);return new iu(s).toPromise()}class uu{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await lu()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Ve){if(t++>3)throw Ve;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return su()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xd._getInstance(su()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new eu(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&null!==(e=s[0])&&void 0!==e&&e.fulfilled&&null!==(t=s[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lu();return await cu(e,Hd,"1"),await du(e,Hd),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>cu(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const s=ou(e,!1).get(t),r=await new iu(s).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>du(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=ou(e,!1).getAll();return new iu(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],s=new Set;if(0!==e.length)for(const{fbase_key:r,value:n}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(n)&&(this.notifyListeners(r,n),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}uu.type="LOCAL";const pu=uu;function mu(e,t){return mc(e,"POST","/v2/accounts/mfaSignIn:start",pc(e,t))}od("rcb"),new ic(3e4,6e4);const hu="recaptcha";async function xu(e,t,s){if(!e._getRecaptchaConfig())try{await hd(e)}catch(n){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let n;if(n="string"===typeof t?{phoneNumber:t}:t,"session"in n){const t=n.session;if("phoneNumber"in n){ec("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:n.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=md(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===dd){ec((null===s||void 0===s?void 0:s.type)===hu,e,"argument-error");return Vd(e,await fu(e,t,s))}return Vd(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;ec("signin"===t.type,e,"internal-error");const a=(null===(r=n.multiFactorHint)||void 0===r?void 0:r.uid)||n.multiFactorUid;ec(a,e,"missing-multi-factor-info");const i={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=md(e,i,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===dd){ec((null===s||void 0===s?void 0:s.type)===hu,e,"argument-error");return mu(e,await fu(e,t,s))}return mu(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:n.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=md(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===dd){ec((null===s||void 0===s?void 0:s.type)===hu,e,"argument-error");return _d(e,await fu(e,t,s))}return _d(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===s||void 0===s||s._reset()}}async function fu(e,t,s){ec(s.type===hu,e,"argument-error");const r=await s.verify();ec("string"===typeof r,e,"argument-error");const n=Be({},t);if("phoneEnrollmentInfo"in n){const e=n.phoneEnrollmentInfo.phoneNumber,t=n.phoneEnrollmentInfo.captchaResponse,s=n.phoneEnrollmentInfo.clientType,a=n.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(n,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:s,recaptchaVersion:a}}),n}if("phoneSignInInfo"in n){const e=n.phoneSignInInfo.captchaResponse,t=n.phoneSignInInfo.clientType,s=n.phoneSignInInfo.recaptchaVersion;return Object.assign(n,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:s}}),n}return Object.assign(n,{recaptchaToken:r}),n}class gu{constructor(e){this.providerId=gu.PROVIDER_ID,this.auth=rd(e)}verifyPhoneNumber(e,t){return xu(this.auth,e,co(t))}static credential(e,t){return Sd._fromVerification(e,t)}static credentialFromResult(e){const t=e;return gu.credentialFromTaggedObject(t)}static credentialFromError(e){return gu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:s,temporaryProof:r}=t;return s&&r?Sd._fromTokenResponse(s,r):null}}function bu(e,t){return t?Oc(t):(ec(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}gu.PROVIDER_ID="phone",gu.PHONE_SIGN_IN_METHOD="phone";class yu extends bd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vu(e){return Bd(e.auth,new yu(e),e.bypassAuthState)}function ju(e){const{auth:t,user:s}=e;return ec(s,t,"internal-error"),zd(s,new yu(e),e.bypassAuthState)}async function wu(e){const{auth:t,user:s}=e;return ec(s,t,"internal-error"),Ud(s,new yu(e),e.bypassAuthState)}class Nu{constructor(e,t,s,r){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=n,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Ve){this.reject(Ve)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:r,tenantId:n,error:a,type:i}=e;if(a)return void this.reject(a);const o={auth:this.auth,requestUri:t,sessionId:s,tenantId:n||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(i)(o))}catch(Ve){this.reject(Ve)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vu;case"linkViaPopup":case"linkViaRedirect":return wu;case"reauthViaPopup":case"reauthViaRedirect":return ju;default:$l(this.auth,"internal-error")}}resolve(e){sc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _u=new ic(2e3,1e4);class ku extends Nu{constructor(e,t,s,r,n){super(e,t,r,n),this.provider=s,this.authWindow=null,this.pollId=null,ku.currentPopupAction&&ku.currentPopupAction.cancel(),ku.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ec(e,this.auth,"internal-error"),e}async onExecution(){sc(1===this.filter.length,"Popup operations only handle one event");const e=Zd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Yl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Yl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ku.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yl(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,_u.get())};e()}}ku.currentPopupAction=null;const Su=new Map;class Cu extends Nu{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Su.get(this.auth._key());if(!e){try{const t=await async function(e,t){const s=Au(t),r=Pu(e);if(!await r._isAvailable())return!1;const n="true"===await r._get(s);return await r._remove(s),n}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(Ve){e=()=>Promise.reject(Ve)}Su.set(this.auth._key(),e)}return this.bypassAuthState||Su.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Eu(e,t){Su.set(e._key(),t)}function Pu(e){return Oc(e._redirectPersistence)}function Au(e){return zc("pendingRedirect",e.config.apiKey,e.name)}async function Tu(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Nl(e.app))return Promise.reject(Ql(e));const r=rd(e),n=bu(r,t),a=new Cu(r,n,s),i=await a.execute();return i&&!s&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,t)),i}class Iu{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fu(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Fu(e)){var s;const r=(null===(s=e.error.code)||void 0===s?void 0:s.split("auth/")[1])||"internal-error";t.onError(Yl(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lu(e))}saveEventToCache(e){this.cachedEventUids.add(Lu(e)),this.lastProcessedEventTime=Date.now()}}function Lu(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Fu(e){let{type:t,error:s}=e;return"unknown"===t&&(null===s||void 0===s?void 0:s.code)==="auth/".concat("no-auth-event")}const Ru=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Du=/^https?/;async function Ou(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return mc(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Mu(r))return}catch(s){}$l(e,"unauthorized-domain")}function Mu(e){const t=rc(),{protocol:s,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const n=new URL(e);return""===n.hostname&&""===r?"chrome-extension:"===s&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===s&&n.hostname===r}if(!Du.test(s))return!1;if(Ru.test(e))return r===e;const n=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+n+"|"+n+")$","i").test(r)}const Uu=new ic(3e4,6e4);function zu(){const e=tu().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let s=0;s<e.CP.length;s++)e.CP[s]=null}function Bu(e){return new Promise((t,s)=>{var r,n;function a(){zu(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{zu(),s(Yl(e,"network-request-failed"))},timeout:Uu.get()})}if(null!==(r=tu().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(n=tu().gapi)||void 0===n||!n.load){const t=od("iframefcb");return tu()[t]=()=>{gapi.load?a():s(Yl(e,"network-request-failed"))},id("".concat(ad.gapiScript,"?onload=").concat(t)).catch(e=>s(e))}a()}}).catch(e=>{throw Vu=null,e})}let Vu=null;const Hu=new ic(5e3,15e3),Wu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gu(e){const t=e.config;ec(t.authDomain,e,"auth-domain-config-required");const s=t.emulator?oc(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Sl},n=qu.get(e.config.apiHost);n&&(r.eid=n);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(s,"?").concat(ro(r).slice(1))}async function Ku(e){const t=await function(e){return Vu=Vu||Bu(e),Vu}(e),s=tu().gapi;return ec(s,e,"internal-error"),t.open({where:document.body,url:Gu(e),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wu,dontclear:!0},t=>new Promise(async(s,r)=>{await t.restyle({setHideOnLeave:!1});const n=Yl(e,"network-request-failed"),a=tu().setTimeout(()=>{r(n)},Hu.get());function i(){tu().clearTimeout(a),s(t)}t.ping(i).then(i,()=>{r(n)})}))}const $u={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yu{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Ve){}}}function Ju(e,t,s){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-n)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Be(Be({},$u),{},{width:r.toString(),height:n.toString(),top:a,left:i}),c=$i().toLowerCase();s&&(o=qc(c)?"_blank":s),Hc(c)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce((e,t)=>{let[s,r]=t;return"".concat(e).concat(s,"=").concat(r,",")},"");if(function(){var e;return Jc(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==o)return function(e,t){const s=document.createElement("a");s.href=e,s.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}(t||"",o),new Yu(null);const u=window.open(t||"",o,d);ec(u,e,"popup-blocked");try{u.focus()}catch(Ve){}return new Yu(u)}const Qu="__/auth/handler",Xu="emulator/auth/handler",Zu=encodeURIComponent("fac");async function ep(e,t,s,r,n,a){ec(e.config.authDomain,e,"auth-domain-config-required"),ec(e.config.apiKey,e,"invalid-api-key");const i={apiKey:e.config.apiKey,appName:e.name,authType:s,redirectUrl:r,v:Sl,eventId:n};if(t instanceof Pd){t.setDefaultLanguage(e.languageCode),i.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(i.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))i[e]=t}if(t instanceof Ad){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(i.scopes=e.join(","))}e.tenantId&&(i.tid=e.tenantId);const o=i;for(const d of Object.keys(o))void 0===o[d]&&delete o[d];const l=await e._getAppCheckToken(),c=l?"#".concat(Zu,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Qu);return oc(t,Xu)}(e),"?").concat(ro(o).slice(1)).concat(c)}const tp="webStorageSupport";const sp=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qd,this._completeRedirectFn=Tu,this._overrideRedirectResult=Eu}async _openPopup(e,t,s,r){var n;sc(null===(n=this.eventManagers[e._key()])||void 0===n?void 0:n.manager,"_initialize() not called before _openPopup()");return Ju(e,await ep(e,t,s,rc(),r),Zd())}async _openRedirect(e,t,s,r){await this._originValidation(e);return function(e){tu().location.href=e}(await ep(e,t,s,rc(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:s}=this.eventManagers[t];return e?Promise.resolve(e):(sc(s,"If manager is not set, promise should be"),s)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await Ku(e),s=new Iu(e);return t.register("authEvent",t=>{ec(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:s.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(tp,{type:tp},s=>{var r;const n=null===s||void 0===s||null===(r=s[0])||void 0===r?void 0:r[tp];void 0!==n&&t(!!n),$l(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ou(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Xc()||Wc()||Jc()}};var rp="@firebase/auth",np="1.11.1";class ap{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ec(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ip=Vi("authIdTokenMaxAge")||300;let op=null;var lp;!function(e){ad=e}({loadJS:e=>new Promise((t,s)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Yl("internal-error");t.customData=e,s(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),lp="Browser",jl(new uo("auth",(e,t)=>{let{options:s}=t;const r=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:i,authDomain:o}=r.options;ec(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:i,authDomain:o,clientPlatform:lp,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zc(lp)},c=new sd(r,n,a,l);return function(e,t){const s=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(s)?s:[s]).map(Oc);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,s),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),jl(new uo("auth-internal",e=>(e=>new ap(e))(rd(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Pl(rp,np,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(lp)),Pl(rp,np,"esm2020");Pl("firebase","12.6.0","app");const cp="@firebase/installations",dp="0.6.19",up=1e4,pp="w:".concat(dp),mp="FIS_v2",hp=36e5,xp=new Zi("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function fp(e){return e instanceof Xi&&e.code.includes("request-failed")}function gp(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function bp(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function yp(e,t){const s=(await t.json()).error;return xp.create("request-failed",{requestName:e,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function vp(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function jp(e,t){let{refreshToken:s}=t;const r=vp(e);return r.append("Authorization",function(e){return"".concat(mp," ").concat(e)}(s)),r}async function wp(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Np(e){return new Promise(t=>{setTimeout(t,e)})}const _p=/^[cdef][\w-]{21}$/;function kp(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(s=e,btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_"));var s;return t.substr(0,22)}(e);return _p.test(t)?t:""}catch(e){return""}}function Sp(e){return"".concat(e.appName,"!").concat(e.appId)}const Cp=new Map;function Ep(e,t){const s=Sp(e);Pp(s,t),function(e,t){const s=Tp();s&&s.postMessage({key:e,fid:t});Ip()}(s,t)}function Pp(e,t){const s=Cp.get(e);if(s)for(const r of s)r(t)}let Ap=null;function Tp(){return!Ap&&"BroadcastChannel"in self&&(Ap=new BroadcastChannel("[Firebase] FID Change"),Ap.onmessage=e=>{Pp(e.data.key,e.data.fid)}),Ap}function Ip(){0===Cp.size&&Ap&&(Ap.close(),Ap=null)}const Lp="firebase-installations-store";let Fp=null;function Rp(){return Fp||(Fp=Fo("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Lp)}})),Fp}async function Dp(e,t){const s=Sp(e),r=(await Rp()).transaction(Lp,"readwrite"),n=r.objectStore(Lp),a=await n.get(s);return await n.put(t,s),await r.done,a&&a.fid===t.fid||Ep(e,t.fid),t}async function Op(e){const t=Sp(e),s=(await Rp()).transaction(Lp,"readwrite");await s.objectStore(Lp).delete(t),await s.done}async function Mp(e,t){const s=Sp(e),r=(await Rp()).transaction(Lp,"readwrite"),n=r.objectStore(Lp),a=await n.get(s),i=t(a);return void 0===i?await n.delete(s):await n.put(i,s),await r.done,!i||a&&a.fid===i.fid||Ep(e,i.fid),i}async function Up(e){let t;const s=await Mp(e.appConfig,s=>{const r=function(e){const t=e||{fid:kp(),registrationStatus:0};return Vp(t)}(s),n=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(xp.create("app-offline"))}}const s={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const s=await async function(e,t){let{appConfig:s,heartbeatServiceProvider:r}=e,{fid:n}=t;const a=gp(s),i=vp(s),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const l={fid:n,authVersion:mp,appId:s.appId,sdkVersion:pp},c={method:"POST",headers:i,body:JSON.stringify(l)},d=await wp(()=>fetch(a,c));if(d.ok){const e=await d.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:bp(e.authToken)}}throw await yp("Create Installation",d)}(e,t);return Dp(e.appConfig,s)}catch(Ve){throw fp(Ve)&&409===Ve.customData.serverCode?await Op(e.appConfig):await Dp(e.appConfig,{fid:t.fid,registrationStatus:0}),Ve}}(e,s);return{installationEntry:s,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:zp(e)}:{installationEntry:t}}(e,r);return t=n.registrationPromise,n.installationEntry});return""===s.fid?{installationEntry:await t}:{installationEntry:s,registrationPromise:t}}async function zp(e){let t=await Bp(e.appConfig);for(;1===t.registrationStatus;)await Np(100),t=await Bp(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:s}=await Up(e);return s||t}return t}function Bp(e){return Mp(e,e=>{if(!e)throw xp.create("installation-not-found");return Vp(e)})}function Vp(e){return 1===(t=e).registrationStatus&&t.registrationTime+up<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Hp(e,t){let{appConfig:s,heartbeatServiceProvider:r}=e;const n=function(e,t){let{fid:s}=t;return"".concat(gp(e),"/").concat(s,"/authTokens:generate")}(s,t),a=jp(s,t),i=r.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const o={installation:{sdkVersion:pp,appId:s.appId}},l={method:"POST",headers:a,body:JSON.stringify(o)},c=await wp(()=>fetch(n,l));if(c.ok){return bp(await c.json())}throw await yp("Generate Auth Token",c)}async function Wp(e){let t,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await Mp(e.appConfig,r=>{if(!Gp(r))throw xp.create("not-registered");const n=r.authToken;if(!s&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+hp}(e)}(n))return r;if(1===n.requestStatus)return t=async function(e,t){let s=await qp(e.appConfig);for(;1===s.authToken.requestStatus;)await Np(100),s=await qp(e.appConfig);const r=s.authToken;return 0===r.requestStatus?Wp(e,t):r}(e,s),r;{if(!navigator.onLine)throw xp.create("app-offline");const s=function(e){const t={requestStatus:1,requestTime:Date.now()};return Be(Be({},e),{},{authToken:t})}(r);return t=async function(e,t){try{const s=await Hp(e,t),r=Be(Be({},t),{},{authToken:s});return await Dp(e.appConfig,r),s}catch(Ve){if(!fp(Ve)||401!==Ve.customData.serverCode&&404!==Ve.customData.serverCode){const s=Be(Be({},t),{},{authToken:{requestStatus:0}});await Dp(e.appConfig,s)}else await Op(e.appConfig);throw Ve}}(e,s),s}});return t?await t:r.authToken}function qp(e){return Mp(e,e=>{if(!Gp(e))throw xp.create("not-registered");const t=e.authToken;return 1===(s=t).requestStatus&&s.requestTime+up<Date.now()?Be(Be({},e),{},{authToken:{requestStatus:0}}):e;var s})}function Gp(e){return void 0!==e&&2===e.registrationStatus}async function Kp(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=e;await async function(e){const{registrationPromise:t}=await Up(e);t&&await t}(s);return(await Wp(s,t)).token}function $p(e){return xp.create("missing-app-config-values",{valueName:e})}const Yp="installations",Jp=e=>{const t=e.getProvider("app").getImmediate(),s=function(e){if(!e||!e.options)throw $p("App Configuration");if(!e.name)throw $p("App Name");const t=["projectId","apiKey","appId"];for(const s of t)if(!e.options[s])throw $p(s);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:s,heartbeatServiceProvider:wl(t,"heartbeat"),_delete:()=>Promise.resolve()}},Qp=e=>{const t=wl(e.getProvider("app").getImmediate(),Yp).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:s,registrationPromise:r}=await Up(t);return r?r.catch(console.error):Wp(t).catch(console.error),s.fid}(t),getToken:e=>Kp(t,e)}};jl(new uo(Yp,Jp,"PUBLIC")),jl(new uo("installations-internal",Qp,"PRIVATE")),Pl(cp,dp),Pl(cp,dp,"esm2020");const Xp="analytics",Zp="https://www.googletagmanager.com/gtag/js",em=new jo("@firebase/analytics"),tm=new Zi("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function sm(e){if(!e.startsWith(Zp)){const t=tm.create("invalid-gtag-resource",{gtagURL:e});return em.warn(t.message),""}return e}function rm(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function nm(e,t){const s=function(e,t){let s;return window.trustedTypes&&(s=window.trustedTypes.createPolicy(e,t)),s}("firebase-js-sdk-policy",{createScriptURL:sm}),r=document.createElement("script"),n="".concat(Zp,"?l=").concat(e,"&id=").concat(t);r.src=s?null===s||void 0===s?void 0:s.createScriptURL(n):n,r.async=!0,document.head.appendChild(r)}function am(e,t,s,r){return async function(n){try{for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];if("event"===n){const[r,n]=i;await async function(e,t,s,r,n){try{let a=[];if(n&&n.send_to){let e=n.send_to;Array.isArray(e)||(e=[e]);const r=await rm(s);for(const s of e){const e=r.find(e=>e.measurementId===s),n=e&&t[e.appId];if(!n){a=[];break}a.push(n)}}0===a.length&&(a=Object.values(t)),await Promise.all(a),e("event",r,n||{})}catch(Ve){em.error(Ve)}}(e,t,s,r,n)}else if("config"===n){const[n,a]=i;await async function(e,t,s,r,n,a){const i=r[n];try{if(i)await t[i];else{const e=(await rm(s)).find(e=>e.measurementId===n);e&&await t[e.appId]}}catch(Ve){em.error(Ve)}e("config",n,a)}(e,t,s,r,n,a)}else if("consent"===n){const[t,s]=i;e("consent",t,s)}else if("get"===n){const[t,s,r]=i;e("get",t,s,r)}else if("set"===n){const[t]=i;e("set",t)}else e(n,...i)}catch(Ve){em.error(Ve)}}}const im=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function om(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function lm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:im,s=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:n,measurementId:a}=e.options;if(!r)throw tm.create("no-app-id");if(!n){if(a)return{measurementId:a,appId:r};throw tm.create("no-api-key")}const i=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new dm;return setTimeout(async()=>{o.abort()},void 0!==s?s:6e4),cm({appId:r,apiKey:n,measurementId:a},i,o,t)}async function cm(e,t,s){let{throttleEndTimeMillis:r,backoffCount:n}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:im;const{appId:i,measurementId:o}=e;try{await function(e,t){return new Promise((s,r)=>{const n=Math.max(t-Date.now(),0),a=setTimeout(s,n);e.addEventListener(()=>{clearTimeout(a),r(tm.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(s,r)}catch(Ve){if(o)return em.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(o)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===Ve||void 0===Ve?void 0:Ve.message,"]")),{appId:i,measurementId:o};throw Ve}try{const t=await async function(e){const{appId:t,apiKey:s}=e,r={method:"GET",headers:om(s)},n="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),a=await fetch(n,r);if(200!==a.status&&304!==a.status){let e="";try{var i;const t=await a.json();null!==(i=t.error)&&void 0!==i&&i.message&&(e=t.error.message)}catch(o){}throw tm.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return a.deleteThrottleMetadata(i),t}catch(Ve){var l;const r=Ve;if(!function(e){if(!(e instanceof Xi)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(a.deleteThrottleMetadata(i),o)return em.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(o)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:i,measurementId:o};throw Ve}const c=503===Number(null===r||void 0===r||null===(l=r.customData)||void 0===l?void 0:l.httpStatus)?lo(n,a.intervalMillis,30):lo(n,a.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return a.setThrottleMetadata(i,d),em.debug("Calling attemptFetch again in ".concat(c," millis")),cm(e,d,s,a)}}class dm{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let um,pm;function mm(e){pm=e}function hm(e){um=e}async function xm(e,t,s,r,n,a,i){var o;const l=lm(e);l.then(t=>{s[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&em.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>em.error(e)),t.push(l);const c=async function(){if(!Ji())return em.warn(tm.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Qi()}catch(Ve){return em.warn(tm.create("indexeddb-unavailable",{errorInfo:null===Ve||void 0===Ve?void 0:Ve.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[d,u]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const s of Object.values(t))if(s.src&&s.src.includes(Zp)&&s.src.includes(e))return s;return null})(a)||nm(a,d.measurementId),pm&&(n("consent","default",pm),mm(void 0)),n("js",new Date);const p=null!==(o=null===i||void 0===i?void 0:i.config)&&void 0!==o?o:{};return p.origin="firebase",p.update=!0,null!=u&&(p.firebase_id=u),n("config",d.measurementId,p),um&&(n("set",um),hm(void 0)),d.measurementId}class fm{constructor(e){this.app=e}_delete(){return delete gm[this.app.options.appId],Promise.resolve()}}let gm={},bm=[];const ym={};let vm,jm,wm="dataLayer",Nm="gtag",_m=!1;function km(){const e=[];if(Yi()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),s=tm.create("invalid-analytics-context",{errorInfo:t});em.warn(s.message)}}function Sm(e,t,s){km();const r=e.options.appId;if(!r)throw tm.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw tm.create("no-api-key");em.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=gm[r])throw tm.create("already-exists",{id:r});if(!_m){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(wm);const{wrappedGtag:e,gtagCore:t}=function(e,t,s,r,n){let a=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];window[r].push(arguments)};return window[n]&&"function"===typeof window[n]&&(a=window[n]),window[n]=am(a,e,t,s),{gtagCore:a,wrappedGtag:window[n]}}(gm,bm,ym,wm,Nm);jm=e,vm=t,_m=!0}gm[r]=xm(e,bm,ym,t,vm,wm,s);return new fm(e)}function Cm(e,t,s){e=co(e),async function(e,t,s,r){if(r&&r.global){const t={};for(const e of Object.keys(s))t["user_properties.".concat(e)]=s[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:s})}(jm,gm[e.app.options.appId],t,s).catch(e=>em.error(e))}function Em(e,t,s,r){e=co(e),async function(e,t,s,r,n){if(n&&n.global)e("event",s,r);else{const n=await t;e("event",s,Be(Be({},r),{},{send_to:n}))}}(jm,gm[e.app.options.appId],t,s,r).catch(e=>em.error(e))}const Pm="@firebase/analytics",Am="0.10.19";jl(new uo(Xp,(e,t)=>{let{options:s}=t;return Sm(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),s)},"PUBLIC")),jl(new uo("analytics-internal",function(e){try{const t=e.getProvider(Xp).getImmediate();return{logEvent:(e,s,r)=>Em(t,e,s,r),setUserProperties:(e,s)=>Cm(t,e,s)}}catch(Ve){throw tm.create("interop-component-reg-failed",{reason:Ve})}},"PRIVATE")),Pl(Pm,Am),Pl(Pm,Am,"esm2020");const Tm={apiKey:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_API_KEY||"AIzaSyAeSHXfPlQhh8IY-Xh5xZ52Y0KC3iKlOwA",authDomain:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_AUTH_DOMAIN||"getnayi.firebaseapp.com",projectId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_PROJECT_ID||"getnayi",storageBucket:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_STORAGE_BUCKET||"getnayi.firebasestorage.app",messagingSenderId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_MESSAGING_SENDER_ID||"862344895994",appId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_APP_ID||"1:862344895994:web:e3ccd073df36edf556d843",measurementId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_MEASUREMENT_ID||"G-5JV4K4GGY0"};Tm.apiKey&&Tm.projectId||console.error("Firebase configuration is missing required fields");const Im=Cl(Tm);let Lm=null;if("undefined"!==typeof window)try{Lm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:El();e=co(e);const t=wl(e,Xp);return t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=wl(e,Xp);if(s.isInitialized()){const e=s.getImmediate();if(to(t,s.getOptions()))return e;throw tm.create("already-initialized")}return s.initialize({options:t})}(e)}(Im)}catch(xf){console.log("Analytics initialization error:",xf)}const Fm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:El();const t=wl(e,"auth");if(t.isInitialized())return t.getImmediate();const s=function(e,t){const s=wl(e,"auth");if(s.isInitialized()){const e=s.getImmediate();if(to(s.getOptions(),null!==t&&void 0!==t?t:{}))return e;$l(e,"already-initialized")}return s.initialize({options:t})}(e,{popupRedirectResolver:sp,persistence:[pu,Gd,Qd]}),r=Vi("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(n=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),s=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>ip)return;const r=null===t||void 0===t?void 0:t.token;op!==r&&(op=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,s){co(e).beforeAuthStateChanged(t,s)}(s,t,()=>t(s.currentUser)),function(e,t,s,r){co(e).onIdTokenChanged(t,s,r)}(s,e=>t(e))}}var n;const a=zi("auth");return a&&xd(s,"http://".concat(a)),s}(Im),Rm=new Id;Rm.setCustomParameters({prompt:"select_account"});const Dm=async()=>{try{const e=await async function(e,t,s){if(Nl(e.app))return Promise.reject(Yl(e,"operation-not-supported-in-this-environment"));const r=rd(e);Xl(e,t,Pd);const n=bu(r,s);return new ku(r,"signInViaPopup",t,n).executeNotNull()}(Fm,Rm);return{user:e.user,credential:e.credential}}catch(xf){throw console.error("Google sign-in error:",xf),xf}},Om=async()=>{try{const e=await async function(e,t){return await rd(e)._initializationPromise,Tu(e,t,!1)}(Fm);return e?{user:e.user,credential:e.credential}:null}catch(xf){throw console.error("Get redirect result error:",xf),xf}},Mm=async()=>{try{await function(e){return co(e).signOut()}(Fm)}catch(xf){throw console.error("Sign out error:",xf),xf}},Um=e=>function(e,t,s,r){return co(e).onAuthStateChanged(t,s,r)}(Fm,e);var zm=s(579);const Bm=(0,a.createContext)(null),Vm=()=>{const e=(0,a.useContext)(Bm);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},Hm=e=>{let{children:t}=e;const[s,r]=(0,a.useState)(null),[n,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(null);(0,a.useEffect)(()=>{d(),c();const e=Um(async e=>{if(e){console.log("=== AUTH CONTEXT - FIREBASE AUTH STATE CHANGE ==="),console.log("Firebase User:",{uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL});try{const t=await e.getIdToken(),s=await Tn(t);console.log("Auth Context - Backend Response:",{ok:s.ok,needsOnboard:s.needsOnboard,hasToken:!!s.token,hasUser:!!s.user}),s.token&&localStorage.setItem("auth_token",s.token),s.user&&(console.log("Auth Context - Setting User:",{user_id:s.user.user_id,username:s.user.username,email:s.user.email,is_admin:s.user.is_admin}),r(s.user)),console.log("================================================")}catch(t){console.error("Firebase auth state sync error:",t)}}});return()=>e()},[]);const c=async()=>{try{const e=await Om();if(e){console.log("=== AUTH CONTEXT - GOOGLE REDIRECT RESULT ==="),console.log("Redirect Result User:",{uid:e.user.uid,email:e.user.email,displayName:e.user.displayName});const t=await e.user.getIdToken(),s=await Tn(t);console.log("Redirect - Backend Response:",{ok:s.ok,needsOnboard:s.needsOnboard,hasToken:!!s.token,hasUser:!!s.user}),s.needsOnboard?(sessionStorage.setItem("google_id_token",t),console.log("Redirect - New user, storing ID token for signup")):(s.token&&localStorage.setItem("auth_token",s.token),s.user&&(console.log("Redirect - Setting User:",s.user),r(s.user))),console.log("===============================================")}}catch(e){console.error("Google redirect check error:",e)}},d=async()=>{try{i(!0);const e=await Pn();e.ok&&e.user?r(e.user):r(null)}catch(n){var e,t,s;n.isExpected||401===(null===(e=n.response)||void 0===e?void 0:e.status)&&null!==(t=n.config)&&void 0!==t&&null!==(s=t.url)&&void 0!==s&&s.includes("/api/me")||console.error("Auth check error:",n),r(null)}finally{i(!1)}},u={user:s,loading:n,error:o,login:e=>{console.log("=== AUTH CONTEXT - LOGIN CALLED ==="),console.log("User Data:",e),console.log("==================================="),r(e)},logout:async()=>{try{try{await Mm()}catch(e){console.log("Firebase signout:",e)}await An(),r(null),localStorage.removeItem("auth_token")}catch(t){console.error("Logout error:",t),localStorage.removeItem("auth_token"),r(null)}},checkAuth:d,isAuthenticated:!!s};return(0,zm.jsx)(Bm.Provider,{value:u,children:t})},Wm=e=>{let{children:t,adminOnly:s=!1}=e;const{isAuthenticated:r,loading:n,user:a}=Vm();return n||r?n||!s||null!==a&&void 0!==a&&a.is_admin?t:(0,zm.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white p-4",children:(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,zm.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,zm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),(0,zm.jsx)("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access this area."}),(0,zm.jsx)("button",{onClick:()=>window.history.back(),className:"bg-[#4B2BD6] text-white px-6 py-2 rounded-lg hover:bg-[#3D24A8] transition-colors",children:"Go Back"})]})}):(0,zm.jsx)(ge,{to:"/",replace:!0})},qm=e=>{let{children:t}=e;const s=Z(),{isAuthenticated:r,loading:n}=Vm();return!n&&r&&"/"===s.pathname?(0,zm.jsx)(ge,{to:"/home",replace:!0}):t},Gm=e=>{let{children:t}=e;const[s,r]=(0,a.useState)(!0),[n,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(!0),c=Z(),d=te(),u=[{name:"Dashboard",path:"/admin/dashboard",permission:"dashboard",icon:(0,zm.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"})})},{name:"Settings & Configuration",path:"/admin/settings",permission:"settings",icon:(0,zm.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})},{name:"User Management",path:"/admin/users",permission:"user_management",icon:(0,zm.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})},{name:"Influencer Management",path:"/admin/influencers",permission:"influencer_management",icon:(0,zm.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})},{name:"Brand Management",path:"/admin/brands",permission:"brand_management",icon:(0,zm.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})},{name:"Listing Management",path:"/admin/listings",permission:"listing_management",icon:(0,zm.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{name:"Video Management",path:"/admin/videos",permission:"video_management",icon:(0,zm.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})},{name:"Subscription Management",path:"/admin/subscriptions",permission:"subscription_management",icon:(0,zm.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})},{name:"Promotion Approval",path:"/admin/promotions",permission:"promotion_management",icon:(0,zm.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})},{name:"Payment & Transactions",path:"/admin/payments",permission:"payment_management",icon:(0,zm.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})},{name:"Notifications & Communication",path:"/admin/notifications",permission:"notification_management",icon:(0,zm.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4 19h6v-2H4v2zm0-4h6v-2H4v2zm0-4h6V9H4v2zm0-4h6V5H4v2zm12 0h2V5h-2v2z"})})},{name:"CMS (Content Management)",path:"/admin/cms",permission:"cms_management",icon:(0,zm.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}];(0,a.useEffect)(()=>{const e=setTimeout(()=>{o&&(console.log("\ud83d\udd0d Permission loading timeout, setting fallback permissions"),i(["all"]),l(!1))},5e3);return(async()=>{try{const e=localStorage.getItem("admin_token");if(!e)return console.log("\ud83d\udd0d No admin token found, setting fallback permissions"),i(["all"]),void l(!1);const t=await fetch("/api/me",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){const e=await t.json();console.log("\ud83d\udd0d User data from /api/me:",e),e.user&&e.user.admin_role&&e.user.admin_role.permissions?(console.log("\ud83c\udfaf Setting permissions from admin role:",e.user.admin_role.permissions),i(e.user.admin_role.permissions)):e.user&&e.user.is_admin&&(console.log("\ud83c\udfaf Setting fallback permissions for admin user"),i(["all"]))}else console.log("\ud83d\udd0d API response not ok, setting fallback permissions"),i(["all"])}catch(xf){console.error("Error fetching user permissions:",xf),i(["all"])}finally{l(!1)}})(),()=>clearTimeout(e)},[]);const p=u.filter(e=>{return!(t=e.permission)||!!n.includes("all")||n.includes(t);var t});n.includes("all")&&console.log("\ud83c\udfaf SUPER ADMIN detected - showing all sidebar panels:",p.map(e=>e.name)),console.log("\ud83d\udd0d Current user permissions:",n),console.log("\ud83d\udd0d Filtered menu items count:",p.length),console.log("\ud83d\udd0d All menu items:",u.map(e=>e.name));const m=e=>c.pathname===e;return(0,zm.jsxs)("div",{className:"h-screen bg-gray-50 flex overflow-hidden",children:[s&&(0,zm.jsx)("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>r(!1)}),(0,zm.jsxs)("div",{className:"fixed inset-y-0 left-0 z-50 w-80 bg-gray-800 shadow-xl transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:h-full flex flex-col h-screen ".concat(s?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-600 flex-shrink-0",children:[(0,zm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,zm.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h1",{className:"text-xl font-bold text-white",children:"GetNayi"}),(0,zm.jsx)("p",{className:"text-sm text-gray-300",children:"Admin Panel"})]})]}),(0,zm.jsx)("button",{onClick:()=>r(!1),className:"lg:hidden text-gray-500 hover:text-gray-700",children:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,zm.jsxs)("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto min-h-0",children:[o?(0,zm.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,zm.jsx)("div",{className:"w-6 h-6 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"})}):p.length>0?p.map(e=>(0,zm.jsxs)(Ie,{to:e.path,className:"flex items-center space-x-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 ".concat(m(e.path)?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"),onClick:()=>r(!1),children:[e.icon,(0,zm.jsx)("span",{children:e.name})]},e.path)):u.map(e=>(0,zm.jsxs)(Ie,{to:e.path,className:"flex items-center space-x-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 ".concat(m(e.path)?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"),onClick:()=>r(!1),children:[e.icon,(0,zm.jsx)("span",{children:e.name})]},e.path)),!1]}),(0,zm.jsxs)("div",{className:"border-t border-gray-600 p-4 flex-shrink-0",children:[(0,zm.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,zm.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:(0,zm.jsx)("span",{className:"text-white font-semibold text-sm",children:"A"})}),(0,zm.jsxs)("div",{className:"flex-1",children:[(0,zm.jsx)("p",{className:"text-sm font-medium text-white",children:"Admin User"}),(0,zm.jsx)("p",{className:"text-xs text-gray-300",children:"Super Admin"})]})]}),(0,zm.jsxs)("button",{onClick:()=>{localStorage.removeItem("admin_token"),d("/admin/login")},className:"w-full flex items-center space-x-3 px-4 py-2 text-sm text-gray-300 hover:bg-red-600 hover:text-white rounded-lg transition-colors",children:[(0,zm.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),(0,zm.jsx)("span",{children:"Sign Out"})]})]})]}),(0,zm.jsxs)("div",{className:"flex-1 h-full overflow-y-auto",children:[(0,zm.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200 lg:hidden",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between h-16 px-4",children:[(0,zm.jsx)("button",{onClick:()=>r(!0),className:"text-gray-500 hover:text-gray-700",children:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,zm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,zm.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),(0,zm.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:"GetNayi Admin"})]}),(0,zm.jsx)("div",{className:"w-6"})]})}),(0,zm.jsx)("main",{children:t})]})]})},Km=e=>{let{activeTab:t}=e;const s=te(),r=Z(),{user:n}=Vm(),a=[{id:"home",label:"Home",path:"/home",icon:"home"},{id:"watch",label:"Watch",path:"/watch",icon:"play"},{id:"add",label:"List",path:"/listing",icon:"plus"},{id:"wishlist",label:"Wishlist",path:"/wishlist",icon:"heart"},{id:"profile",label:"Profile",path:"/profile",icon:"user"}],i=null!==n&&void 0!==n&&n.is_admin?[...a,{id:"admin",label:"Admin",path:"/admin/dashboard",icon:"admin"}]:a,o=(e,t)=>{const s=t?"#FFFFFF":"#6B7280",r="w-5 h-5";switch(e){case"home":return(0,zm.jsx)("svg",{className:r,fill:t?s:"none",stroke:s,viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})});case"play":return(0,zm.jsxs)("svg",{className:r,fill:t?s:"none",stroke:s,viewBox:"0 0 24 24",children:[(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]});case"plus":return(0,zm.jsx)("svg",{className:r,fill:"none",stroke:s,viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 4v16m8-8H4"})});case"heart":return(0,zm.jsx)("svg",{className:r,fill:t?s:"none",stroke:s,viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})});case"user":return(0,zm.jsx)("svg",{className:r,fill:t?s:"none",stroke:s,viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})});case"admin":return(0,zm.jsx)("svg",{className:r,fill:t?s:"none",stroke:s,viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})});default:return null}},l=e=>t?e.id===t:"/home"===e.path?"/home"===r.pathname:e.path&&r.pathname.startsWith(e.path);return(0,zm.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-[9999] safe-bottom",style:{paddingBottom:"env(safe-area-inset-bottom, 0)"},children:(0,zm.jsx)("div",{className:"bg-white mx-auto relative",style:{maxWidth:"calc(100% - 32px)",width:"100%",margin:"0 16px 16px",borderRadius:"24px",boxShadow:"0 12px 30px rgba(16, 24, 40, 0.12)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:(0,zm.jsx)("div",{className:"flex justify-around items-center py-3 px-4",children:i.map(e=>(0,zm.jsxs)("button",{onClick:()=>(e=>{e.path&&s(e.path)})(e),className:"flex flex-col items-center justify-center flex-1 py-1 relative",style:{minWidth:"44px",minHeight:"44px"},"aria-label":e.label,disabled:!e.path,children:[(0,zm.jsx)("div",{className:"p-2 rounded-full transition-all duration-200",style:Be({},l(e)?{background:"#4B2BD6",width:"44px",height:"44px",display:"flex",alignItems:"center",justifyContent:"center"}:{background:"transparent"}),children:o(e.icon,l(e))}),(0,zm.jsx)("span",{className:"text-xs font-medium mt-1 font-poppins",style:Be({fontSize:"12px"},l(e)?{color:"#4B2BD6"}:{color:"#6B7280"}),children:e.label}),e.badge&&(0,zm.jsx)("span",{className:"absolute top-0 right-4 bg-[#4B2BD6] text-white text-[10px] px-1.5 py-0.5 rounded-full font-medium",style:{right:"8px"},children:e.badge})]},e.id))})})})},$m=()=>{const e=te(),{isAuthenticated:t,loading:s}=Vm(),r=(0,a.useRef)(null),n=window.matchMedia("(prefers-reduced-motion: reduce)").matches;(0,a.useEffect)(()=>{!s&&t&&e("/home",{replace:!0})},[t,s,e]),(0,a.useEffect)(()=>{if(n)return;const e=r.current;e&&(e.style.animation="fadeInSlide 0.8s ease-out")},[n]);return s||t?null:(0,zm.jsxs)("div",{className:"min-h-screen w-full relative overflow-hidden flex flex-col",role:"main","aria-label":"Welcome to GetNayi",children:[(0,zm.jsx)("div",{className:"absolute inset-0",style:{background:"radial-gradient(ellipse at center, #6A00FF 0%, #7C3AED 25%, #9333EA 45%, #A855F7 65%, #3B82F6 85%, #60A5FA 100%)"}}),(0,zm.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-3/4 opacity-50",style:{background:"radial-gradient(ellipse 180% 120% at 15% 100%, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.6) 30%, rgba(255, 255, 255, 0.3) 50%, transparent 75%)",filter:"blur(100px)",transform:"translateY(10%)"},"aria-hidden":"true"}),(0,zm.jsx)("div",{className:"absolute z-10",style:{bottom:"250px",left:"50%",transform:"translateX(-50%)",width:"220px",height:"430px"},children:(0,zm.jsx)("div",{ref:r,className:"relative w-full h-full",style:{filter:"drop-shadow(0 30px 60px -12px rgba(0, 0, 0, 0.35))"},children:(0,zm.jsx)("img",{src:"/assets/images/phone-welcome.png",alt:"Phone mockup displaying product with product image and ADD TO CART badges",className:"w-full h-full object-contain",style:{userSelect:"none",pointerEvents:"none"}})})}),(0,zm.jsxs)("div",{className:"absolute z-10",style:{bottom:"48px",left:"24px",width:"60%",maxWidth:"320px"},children:[(0,zm.jsx)("div",{className:"mb-6",children:(0,zm.jsx)("img",{src:"/assets/images/logo-wordmark.png",alt:"GetNayi logo and wordmark",className:"h-12 object-contain",style:{userSelect:"none",pointerEvents:"none"}})}),(0,zm.jsxs)("h2",{className:"text-3xl font-bold mb-6 leading-tight font-poppins",style:{color:"#1A1A1A",fontSize:"32px",lineHeight:"1.2"},children:["Unleash ",(0,zm.jsx)("span",{className:"text-[#6A00FF]",children:"New Age"})," of",(0,zm.jsx)("br",{}),"Ecommerce"]}),(0,zm.jsx)("button",{onClick:()=>{e("/login")},className:"w-full text-white font-bold py-4 px-8 rounded-full text-base transition-all duration-200 shadow-xl font-poppins touch-manipulation active:scale-95",style:{background:"#6A00FF",boxShadow:"0 12px 30px -5px rgba(106, 0, 255, 0.55), 0 4px 8px -2px rgba(106, 0, 255, 0.4)",fontSize:"16px",letterSpacing:"0.025em",fontWeight:"700"},"aria-label":"Get started with GetNayi",onMouseDown:e=>{n||(e.currentTarget.style.transform="scale(0.95)")},onMouseUp:e=>{e.currentTarget.style.transform="scale(1)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)"},children:"Get Started"})]}),(0,zm.jsx)("style",{children:"\n        @keyframes fadeInSlide {\n          from {\n            opacity: 0;\n            transform: translateY(30px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @media (prefers-reduced-motion: reduce) {\n          * {\n            animation-duration: 0.01ms !important;\n            animation-iteration-count: 1 !important;\n            transition-duration: 0.01ms !important;\n          }\n        }\n      "})]})},Ym=()=>{const e=te(),{login:t}=Vm(),[s,r]=(0,a.useState)(!1),[n,i]=(0,a.useState)("");return(0,zm.jsxs)("div",{className:"min-h-screen bg-white relative overflow-hidden",children:[(0,zm.jsx)("div",{className:"pointer-events-none absolute -top-32 -right-32 w-96 h-96 rounded-full bg-[#6A00FF]/10 blur-3xl"}),(0,zm.jsx)("div",{className:"pointer-events-none absolute -bottom-24 -left-24 w-80 h-80 rounded-full bg-purple-400/10 blur-3xl"}),(0,zm.jsx)("div",{className:"flex items-center justify-center p-4 sm:p-6 min-h-screen",children:(0,zm.jsxs)("div",{className:"bg-white/80 backdrop-blur border border-gray-200 rounded-2xl shadow-xl p-6 sm:p-8 w-full max-w-md relative z-10",children:[(0,zm.jsxs)("div",{className:"text-center mb-6 sm:mb-8",children:[(0,zm.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2 font-poppins",children:"Welcome to GetNayi"}),(0,zm.jsx)("p",{className:"text-sm sm:text-base text-gray-600 font-poppins",children:"Sign in with your Google account"})]}),n&&(0,zm.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-lg text-xs sm:text-sm font-poppins",children:n}),(0,zm.jsxs)("button",{type:"button",onClick:async()=>{i(""),r(!0);try{const{user:s}=await Dm();console.log("=== GOOGLE SIGN-IN - FIREBASE USER DATA ==="),console.log("Firebase User:",{uid:s.uid,email:s.email,displayName:s.displayName,photoURL:s.photoURL,emailVerified:s.emailVerified,providerData:s.providerData,metadata:{creationTime:s.metadata.creationTime,lastSignInTime:s.metadata.lastSignInTime}}),console.log("==========================================");const n=await s.getIdToken();console.log("Firebase ID Token received (length):",n.length);const a=await Tn(n);if(console.log("=== GOOGLE SIGN-IN - BACKEND RESPONSE ==="),console.log("Backend Response:",{ok:a.ok,needsOnboard:a.needsOnboard,hasToken:!!a.token,hasUser:!!a.user,user:a.user,message:a.message}),console.log("=========================================="),!a.ok){const e=a.error||"Authentication failed. Please try again.";return console.error("Backend returned error:",e),i(e),It.error(e),void r(!1)}a.needsOnboard?(sessionStorage.setItem("google_id_token",n),console.log("New user - redirecting to signup with onboarding token"),It.success("Please complete your profile"),e("/signup",{state:{onboardingToken:a.onboardingToken,isGoogleAuth:!0}})):(a.token&&(localStorage.setItem("auth_token",a.token),console.log("Auth token stored in localStorage")),a.user&&(console.log("=== GOOGLE SIGN-IN - FINAL USER DATA ==="),console.log("User Data:",{user_id:a.user.user_id,username:a.user.username,full_name:a.user.full_name,email:a.user.email,phone:a.user.phone,profile_picture:a.user.profile_picture,is_provider:a.user.is_provider,is_influencer:a.user.is_influencer,is_admin:a.user.is_admin,capsules:a.user.capsules,type:a.user.type}),console.log("========================================"),t(a.user)),It.success("Signed in successfully!"),e("/home",{replace:!0}))}catch(l){var s,n,a,o;console.error("Google sign-in error:",l);let e="Failed to sign in with Google";"auth/popup-blocked"===l.code?e="Popup was blocked. Please allow popups and try again.":"auth/popup-closed-by-user"===l.code?e="Sign-in was cancelled.":"auth/network-request-failed"===l.code?e="Network error. Please check your internet connection.":"auth/too-many-requests"===l.code?e="Too many sign-in attempts. Please try again later.":null!==(s=l.response)&&void 0!==s&&null!==(n=s.data)&&void 0!==n&&n.error?(e=l.response.data.error,l.response.data.solution&&(e+="\n\n".concat(l.response.data.solution)),l.response.data.details&&!e.includes(l.response.data.details)&&(e+="\n\n".concat(l.response.data.details))):null!==(a=l.response)&&void 0!==a&&null!==(o=a.data)&&void 0!==o&&o.details?e=l.response.data.details:l.message&&(e=l.message),i(e),It.error(e)}finally{r(!1)}},disabled:s,className:"w-full flex items-center justify-center gap-3 bg-white border-2 border-gray-300 text-gray-700 py-4 rounded-xl text-base font-medium active:bg-gray-50 disabled:bg-gray-100 disabled:border-gray-200 transition-colors touch-manipulation font-poppins hover:border-gray-400",children:[(0,zm.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,zm.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,zm.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,zm.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,zm.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s?"Signing in...":"Continue with Google"]})]})})]})},Jm=()=>{var e,t;const s=te(),r=Z(),{login:n}=Vm(),i=null===(e=r.state)||void 0===e?void 0:e.onboardingToken,o=(null===(t=r.state)||void 0===t?void 0:t.isGoogleAuth)||!1,[l,c]=(0,a.useState)("info"),[d,u]=(0,a.useState)(""),[p,m]=(0,a.useState)(""),[h,x]=(0,a.useState)([]),[f,g]=(0,a.useState)([]),[b,y]=(0,a.useState)(!1),[v,j]=(0,a.useState)("");(0,a.useEffect)(()=>{i?w():s("/login")},[i,s]);const w=async()=>{try{const e=await Ln();x(e.categories||[])}catch(e){const t="Failed to load categories. Please refresh the page.";j(t),It.error(t)}},N=e=>{if(e.preventDefault(),!d.trim()||!p.trim()){const e="Username and full name are required";return j(e),void It.error(e)}if(d.length<3){const e="Username must be at least 3 characters";return j(e),void It.error(e)}j(""),c("preferences")};return"info"===l?(0,zm.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center p-4 sm:p-6",children:(0,zm.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-xl p-6 sm:p-8 w-full max-w-md relative z-10",children:[(0,zm.jsxs)("div",{className:"text-center mb-6 sm:mb-8",children:[(0,zm.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2 font-poppins",children:"Create Your Account"}),(0,zm.jsx)("p",{className:"text-sm sm:text-base text-gray-600 font-poppins",children:"Tell us about yourself"})]}),v&&(0,zm.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-lg text-xs sm:text-sm font-poppins",children:v}),(0,zm.jsxs)("form",{onSubmit:N,children:[(0,zm.jsxs)("div",{className:"mb-4",children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-poppins",children:"Username"}),(0,zm.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")),placeholder:"john_doe",className:"w-full px-4 py-4 text-base border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent bg-white text-gray-900 placeholder-gray-500",required:!0})]}),(0,zm.jsxs)("div",{className:"mb-6",children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-poppins",children:"Full Name"}),(0,zm.jsx)("input",{type:"text",value:p,onChange:e=>m(e.target.value),placeholder:"John Doe",className:"w-full px-4 py-4 text-base border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent bg-white text-gray-900 placeholder-gray-500",required:!0})]}),(0,zm.jsx)("button",{type:"submit",className:"w-full bg-[#6A00FF] text-white py-4 rounded-xl text-base font-medium active:bg-purple-700 transition-colors touch-manipulation font-poppins",children:"Continue"})]})]})}):(0,zm.jsx)("div",{className:"min-h-screen bg-white p-4 sm:p-6",children:(0,zm.jsx)("div",{className:"max-w-4xl mx-auto py-4 sm:py-8",children:(0,zm.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-xl p-4 sm:p-8 relative z-10",children:[(0,zm.jsxs)("div",{className:"text-center mb-6 sm:mb-8",children:[(0,zm.jsx)("h1",{className:"text-xl sm:text-3xl font-bold text-gray-900 mb-2 font-poppins",children:"Choose Your Interests"}),(0,zm.jsx)("p",{className:"text-sm sm:text-base text-gray-600 font-poppins",children:"Select at least 1 category you love"}),(0,zm.jsxs)("div",{className:"mt-2 inline-block px-4 py-2 bg-[#6A00FF] text-white rounded-full text-sm font-medium font-poppins",children:[f.length," selected"]})]}),v&&(0,zm.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-lg text-xs sm:text-sm font-poppins",children:v}),(0,zm.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 sm:gap-4 mb-6 sm:mb-8",children:h.map(e=>{var t,s;return(0,zm.jsxs)("button",{onClick:()=>{return t=e.slug,void g(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"p-4 sm:p-6 rounded-xl border-2 transition-all touch-manipulation ".concat(f.includes(e.slug)?"border-[#6A00FF] bg-[#6A00FF]/10 scale-95":"border-gray-300 active:border-[#6A00FF] bg-white hover:bg-gray-50"),children:[(0,zm.jsx)("div",{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-2 sm:mb-3 rounded-lg overflow-hidden flex items-center justify-center bg-gradient-to-br from-[#6A00FF] to-purple-400",children:e.image_url?(0,zm.jsx)("img",{src:e.image_url,alt:e.category_name,className:"w-full h-full object-cover",onError:t=>{t.target.style.display="none";const s=t.target.parentElement;if(s&&!s.querySelector("span")){var r,n;const t=document.createElement("span");t.className="text-xl sm:text-2xl text-white font-bold font-poppins",t.textContent=(null===(r=e.category_name)||void 0===r||null===(n=r.charAt(0))||void 0===n?void 0:n.toUpperCase())||"?",s.appendChild(t)}}}):(0,zm.jsx)("span",{className:"text-xl sm:text-2xl text-white font-bold font-poppins",children:(null===(t=e.category_name)||void 0===t||null===(s=t.charAt(0))||void 0===s?void 0:s.toUpperCase())||"?"})}),(0,zm.jsx)("h3",{className:"font-semibold text-gray-900 text-center text-sm sm:text-base font-poppins",children:e.category_name}),f.includes(e.slug)&&(0,zm.jsx)("div",{className:"mt-2 text-center",children:(0,zm.jsx)("span",{className:"inline-block w-6 h-6 bg-[#6A00FF] text-white rounded-full text-sm leading-6 font-poppins",children:"\u2713"})})]},e.category_id)})}),(0,zm.jsxs)("div",{className:"space-y-3",children:[(0,zm.jsx)("button",{onClick:async()=>{if(f.length<1){const e="Please select at least 1 category";return j(e),void It.error(e)}y(!0),j("");try{let e;if(o){const t=sessionStorage.getItem("google_id_token");if(!t)throw new Error("Google authentication token not found. Please sign in again.");console.log("=== GOOGLE SIGNUP - SIGNUP DATA ==="),console.log("Signup Data:",{username:d.trim(),fullName:p.trim(),selectedCategories:f,idTokenLength:t.length}),console.log("==================================="),e=await In(t,d.trim(),p.trim(),f),sessionStorage.removeItem("google_id_token")}else e=await En(i,d.trim(),p.trim(),f);if(!e.ok){const t=e.error||"Signup failed. Please try again.";return console.error("Signup error:",t),j(t),It.error(t),void y(!1)}console.log("=== GOOGLE SIGNUP - BACKEND RESPONSE ==="),console.log("Backend Response:",{ok:e.ok,hasToken:!!e.token,hasUser:!!e.user,user:e.user}),console.log("========================================"),e.token&&(localStorage.setItem("auth_token",e.token),console.log("Auth token stored in localStorage")),e.user&&(console.log("=== GOOGLE SIGNUP - FINAL USER DATA ==="),console.log("User Data:",{user_id:e.user.user_id,username:e.user.username,full_name:e.user.full_name,email:e.user.email,phone:e.user.phone,profile_picture:e.user.profile_picture,is_provider:e.user.is_provider,is_influencer:e.user.is_influencer,is_admin:e.user.is_admin,capsules:e.user.capsules,type:e.user.type}),console.log("======================================="),n(e.user)),It.success("Account created successfully!"),s("/home",{replace:!0})}catch(l){var e,t,r,a;const s=(null===(e=l.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||(null===(r=l.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.details)||l.message||"Signup failed. Please try again.";j(s),It.error(s)}finally{y(!1)}},disabled:b||f.length<1,className:"w-full px-8 py-4 bg-[#6A00FF] text-white rounded-xl text-base font-medium active:bg-purple-700 disabled:bg-gray-400 transition-colors touch-manipulation font-poppins",children:b?"Creating Account...":"Get Started"}),(0,zm.jsx)("button",{onClick:()=>c("info"),className:"w-full px-6 py-3 text-gray-600 active:text-gray-800 font-medium touch-manipulation font-poppins",disabled:b,children:"\u2190 Back"})]})]})})})};var Qm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Xm=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],Zm=(e,t)=>{const s=(0,a.forwardRef)((s,r)=>{let{color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:d}=s,u=Ii(s,Xm);return(0,a.createElement)("svg",Be(Be({ref:r},Qm),{},{width:i,height:i,stroke:n,strokeWidth:l?24*Number(o)/Number(i):o,className:["lucide","lucide-".concat((p=e,p.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim())),c].join(" ")},u),[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(d)?d:[d]]);var p});return s.displayName="".concat(e),s},eh=Zm("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),th=Zm("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]),sh=Zm("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),rh=Zm("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),nh=Zm("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]),ah=Zm("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),ih=Zm("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),oh=Zm("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),lh=Zm("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ch=Zm("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),dh=Zm("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),uh=Zm("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ph=Zm("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),mh=Zm("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),hh=Zm("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),xh=Zm("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),fh="undefined"!==typeof window,gh=()=>{var e,t,s,r;const n=te(),{isAuthenticated:i}=Vm(),[o,l]=(0,a.useState)("Best Selling"),[c,d]=(0,a.useState)([]),[u,p]=(0,a.useState)([]),[m,h]=(0,a.useState)({}),[x,f]=(0,a.useState)({}),[g,b]=(0,a.useState)([]),[y,v]=(0,a.useState)([]),[j,w]=(0,a.useState)([]),[N,_]=(0,a.useState)([]),[k,S]=(0,a.useState)(!0),[C,E]=(0,a.useState)(!1),[P,A]=(0,a.useState)(!0),[T,I]=(0,a.useState)(!0),[L,F]=(0,a.useState)(!0),[R,D]=(0,a.useState)(!0),[O,M]=(0,a.useState)(!1),[U,z]=(0,a.useState)(!1),[B,V]=(0,a.useState)(!1),[H,W]=(0,a.useState)(!1),[q,G]=(0,a.useState)(!1),[K,$]=(0,a.useState)(""),[Y,J]=(0,a.useState)(null),[Q,X]=(0,a.useState)(null),[Z,ee]=(0,a.useState)(!1),[se,re]=(0,a.useState)(!1),[ne,ae]=(0,a.useState)(null),ie=!!fh&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,[oe,le]=(0,a.useState)(fh?window.innerWidth:375),ce=(0,a.useMemo)(()=>u.length>0?u:c,[u,c]),de=0===ce.length&&(T||P);(0,a.useEffect)(()=>{if(!fh)return;const e=()=>le(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const ue=(0,a.useMemo)(()=>oe>=1280?96:oe>=1024?88:oe>=768?76:oe>=480?66:58,[oe]),pe=(0,a.useMemo)(()=>Math.max(28,Math.round(.45*ue)),[ue]),me=(0,a.useMemo)(()=>Math.max(8,Math.round(.18*ue)),[ue]),he=(0,a.useMemo)(()=>ue>=88?14:ue>=66?13:12,[ue]),xe=e=>e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(0),"k"):e.toString(),fe=e=>"string"===typeof e?e:"$".concat(parseFloat(e).toFixed(0)),ge=e=>{var t,s,r;const n=(null===(t=e.slug)||void 0===t?void 0:t.toLowerCase())||(null===(s=e.category_name)||void 0===s?void 0:s.toLowerCase())||"",a=(null===(r=e.category_name)||void 0===r?void 0:r.toLowerCase())||"";return n.includes("fashion")||a.includes("fashion")?(0,zm.jsx)(eh,{className:"text-[#6A00FF]",style:{width:pe,height:pe}}):n.includes("electronic")||a.includes("electronic")?(0,zm.jsx)(th,{className:"text-[#6A00FF]",style:{width:pe,height:pe}}):n.includes("beauty")||a.includes("beauty")?(0,zm.jsx)(sh,{className:"text-[#6A00FF]",style:{width:pe,height:pe}}):n.includes("home")||a.includes("home")?(0,zm.jsx)(rh,{className:"text-[#6A00FF]",style:{width:pe,height:pe}}):n.includes("sport")||a.includes("sport")||n.includes("fitness")||a.includes("fitness")?(0,zm.jsx)(nh,{className:"text-[#6A00FF]",style:{width:pe,height:pe}}):n.includes("food")||a.includes("food")||n.includes("beverage")||a.includes("beverage")?(0,zm.jsx)(ah,{className:"text-[#6A00FF]",style:{width:pe,height:pe}}):n.includes("service")||a.includes("service")?(0,zm.jsx)(ih,{className:"text-[#6A00FF]",style:{width:pe,height:pe}}):(0,zm.jsx)(eh,{className:"text-[#6A00FF]",style:{width:pe,height:pe}})};(0,a.useEffect)(()=>{(async()=>{try{A(!0),M(!1);const e=await Ln();e.categories&&Array.isArray(e.categories)?d(e.categories.slice(0,10)):d([])}catch(xf){console.error("Error fetching categories:",xf),d([]),M(!0)}finally{A(!1)}})()},[]),(0,a.useEffect)(()=>{(async()=>{try{S(!0),E(!1);const e=await Ei({slug:"home"});null!==e&&void 0!==e&&e.ok?_(e.banners||[]):(_([]),E(!0))}catch(xf){console.error("Error fetching home banners:",xf),_([]),E(!0)}finally{S(!1)}})()},[]);const be=(0,a.useCallback)(async e=>{if(!e||0===e.length)return;const t=e.filter(e=>!m[e.category_id]);if(0===t.length)return;const s={};t.forEach(e=>{s[e.category_id]=!0}),f(e=>Be(Be({},e),s));const r=t.map(async e=>{try{const t=await $n({category_id:e.category_id,limit:10}),s=t&&Array.isArray(t.listings)?t.listings:[];h(t=>Be(Be({},t),{},{[e.category_id]:s}))}catch(xf){console.error("Error fetching products for category ".concat(e.category_id,":"),xf),h(t=>Be(Be({},t),{},{[e.category_id]:[]}))}finally{f(t=>Be(Be({},t),{},{[e.category_id]:!1}))}});await Promise.all(r)},[m]);(0,a.useEffect)(()=>{(async()=>{try{I(!0),z(!1);const e=await Ti.get("/api/categories/with-approved-videos");e.data&&e.data.categories&&Array.isArray(e.data.categories)?p(e.data.categories):p([])}catch(xf){console.error("Error fetching categories with approved videos:",xf),p([]),z(!0)}finally{I(!1)}})()},[]),(0,a.useEffect)(()=>{ce&&ce.length>0&&be(ce)},[ce,be]),(0,a.useEffect)(()=>{(async()=>{try{F(!0),V(!1);const e=await $n({limit:20});if(e&&e.listings&&Array.isArray(e.listings)){const t=[...e.listings].sort((e,t)=>{const s=new Date(e.created_at||0);return new Date(t.created_at||0)-s});b(t.slice(0,10))}else b([])}catch(xf){console.error("Error fetching recently added listings:",xf),b([]),V(!0)}finally{F(!1)}})()},[]),(0,a.useEffect)(()=>{(async()=>{try{let e;if(D(!0),W(!1),"Best Selling"===o)if(e=await $n({limit:20}),e&&e.listings&&Array.isArray(e.listings)){const t=[...e.listings].sort((e,t)=>{const s=(e.view_count||0)+2*(e.like_count||0);return(t.view_count||0)+2*(t.like_count||0)-s});v(t.slice(0,10))}else v([]);else if("Trending"===o)e=await $n({limit:20}),e&&e.listings&&Array.isArray(e.listings)?v(e.listings.slice(0,10)):v([]);else if("Price Drop"===o)if(e=await $n({limit:20}),e&&e.listings&&Array.isArray(e.listings)){const t=[...e.listings].sort((e,t)=>parseFloat(e.price||0)-parseFloat(t.price||0));v(t.slice(0,10))}else v([])}catch(xf){console.error("Error fetching For Your recommended listings:",xf),v([]),W(!0)}finally{D(!1)}})()},[o]),(0,a.useEffect)(()=>{(async()=>{if(i)try{const e=await la();e&&e.wishlist&&Array.isArray(e.wishlist)?w(e.wishlist.map(e=>e.listing_id)):w([])}catch(xf){var e;401!==(null===(e=xf.response)||void 0===e?void 0:e.status)&&console.error("Error fetching wishlist:",xf),w([])}else w([])})()},[i]);const ye=(0,a.useRef)(new Map),ve=(e,t)=>{const s=e.touches[0];ye.current.set(t,{x:s.clientX,y:s.clientY,time:Date.now(),isScrolling:!1})},je=(e,t)=>{const s=ye.current.get(t);if(!s)return;const r=e.touches[0],n=Math.abs(r.clientX-s.x),a=Math.abs(r.clientY-s.y);Math.sqrt(n*n+a*a)>10&&(s.isScrolling=!0,ye.current.set(t,s))},we=(e,t,s)=>{const r=ye.current.get(t);r&&!r.isScrolling&&(e.preventDefault(),e.stopPropagation(),s(e)),setTimeout(()=>{ye.current.delete(t)},100)},Ne=(e,t)=>{if(!ie&&e.currentTarget){const t=e.currentTarget;t.style.transform="scale(0.96)",setTimeout(()=>{t&&t.style&&(t.style.transform="scale(1)")},150)}n("/category?category_id=".concat(t.category_id,"&category_name=").concat(encodeURIComponent(t.category_name)))},_e=(e,t)=>{!ie&&e.currentTarget&&(e.currentTarget.style.transform="scale(0.96)",setTimeout(()=>{e.currentTarget&&(e.currentTarget.style.transform="scale(1)")},150));const s=(null===t||void 0===t?void 0:t.video_id)||(null===t||void 0===t?void 0:t.listing_id);s&&n("/watch?video=".concat(s))},ke=async(e,t)=>{if(e.stopPropagation(),e.preventDefault(),null===t||void 0===t||!t.listing_id)return;const s=j.includes(t.listing_id);try{s?(await da(t.listing_id),w(j.filter(e=>e!==t.listing_id)),It.success("Removed from wishlist")):(await ca(t.listing_id),w([...j,t.listing_id]),It.success("Added to wishlist"))}catch(xf){var r,n;console.error("Error toggling wishlist:",xf),It.error((null===(r=xf.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||"Failed to update wishlist")}};(0,a.useEffect)(()=>{if(ne&&clearTimeout(ne),!q)return $(""),J(null),void X(null);if(K.length<2)return J(null),void X(null);const e=setTimeout(async()=>{try{ee(!0);const e=await Pi(K,10);e.ok&&J(e.suggestions)}catch(xf){console.error("Error fetching suggestions:",xf)}finally{ee(!1)}},300);return ae(e),()=>{e&&clearTimeout(e)}},[K,q]);const Se=async e=>{if(e&&!(e.length<2))try{re(!0),X(null);const t=await Ai(e,20);t.ok?X(t.results):It.error("Search failed")}catch(xf){console.error("Error searching:",xf),It.error("Search failed")}finally{re(!1)}},Ce=(e,t)=>{if("category"===e)n("/category?category_id=".concat(t.category_id,"&category_name=").concat(encodeURIComponent(t.category_name||"Category"))),G(!1);else if("brand"===e||"influencer"===e){const e=t.user_id||t.provider_id;e?(n("/profile?user_id=".concat(e)),G(!1)):It.error("Invalid profile")}else"product"===e&&(n("/watch?video=".concat(t.listing_id)),G(!1))},Ee=async(e,t)=>{e.stopPropagation();const s=j.includes(t.listing_id);try{s?(await da(t.listing_id),w(j.filter(e=>e!==t.listing_id)),It.success("Removed from wishlist")):(await ca(t.listing_id),w([...j,t.listing_id]),It.success("Added to wishlist"))}catch(xf){var r,n;console.error("Error toggling wishlist:",xf),It.error((null===(r=xf.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||"Failed to update wishlist")}};return(0,zm.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,zm.jsx)("header",{className:"sticky top-0 z-50 bg-white",children:(0,zm.jsxs)("div",{className:"px-4 py-4 flex items-center justify-between",children:[(0,zm.jsx)("div",{className:"flex items-center",children:(0,zm.jsxs)("span",{className:"text-xl font-bold font-poppins",style:{fontSize:"20px"},children:[(0,zm.jsx)("span",{style:{color:"#111827"},children:"Get"}),(0,zm.jsx)("span",{style:{color:"#4B2BD6"},children:"nayi"})]})}),(0,zm.jsx)("div",{className:"flex items-center space-x-3",children:(0,zm.jsx)("button",{onClick:()=>n("/search"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Search",children:(0,zm.jsx)(oh,{className:"w-5 h-5 text-gray-600"})})})]})}),(0,zm.jsx)("div",{className:"px-4 pt-4",children:k?(0,zm.jsx)("div",{className:"space-y-4",children:(0,zm.jsx)("div",{className:"h-44 bg-gray-200 animate-pulse rounded-3xl"})}):C||0===N.length?null:(0,zm.jsx)("div",{className:"space-y-4",children:N.map(e=>(0,zm.jsxs)("div",{className:"relative overflow-hidden rounded-3xl border border-gray-200 shadow-sm bg-gradient-to-r from-[#EEF2FF] via-white to-white",children:[e.image_url&&(0,zm.jsx)("div",{className:"absolute inset-0 opacity-10",children:(0,zm.jsx)("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover",loading:"lazy"})}),(0,zm.jsxs)("div",{className:"relative z-10 p-6 sm:p-8 flex flex-col gap-4",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-xs font-semibold uppercase tracking-widest text-[#6A00FF]",children:e.banner_type||"Featured"}),(0,zm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.title})]}),e.description&&(0,zm.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),e.button_text&&e.link_url&&(0,zm.jsx)("a",{href:e.link_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center px-4 py-2 rounded-full bg-[#111827] text-white text-sm font-semibold shadow hover:bg-black transition-colors w-full sm:w-auto",children:e.button_text})]})]},e.id))})}),(0,zm.jsx)("section",{className:"px-4",style:{paddingTop:"12px"},children:P?(0,zm.jsx)("div",{className:"flex space-x-4 overflow-x-auto pb-2",children:[...Array(5)].map((e,t)=>(0,zm.jsxs)("div",{className:"flex-shrink-0 text-center",children:[(0,zm.jsx)("div",{className:"rounded-full bg-gray-200 animate-pulse",style:{width:"64px",height:"64px"}}),(0,zm.jsx)("div",{className:"h-4 w-16 bg-gray-200 animate-pulse rounded mt-2 mx-auto"})]},t))}):c.length>0?(0,zm.jsx)("div",{className:"flex overflow-x-auto pb-2 scrollbar-hide",style:{scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",gap:"".concat(me,"px")},children:c.map(e=>{var t,s,r;return(0,zm.jsxs)("div",{className:"flex-shrink-0 text-center",style:{scrollSnapAlign:"start",width:"".concat(ue,"px")},children:[(0,zm.jsxs)("div",{className:"rounded-full overflow-hidden cursor-pointer transition-transform duration-150 mx-auto relative",style:{width:"".concat(ue,"px"),height:"".concat(ue,"px"),border:"".concat(Math.max(2,Math.round(.035*ue)),"px solid #4B2BD6"),boxShadow:"0 2px 4px rgba(0, 0, 0, 0.05)",backgroundColor:"#F3F4F6"},onClick:t=>Ne(t,e),onTouchStart:t=>ve(t,"category-".concat(e.category_id)),onTouchMove:t=>je(t,"category-".concat(e.category_id)),onTouchEnd:t=>we(t,"category-".concat(e.category_id),t=>Ne(t,e)),"aria-label":"".concat(e.category_name," category"),role:"button",tabIndex:0,children:[e.image_url?(0,zm.jsx)("img",{src:e.image_url,alt:e.category_name,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none";const t=e.target.nextElementSibling;t&&(t.style.display="flex")}}):null,(0,zm.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-[#6A00FF] to-purple-400",style:{display:e.image_url?"none":"flex",zIndex:1},children:(0,zm.jsx)("span",{className:"text-white font-bold",style:{fontSize:"".concat(Math.round(.4*ue),"px"),fontFamily:"Gilroy, Inter, sans-serif"},children:(null===(t=e.category_name)||void 0===t||null===(s=t.charAt(0))||void 0===s?void 0:s.toUpperCase())||"?"})}),!e.image_url&&(0,zm.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:ge(e)})]}),(0,zm.jsx)("p",{className:"font-poppins font-medium mt-2 line-clamp-1 truncate",style:{fontSize:"".concat(he,"px"),color:"#111827",marginTop:"8px",width:"".concat(ue,"px"),minHeight:"".concat(Math.round(.6*ue),"px"),display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",wordBreak:"break-word"},title:e.category_name,children:(null===(r=e.category_name)||void 0===r?void 0:r.length)>8?"".concat(e.category_name.slice(0,8),"..."):e.category_name})]},e.category_id)})}):O?(0,zm.jsx)("div",{className:"text-center py-4 text-gray-500 text-sm font-poppins",children:"Could not fetch categories"}):(0,zm.jsx)("div",{className:"text-center py-4 text-gray-500 text-sm font-poppins",children:"No categories available"})}),(0,zm.jsxs)("section",{className:"px-4",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,zm.jsx)("h2",{className:"font-bold font-poppins",style:{fontSize:"18px",color:"#111827"},children:"Recently Added"}),(0,zm.jsx)("div",{className:"flex items-center flex-1 ml-4 mr-2",children:(0,zm.jsx)("div",{className:"flex-1",style:{height:"1px",backgroundColor:"#E5E7EB"}})}),(0,zm.jsx)("button",{className:"font-poppins font-medium text-sm",style:{color:"#6B7280",fontSize:"13px"},"aria-label":"See all recently added products",onClick:()=>n("/watch"),children:"see all"})]}),L?(0,zm.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-hide",style:{scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",paddingRight:"16px"},children:[...Array(3)].map((e,t)=>(0,zm.jsx)("div",{className:"flex-shrink-0 relative",style:{width:"calc((100vw - 48px - 16px) / 2)",minWidth:"calc((100vw - 48px - 16px) / 2)",scrollSnapAlign:"start"},children:(0,zm.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden",style:{borderRadius:"18px",boxShadow:"0 8px 20px rgba(16, 24, 40, 0.06)"},children:[(0,zm.jsx)("div2",{className:"relative w-full bg-gray-200 animate-pulse",style:{height:"220px"}}),(0,zm.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-2.5 z-10",children:[(0,zm.jsx)("div",{className:"h-3 bg-white/70 rounded animate-pulse mb-2",style:{width:"70%"}}),(0,zm.jsx)("div",{className:"h-4 bg-white rounded animate-pulse mb-1",style:{width:"40%",borderRadius:"6px"}}),(0,zm.jsx)("div",{className:"h-2 bg-white/60 rounded animate-pulse mt-1",style:{width:"90%"}})]})]})},t))}):g.length>0?(0,zm.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-hide",style:{scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",paddingRight:"16px"},children:g.map(e=>(0,zm.jsx)("div",{className:"flex-shrink-0 relative group cursor-pointer transition-transform duration-150",style:{width:"calc((100vw - 48px - 16px) / 2)",minWidth:"calc((100vw - 48px - 16px) / 2)",scrollSnapAlign:"start"},onClick:t=>_e(t,e),onTouchStart:t=>ve(t,"card-".concat(e.listing_id)),onTouchMove:t=>je(t,"card-".concat(e.listing_id)),onTouchEnd:t=>we(t,"card-".concat(e.listing_id),t=>_e(t,e)),role:"button",tabIndex:0,"aria-label":"".concat(e.product_name," - ").concat(fe(e.price)),children:(0,zm.jsx)("div",{className:"bg-white rounded-xl overflow-hidden",style:{borderRadius:"18px",boxShadow:"0 8px 20px rgba(16, 24, 40, 0.06)"},children:(0,zm.jsxs)("div",{className:"relative w-full overflow-hidden bg-gray-800",style:{height:"220px"},children:[e.thumbnail||e.thumbnail_url?(0,zm.jsx)("img",{src:e.thumbnail||e.thumbnail_url,alt:e.product_name,className:"w-full h-full object-cover",onError:e=>{e.target.src="https://via.placeholder.com/280x180?text=No+Image"}}):(0,zm.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-800",children:(0,zm.jsx)("span",{className:"text-gray-400 text-sm",children:"No Image"})}),(0,zm.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-black/70 to-transparent pointer-events-none"}),e.view_count>0&&(0,zm.jsxs)("div",{className:"absolute top-2 left-2 flex items-center gap-1 px-1.5 py-1 rounded z-10",style:{background:"#1E3A8A",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)"},children:[(0,zm.jsx)(lh,{className:"w-2.5 h-2.5 text-white"}),(0,zm.jsx)("span",{className:"text-white font-poppins font-medium",style:{fontSize:"10px"},children:xe(e.view_count||0)})]}),(0,zm.jsx)("button",{onClick:t=>ke(t,e),onMouseDown:e=>{e.stopPropagation()},onTouchStart:e=>{e.stopPropagation()},className:"absolute top-2 right-2 w-7 h-7 rounded-lg bg-white flex items-center justify-center shadow-md hover:bg-gray-50 transition-all z-20 pointer-events-auto",style:{minWidth:"28px",minHeight:"28px"},"aria-label":j.includes(e.listing_id)?"Remove from wishlist":"Add to wishlist",children:(0,zm.jsx)(ch,{className:"w-4 h-4 ".concat(j.includes(e.listing_id)?"fill-red-500 text-red-500":"text-gray-700")})}),(0,zm.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-2.5 z-10",children:[(0,zm.jsx)("h3",{className:"font-poppins font-semibold mb-0.5 line-clamp-2 text-white",style:{fontSize:"12px",lineHeight:"1.3",fontWeight:"600",textShadow:"0 1px 3px rgba(0, 0, 0, 0.5)"},children:e.product_name}),(0,zm.jsx)("div",{className:"inline-block px-2 py-1 rounded mt-0.5 mb-0.5",style:{background:"#FFFFFF",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",borderRadius:"6px"},children:(0,zm.jsx)("span",{className:"font-poppins font-semibold",style:{color:"#111827",fontSize:"11px"},children:fe(e.price)})})]})]})})},e.listing_id))}):B?(0,zm.jsx)("div",{className:"text-center py-8 text-gray-500 text-sm font-poppins",children:"Could not fetch listings"}):(0,zm.jsx)("div",{className:"text-center py-8 text-gray-500 text-sm font-poppins",children:"No recently added listings"})]}),(0,zm.jsxs)("section",{className:"px-4 py-4 pb-6 sm:pb-12",style:{paddingTop:"18px"},children:[(0,zm.jsx)("div",{className:"mb-4",children:(0,zm.jsx)("h2",{className:"font-bold font-poppins",style:{fontSize:"18px",color:"#111827"},children:"For You"})}),(0,zm.jsx)("div",{className:"flex gap-2 mb-4 overflow-x-auto scrollbar-hide",style:{scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",gap:"8px"},role:"tablist","aria-label":"Filter options",children:["Best Selling","Trending","Price Drop"].map(e=>(0,zm.jsx)("button",{onClick:()=>l(e),className:"flex-shrink-0 px-3 py-1.5 rounded-full font-poppins font-medium transition-all duration-200",style:Be({scrollSnapAlign:"start",fontSize:"11px",minHeight:"32px",whiteSpace:"nowrap"},o===e?{background:"#4B2BD6",color:"#FFFFFF",border:"none"}:{background:"#FFFFFF",color:"#111827",border:"1px solid #D1D5DB"}),role:"tab","aria-selected":o===e,"aria-label":"Filter by ".concat(e),children:e},e))}),R?(0,zm.jsx)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[...Array(4)].map((e,t)=>(0,zm.jsx)("div",{className:"relative",children:(0,zm.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden",style:{borderRadius:"18px",boxShadow:"0 8px 20px rgba(16, 24, 40, 0.06)"},children:[(0,zm.jsx)("div",{className:"relative w-full bg-gray-200 animate-pulse",style:{height:"220px"}}),(0,zm.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-2.5",children:[(0,zm.jsx)("div",{className:"h-3 bg-gray-300 rounded animate-pulse mb-2",style:{width:"70%"}}),(0,zm.jsx)("div",{className:"h-4 bg-gray-300 rounded animate-pulse mb-1",style:{width:"40%"}}),(0,zm.jsx)("div",{className:"h-2 bg-gray-300 rounded animate-pulse mt-1",style:{width:"85%"}})]})]})},t))}):y.length>0?(0,zm.jsx)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:y.map(e=>(0,zm.jsx)("div",{className:"relative group cursor-pointer transition-transform duration-150",onClick:t=>_e(t,e),onTouchStart:t=>ve(t,"card-".concat(e.listing_id)),onTouchMove:t=>je(t,"card-".concat(e.listing_id)),onTouchEnd:t=>we(t,"card-".concat(e.listing_id),t=>_e(t,e)),role:"button",tabIndex:0,"aria-label":"".concat(e.product_name," - ").concat(fe(e.price)),children:(0,zm.jsx)("div",{className:"bg-white rounded-xl overflow-hidden",style:{borderRadius:"18px",boxShadow:"0 8px 20px rgba(16, 24, 40, 0.06)"},children:(0,zm.jsxs)("div",{className:"relative w-full overflow-hidden bg-gray-800",style:{height:"220px"},children:[e.thumbnail||e.thumbnail_url?(0,zm.jsx)("img",{src:e.thumbnail||e.thumbnail_url,alt:e.product_name,className:"w-full h-full object-cover",onError:e=>{e.target.src="https://via.placeholder.com/280x180?text=No+Image"}}):(0,zm.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-800",children:(0,zm.jsx)("span",{className:"text-gray-400 text-sm",children:"No Image"})}),(0,zm.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-black/70 to-transparent pointer-events-none"}),e.view_count>0&&(0,zm.jsxs)("div",{className:"absolute top-2 left-2 flex items-center gap-1 px-1.5 py-1 rounded z-10",style:{background:"#1E3A8A",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)"},children:[(0,zm.jsx)(lh,{className:"w-2.5 h-2.5 text-white"}),(0,zm.jsx)("span",{className:"text-white font-poppins font-medium",style:{fontSize:"10px"},children:xe(e.view_count||0)})]}),(0,zm.jsx)("button",{onClick:t=>ke(t,e),onMouseDown:e=>{e.stopPropagation()},onTouchStart:e=>{e.stopPropagation()},className:"absolute top-2 right-2 w-7 h-7 rounded-lg bg-white flex items-center justify-center shadow-md hover:bg-gray-50 transition-all z-20 pointer-events-auto",style:{minWidth:"28px",minHeight:"28px"},"aria-label":j.includes(e.listing_id)?"Remove from wishlist":"Add to wishlist",children:(0,zm.jsx)(ch,{className:"w-4 h-4 ".concat(j.includes(e.listing_id)?"fill-red-500 text-red-500":"text-gray-700")})}),(0,zm.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-2.5 z-10",children:[(0,zm.jsx)("h3",{className:"font-poppins font-semibold mb-0.5 line-clamp-2 text-white",style:{fontSize:"12px",lineHeight:"1.3",fontWeight:"600",textShadow:"0 1px 3px rgba(0, 0, 0, 0.5)"},children:e.product_name}),(0,zm.jsx)("div",{className:"inline-block px-2 py-1 rounded mt-0.5 mb-0.5",style:{background:"#FFFFFF",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",borderRadius:"6px"},children:(0,zm.jsx)("span",{className:"font-poppins font-semibold",style:{color:"#111827",fontSize:"11px"},children:fe(e.price)})})]})]})})},"for-you-".concat(e.listing_id)))}):H?(0,zm.jsx)("div",{className:"text-center py-8 text-gray-500 text-sm font-poppins",children:"Could not fetch listings"}):(0,zm.jsxs)("div",{className:"text-center py-8 text-gray-500 text-sm font-poppins",children:["No listings available for ",o]})]}),(0,zm.jsx)("section",{className:"px-4 py-4 pb-32 sm:pb-12",style:{paddingTop:"18px"},children:de?(0,zm.jsx)("div",{className:"space-y-8",children:[...Array(3)].map((e,t)=>(0,zm.jsxs)("div",{children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,zm.jsx)("div",{className:"h-6 bg-gray-200 animate-pulse rounded w-32"}),(0,zm.jsx)("div",{className:"flex items-center flex-1 ml-4 mr-2",children:(0,zm.jsx)("div",{className:"flex-1 h-px bg-gray-200"})}),(0,zm.jsx)("div",{className:"h-4 bg-gray-200 animate-pulse rounded w-12"})]}),(0,zm.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-hide",style:{scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",paddingRight:"16px"},children:[...Array(3)].map((e,t)=>(0,zm.jsx)("div",{className:"flex-shrink-0 relative",style:{width:"calc((100vw - 48px - 16px) / 2)",minWidth:"calc((100vw - 48px - 16px) / 2)",scrollSnapAlign:"start"},children:(0,zm.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden",style:{borderRadius:"18px",boxShadow:"0 8px 20px rgba(16, 24, 40, 0.06)"},children:[(0,zm.jsx)("div",{className:"relative w-full bg-gray-200 animate-pulse",style:{height:"220px"}}),(0,zm.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-2.5 z-10",children:[(0,zm.jsx)("div",{className:"h-3 bg-white/70 rounded animate-pulse mb-2",style:{width:"70%"}}),(0,zm.jsx)("div",{className:"h-4 bg-white rounded animate-pulse mb-1",style:{width:"40%",borderRadius:"6px"}}),(0,zm.jsx)("div",{className:"h-2 bg-white/60 rounded animate-pulse mt-1",style:{width:"90%"}})]})]})},t))})]},t))}):ce.length>0?(0,zm.jsx)("div",{className:"space-y-8",children:ce.map(e=>{const t=m[e.category_id]||[],s=x[e.category_id];return(0,zm.jsxs)("div",{children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,zm.jsx)("h2",{className:"font-bold font-poppins",style:{fontSize:"18px",color:"#111827"},children:e.category_name}),(0,zm.jsx)("div",{className:"flex items-center flex-1 ml-4 mr-2",children:(0,zm.jsx)("div",{className:"flex-1",style:{height:"1px",backgroundColor:"#E5E7EB"}})}),(0,zm.jsx)("button",{className:"font-poppins font-medium text-sm",style:{color:"#6B7280",fontSize:"13px"},"aria-label":"See all ".concat(e.category_name," products"),onClick:()=>{n("/category?category_id=".concat(e.category_id,"&category_name=").concat(encodeURIComponent(e.category_name)))},children:"see all"})]}),s?(0,zm.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-hide",style:{scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",paddingRight:"16px"},children:[...Array(3)].map((e,t)=>(0,zm.jsx)("div",{className:"flex-shrink-0 relative",style:{width:"calc((100vw - 48px - 16px) / 2)",minWidth:"calc((100vw - 48px - 16px) / 2)",scrollSnapAlign:"start"},children:(0,zm.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden",style:{borderRadius:"18px",boxShadow:"0 8px 20px rgba(16, 24, 40, 0.06)"},children:[(0,zm.jsx)("div",{className:"relative w-full bg-gray-200 animate-pulse",style:{height:"220px"}}),(0,zm.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-2.5",children:[(0,zm.jsx)("div",{className:"h-3 bg-gray-300 rounded animate-pulse mb-2",style:{width:"70%"}}),(0,zm.jsx)("div",{className:"h-4 bg-gray-300 rounded animate-pulse mb-1",style:{width:"40%"}}),(0,zm.jsx)("div",{className:"h-2 bg-gray-300 rounded animate-pulse mt-1",style:{width:"90%"}})]})]})},t))}):t.length>0?(0,zm.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-hide",style:{scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",paddingRight:"16px"},children:t.map(e=>(0,zm.jsx)("div",{className:"flex-shrink-0 relative group cursor-pointer transition-transform duration-150",style:{width:"calc((100vw - 48px - 16px) / 2)",minWidth:"calc((100vw - 48px - 16px) / 2)",scrollSnapAlign:"start"},onClick:t=>_e(t,e),onTouchStart:t=>ve(t,"card-".concat(e.listing_id)),onTouchMove:t=>je(t,"card-".concat(e.listing_id)),onTouchEnd:t=>we(t,"card-".concat(e.listing_id),t=>_e(t,e)),role:"button",tabIndex:0,"aria-label":"".concat(e.product_name," - ").concat(fe(e.price)),children:(0,zm.jsx)("div",{className:"bg-white rounded-xl overflow-hidden",style:{borderRadius:"18px",boxShadow:"0 8px 20px rgba(16, 24, 40, 0.06)"},children:(0,zm.jsxs)("div",{className:"relative w-full overflow-hidden bg-gray-800",style:{height:"220px"},children:[e.video_url?(0,zm.jsxs)("div",{className:"relative w-full h-full bg-gray-800",children:[(0,zm.jsx)("video",{src:e.video_url,poster:e.thumbnail||e.thumbnail_url,className:"w-full h-full object-cover",preload:"metadata",muted:!0,playsInline:!0,onError:e=>{console.error("Video error:",e),e.target.style.display="none"}}),(0,zm.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,zm.jsx)("div",{className:"bg-gray-100 rounded-full p-2.5 shadow-xl border-2 border-[#4B2BD6]",style:{width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,zm.jsx)(dh,{className:"w-5 h-5 text-[#4B2BD6]",strokeWidth:2.5})})})]}):e.thumbnail||e.thumbnail_url?(0,zm.jsx)("img",{src:e.thumbnail||e.thumbnail_url,alt:e.product_name,className:"w-full h-full object-cover",onError:e=>{e.target.src="https://via.placeholder.com/280x180?text=No+Image"}}):(0,zm.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-800",children:(0,zm.jsx)("span",{className:"text-gray-400 text-sm",children:"No Image"})}),(0,zm.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-black/70 to-transparent pointer-events-none"}),(e.view_count||0)>0&&(0,zm.jsxs)("div",{className:"absolute top-2 left-2 flex items-center gap-1 px-1.5 py-1 rounded z-10",style:{background:"#1E3A8A",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)"},children:[(0,zm.jsx)(lh,{className:"w-2.5 h-2.5 text-white"}),(0,zm.jsx)("span",{className:"text-white font-poppins font-medium",style:{fontSize:"10px"},children:xe(e.view_count||0)})]}),(0,zm.jsx)("button",{onClick:t=>ke(t,e),onMouseDown:e=>{e.stopPropagation()},onTouchStart:e=>{e.stopPropagation()},className:"absolute top-2 right-2 w-7 h-7 rounded-lg bg-white flex items-center justify-center shadow-md hover:bg-gray-50 transition-all z-20 pointer-events-auto",style:{minWidth:"28px",minHeight:"28px"},"aria-label":j.includes(e.listing_id)?"Remove from wishlist":"Add to wishlist",children:(0,zm.jsx)(ch,{className:"w-4 h-4 ".concat(j.includes(e.listing_id)?"fill-red-500 text-red-500":"text-gray-700")})}),(0,zm.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-2.5 z-10",children:[(0,zm.jsx)("h3",{className:"font-poppins font-semibold mb-0.5 line-clamp-2 text-white",style:{fontSize:"12px",lineHeight:"1.3",fontWeight:"600",textShadow:"0 1px 3px rgba(0, 0, 0, 0.5)"},children:e.product_name}),(0,zm.jsx)("div",{className:"inline-block px-2 py-1 rounded mt-0.5 mb-0.5",style:{background:"#FFFFFF",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",borderRadius:"6px"},children:(0,zm.jsx)("span",{className:"font-poppins font-semibold",style:{color:"#111827",fontSize:"11px"},children:fe(e.price)})})]})]})})},e.listing_id))}):(0,zm.jsx)("div",{className:"text-center py-4 text-gray-500 text-sm font-poppins",children:"No products available in this category"})]},e.category_id)})}):(0,zm.jsx)("div",{className:"text-center py-8 text-gray-500 text-sm font-poppins",children:U||O?"Could not fetch categories":"No categories available yet"})}),q&&(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)("div",{className:"fixed inset-0 bg-transparent z-[9999]",onClick:()=>G(!1)}),(0,zm.jsxs)("div",{className:"fixed top-16 left-0 right-0 z-[10000] w-full bg-white shadow-lg border-b border-gray-200 overflow-hidden flex flex-col max-h-[600px]",onClick:e=>e.stopPropagation(),children:[(0,zm.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-3 border-b border-gray-200 bg-gray-50 flex-shrink-0",children:(0,zm.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center gap-3",children:[(0,zm.jsxs)("div",{className:"flex-1 relative",children:[(0,zm.jsx)(oh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),(0,zm.jsx)("input",{type:"text",value:K,onChange:e=>$(e.target.value),onKeyDown:e=>{"Enter"===e.key&&Se(K)},placeholder:"Search for products, brands, categories...",className:"w-full pl-10 pr-4 py-2.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-[#6A00FF] focus:border-[#6A00FF] outline-none font-poppins bg-white",autoFocus:!0})]}),(0,zm.jsx)("button",{onClick:()=>G(!1),className:"p-2 hover:bg-gray-200 rounded transition-colors flex-shrink-0","aria-label":"Close search",children:(0,zm.jsx)(uh,{className:"w-5 h-5 text-gray-600"})})]})}),(0,zm.jsx)("div",{className:"flex-1 overflow-y-auto bg-white",children:se?(0,zm.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,zm.jsx)(ph,{className:"w-5 h-5 animate-spin text-[#6A00FF]"})}):Q?(0,zm.jsxs)("div",{className:"max-w-7xl mx-auto",children:[Q.categories&&Q.categories.length>0&&(0,zm.jsxs)("div",{className:"border-b border-gray-200",children:[(0,zm.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-2 bg-gray-50",children:(0,zm.jsx)("h3",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide font-poppins",children:"Categories"})}),(0,zm.jsx)("div",{children:Q.categories.map((e,t)=>(0,zm.jsxs)("button",{onClick:()=>Ce("category",e),className:"w-full flex items-center gap-3 px-4 sm:px-6 lg:px-8 py-3 hover:bg-orange-50 border-b border-gray-100 transition-colors text-left group",children:[(0,zm.jsx)(mh,{className:"w-4 h-4 text-gray-400 group-hover:text-[#6A00FF] flex-shrink-0"}),(0,zm.jsx)("span",{className:"text-sm text-gray-900 font-poppins group-hover:text-[#6A00FF]",children:e.category_name})]},e.category_id))})]}),Q.brands&&Q.brands.length>0&&(0,zm.jsxs)("div",{className:"border-b border-gray-200",children:[(0,zm.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-2 bg-gray-50",children:(0,zm.jsx)("h3",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide font-poppins",children:"Brands"})}),(0,zm.jsx)("div",{children:Q.brands.map((e,t)=>(0,zm.jsxs)("button",{onClick:()=>Ce("brand",e),className:"w-full flex items-center gap-3 px-4 sm:px-6 lg:px-8 py-3 hover:bg-orange-50 border-b border-gray-100 transition-colors text-left group",children:[e.profile_image_url?(0,zm.jsx)("img",{src:e.profile_image_url,alt:e.business_name,className:"w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0"}):(0,zm.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center border border-gray-200 flex-shrink-0",children:(0,zm.jsx)(eh,{className:"w-4 h-4 text-gray-400"})}),(0,zm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,zm.jsx)("p",{className:"text-sm text-gray-900 font-poppins group-hover:text-[#6A00FF] truncate",children:e.business_name}),e.handle_address&&(0,zm.jsxs)("p",{className:"text-xs text-gray-500 font-poppins truncate",children:["@",e.handle_address]})]})]},e.provider_id))})]}),Q.influencers&&Q.influencers.length>0&&(0,zm.jsxs)("div",{className:"border-b border-gray-200",children:[(0,zm.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-2 bg-gray-50",children:(0,zm.jsx)("h3",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide font-poppins",children:"Influencers"})}),(0,zm.jsx)("div",{children:Q.influencers.map((e,t)=>(0,zm.jsxs)("button",{onClick:()=>Ce("influencer",e),className:"w-full flex items-center gap-3 px-4 sm:px-6 lg:px-8 py-3 hover:bg-orange-50 border-b border-gray-100 transition-colors text-left group",children:[e.profile_image_url?(0,zm.jsx)("img",{src:e.profile_image_url,alt:e.business_name,className:"w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0"}):(0,zm.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center border border-gray-200 flex-shrink-0",children:(0,zm.jsx)(hh,{className:"w-4 h-4 text-gray-400"})}),(0,zm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,zm.jsx)("p",{className:"text-sm text-gray-900 font-poppins group-hover:text-[#6A00FF] truncate",children:e.business_name}),e.handle_address&&(0,zm.jsxs)("p",{className:"text-xs text-gray-500 font-poppins truncate",children:["@",e.handle_address]})]})]},e.provider_id))})]}),Q.products&&Q.products.length>0&&(0,zm.jsxs)("div",{children:[(0,zm.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-2 bg-gray-50",children:(0,zm.jsx)("h3",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide font-poppins",children:"Products"})}),(0,zm.jsx)("div",{children:Q.products.map((e,t)=>{const s=j.includes(e.listing_id);return(0,zm.jsxs)("button",{onClick:()=>Ce("product",e),className:"w-full flex items-center gap-3 px-4 sm:px-6 lg:px-8 py-3 hover:bg-orange-50 border-b border-gray-100 transition-colors text-left group relative",children:[(0,zm.jsxs)("div",{className:"w-12 h-12 rounded overflow-hidden bg-gray-100 flex-shrink-0 relative",children:[e.thumbnail_url?(0,zm.jsx)("img",{src:e.thumbnail_url,alt:e.product_name,className:"w-full h-full object-cover"}):(0,zm.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,zm.jsx)(xh,{className:"w-6 h-6 text-gray-400"})}),(0,zm.jsx)("button",{onClick:t=>Ee(t,e),className:"absolute top-0.5 right-0.5 p-1 bg-white/95 hover:bg-white rounded shadow-sm transition-colors z-10","aria-label":s?"Remove from wishlist":"Add to wishlist",children:(0,zm.jsx)(ch,{className:"w-3 h-3 ".concat(s?"fill-red-500 text-red-500":"text-gray-500")})})]}),(0,zm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,zm.jsx)("p",{className:"text-sm text-gray-900 font-poppins group-hover:text-[#6A00FF] truncate mb-0.5",children:e.product_name}),e.price&&(0,zm.jsxs)("p",{className:"text-xs text-gray-600 font-poppins",children:["\u20b9",e.price]})]})]},e.listing_id)})})]}),0===(null===(e=Q.categories)||void 0===e?void 0:e.length)&&0===(null===(t=Q.brands)||void 0===t?void 0:t.length)&&0===(null===(s=Q.influencers)||void 0===s?void 0:s.length)&&0===(null===(r=Q.products)||void 0===r?void 0:r.length)&&(0,zm.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 text-center",children:(0,zm.jsxs)("p",{className:"text-sm text-gray-500 font-poppins",children:['No results found for "',K,'"']})})]}):Z?(0,zm.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,zm.jsx)(ph,{className:"w-5 h-5 animate-spin text-[#6A00FF]"})}):Y?(0,zm.jsxs)("div",{className:"max-w-7xl mx-auto",children:[Y.categories&&Y.categories.length>0&&(0,zm.jsxs)("div",{className:"border-b border-gray-200",children:[(0,zm.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-2 bg-gray-50",children:(0,zm.jsx)("h3",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide font-poppins",children:"Categories"})}),(0,zm.jsx)("div",{children:Y.categories.map(e=>(0,zm.jsxs)("button",{onClick:()=>Ce("category",e),className:"w-full flex items-center gap-3 px-4 sm:px-6 lg:px-8 py-2.5 hover:bg-orange-50 border-b border-gray-100 transition-colors text-left group",children:[(0,zm.jsx)(mh,{className:"w-4 h-4 text-gray-400 group-hover:text-[#6A00FF] flex-shrink-0"}),(0,zm.jsx)("span",{className:"text-sm text-gray-900 font-poppins group-hover:text-[#6A00FF]",children:e.category_name})]},e.category_id))})]}),Y.brands&&Y.brands.length>0&&(0,zm.jsxs)("div",{className:"border-b border-gray-200",children:[(0,zm.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-2 bg-gray-50",children:(0,zm.jsx)("h3",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide font-poppins",children:"Brands"})}),(0,zm.jsx)("div",{children:Y.brands.map(e=>(0,zm.jsxs)("button",{onClick:()=>Ce("brand",e),className:"w-full flex items-center gap-3 px-4 sm:px-6 lg:px-8 py-2.5 hover:bg-orange-50 border-b border-gray-100 transition-colors text-left group",children:[e.profile_image_url?(0,zm.jsx)("img",{src:e.profile_image_url,alt:e.business_name,className:"w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0"}):(0,zm.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center border border-gray-200 flex-shrink-0",children:(0,zm.jsx)(eh,{className:"w-4 h-4 text-gray-400"})}),(0,zm.jsx)("div",{className:"flex-1 min-w-0",children:(0,zm.jsx)("p",{className:"text-sm text-gray-900 font-poppins group-hover:text-[#6A00FF] truncate",children:e.business_name})})]},e.provider_id))})]}),Y.influencers&&Y.influencers.length>0&&(0,zm.jsxs)("div",{className:"border-b border-gray-200",children:[(0,zm.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-2 bg-gray-50",children:(0,zm.jsx)("h3",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide font-poppins",children:"Influencers"})}),(0,zm.jsx)("div",{children:Y.influencers.map(e=>(0,zm.jsxs)("button",{onClick:()=>Ce("influencer",e),className:"w-full flex items-center gap-3 px-4 sm:px-6 lg:px-8 py-2.5 hover:bg-orange-50 border-b border-gray-100 transition-colors text-left group",children:[e.profile_image_url?(0,zm.jsx)("img",{src:e.profile_image_url,alt:e.business_name,className:"w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0"}):(0,zm.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center border border-gray-200 flex-shrink-0",children:(0,zm.jsx)(hh,{className:"w-4 h-4 text-gray-400"})}),(0,zm.jsx)("div",{className:"flex-1 min-w-0",children:(0,zm.jsx)("p",{className:"text-sm text-gray-900 font-poppins group-hover:text-[#6A00FF] truncate",children:e.business_name})})]},e.provider_id))})]}),Y.products&&Y.products.length>0&&(0,zm.jsxs)("div",{children:[(0,zm.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-2 bg-gray-50",children:(0,zm.jsx)("h3",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide font-poppins",children:"Products"})}),(0,zm.jsx)("div",{children:Y.products.map(e=>{const t=j.includes(e.listing_id);return(0,zm.jsxs)("button",{onClick:()=>Ce("product",e),className:"w-full flex items-center gap-3 px-4 sm:px-6 lg:px-8 py-2.5 hover:bg-orange-50 border-b border-gray-100 transition-colors text-left group relative",children:[(0,zm.jsxs)("div",{className:"w-12 h-12 rounded overflow-hidden bg-gray-100 flex-shrink-0 relative",children:[e.thumbnail_url?(0,zm.jsx)("img",{src:e.thumbnail_url,alt:e.product_name,className:"w-full h-full object-cover"}):(0,zm.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,zm.jsx)(xh,{className:"w-6 h-6 text-gray-400"})}),(0,zm.jsx)("button",{onClick:t=>Ee(t,e),className:"absolute top-0.5 right-0.5 p-1 bg-white/95 hover:bg-white rounded shadow-sm transition-colors z-10","aria-label":t?"Remove from wishlist":"Add to wishlist",children:(0,zm.jsx)(ch,{className:"w-3 h-3 ".concat(t?"fill-red-500 text-red-500":"text-gray-500")})})]}),(0,zm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,zm.jsx)("p",{className:"text-sm text-gray-900 font-poppins group-hover:text-[#6A00FF] truncate mb-0.5",children:e.product_name}),e.price&&(0,zm.jsxs)("p",{className:"text-xs text-gray-600 font-poppins",children:["\u20b9",e.price]})]})]},e.listing_id)})})]}),(!Y.categories||0===Y.categories.length)&&(!Y.brands||0===Y.brands.length)&&(!Y.influencers||0===Y.influencers.length)&&(!Y.products||0===Y.products.length)&&(0,zm.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-6 text-center",children:[(0,zm.jsx)("p",{className:"text-sm text-gray-500 font-poppins mb-3",children:"No suggestions found"}),(0,zm.jsxs)("button",{onClick:()=>Se(K),className:"px-4 py-2 bg-[#6A00FF] text-white rounded font-poppins text-sm hover:bg-purple-700 transition-colors font-medium",children:['Search for "',K,'"']})]})]}):(0,zm.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 text-center",children:(0,zm.jsx)("p",{className:"text-sm text-gray-500 font-poppins",children:"Start typing to search..."})})})]})]})]})},bh=Zm("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),yh=Zm("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),vh=Zm("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),jh=Zm("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),wh=Zm("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Nh=Zm("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),_h=Zm("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),kh=Zm("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Sh=Zm("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Ch=()=>{var e,t,s,r,n,i;const[o]=Re(),l=te(),{user:c,isAuthenticated:d}=Vm(),[u,p]=(0,a.useState)([]),[m,h]=(0,a.useState)(0),[x,f]=(0,a.useState)(!0),[g,b]=(0,a.useState)({}),[y,v]=(0,a.useState)(!1),[j,w]=(0,a.useState)(!0),[N,_]=(0,a.useState)({}),[k,S]=(0,a.useState)({}),[C,E]=(0,a.useState)({}),[P,A]=(0,a.useState)([]),[T,I]=(0,a.useState)([]),[L,F]=(0,a.useState)(!1),[R,D]=(0,a.useState)(null),[O,M]=(0,a.useState)(!1),[U,z]=(0,a.useState)(!1),[B,V]=(0,a.useState)(null),[H,W]=(0,a.useState)(null),[q,G]=(0,a.useState)(null),[K,$]=(0,a.useState)(!1),[Y,J]=(0,a.useState)({}),[Q,X]=(0,a.useState)({}),[Z,ee]=(0,a.useState)(new Set),[se,re]=(0,a.useState)({}),ne=(0,a.useRef)(null),ae=(0,a.useRef)(new Set),ie=(0,a.useCallback)(e=>t=>{t&&b(s=>s[e]!==t?Be(Be({},s),{},{[e]:t}):s)},[]);(0,a.useEffect)(()=>{const e=o.get("video");console.log("Watch component mounted with video ID:",e),oe(0,20,!0,e)},[o]),(0,a.useEffect)(()=>{if(u.length>0){const e=u[m],t=(null===e||void 0===e?void 0:e.listing_id)||(null===e||void 0===e?void 0:e.video_id);t&&!ae.current.has(t)&&(ae.current.add(t),he(t,"view").then(()=>{_(s=>{var r;return Be(Be({},s),{},{[t]:Be(Be({},s[t]),{},{views:((null===(r=s[t])||void 0===r?void 0:r.views)||e.view_count||0)+1})})})}).catch(console.error));const s=(null===e||void 0===e?void 0:e.video_id)||(null===e||void 0===e?void 0:e.listing_id);s?le(s):A([]),null!==e&&void 0!==e&&e.provider_id&&ue(e.provider_id,t),Object.keys(g).forEach(e=>{const t=g[e];t&&parseInt(e)!==m&&t.pause()});const r=g[m];r&&(r.play().catch(console.error),v(!0))}},[m,u]),(0,a.useEffect)(()=>{d&&ce()},[d]);const oe=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{let n;if(console.log("Loading videos..."),s&&f(!0),r&&s)try{const s=await pa.getVideoDetails(r);if(s.video&&s.ok){const a=s.video,i=a.video_id||a.listing_id||r,o=await pa.getFeedWithAdminPriority(t-1,e,i);!a.products&&a.video_id&&(a.products=s.products||[]);const l=[a,...o.videos||[]],c=new Set;n={videos:l.filter(e=>{const t=e.video_id||e.listing_id;return!c.has(t)&&(c.add(t),!0)})},console.log("Loading specific video ".concat(r," first, then admin priority feed"),n.videos)}else n=await pa.getFeedWithAdminPriority(t,e)}catch(xf){console.log("Could not fetch specific video, falling back to admin priority feed:",xf),n=await pa.getFeedWithAdminPriority(t,e)}else n=await pa.getFeedWithAdminPriority(t,e);console.log("Loading videos batch: offset=".concat(e,", limit=").concat(t),n.videos);let a=(n.videos||[]).filter(e=>(e.listing_id||e.video_id)&&e.video_url&&""!==e.video_url.trim()&&(e.video_url.startsWith("http")||e.video_url.startsWith("https")));if(s){if(console.log("Setting videos:",a),p(a),ge(a),xe(a),r){const e=a.findIndex(e=>e.listing_id===parseInt(r)||e.video_id===parseInt(r));console.log("Looking for video ID ".concat(r," in videos:"),a.map(e=>e.listing_id)),console.log("Found video at index: ".concat(e)),-1!==e?(h(e),console.log("Set current video index to: ".concat(e))):(h(0),console.log("Specific video not found, set to index 0"))}}else p(e=>[...e,...a]),ge(a),xe(a);const i={};a.forEach(e=>{const t=e.listing_id||e.video_id;i[t]={views:e.view_count||0,likes:e.like_count||0,loves:e.love_count||0,clicks:e.click_count||0}}),_(e=>Be(Be({},e),i)),0===a.length&&s&&It.error("No videos available")}catch(xf){console.error("Error loading videos:",xf),It.error("Failed to load videos")}finally{s&&f(!1)}},le=async e=>{if(e)try{const t=await pa.getVideoDetails(e);if(t.ok&&t.products&&Array.isArray(t.products)){const e=t.products.filter((e,t,s)=>e.listing_id&&t===s.findIndex(t=>t.listing_id===e.listing_id));A(e)}else A([])}catch(xf){console.error("Error loading products by video ID:",xf),A([])}},ce=async()=>{if(d)try{const e=await la();if(e&&e.wishlist&&Array.isArray(e.wishlist)){const t=new Set(e.wishlist.map(e=>e.listing_id).filter(Boolean));ee(t)}}catch(xf){console.error("Error loading wishlist:",xf)}},de=async(e,t)=>{if(e.stopPropagation(),!d)return void It.error("Please login to add items to wishlist");if(null===t||void 0===t||!t.listing_id)return;const s=t.listing_id,r=Z.has(s);re(e=>Be(Be({},e),{},{[s]:!0}));try{r?(await da(s),ee(e=>{const t=new Set(e);return t.delete(s),t}),It.success("Removed from wishlist")):(await ca(s),ee(e=>new Set([...e,s])),It.success("Added to wishlist"))}catch(xf){var n,a;console.error("Error toggling wishlist:",xf),It.error((null===(n=xf.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Failed to update wishlist")}finally{re(e=>Be(Be({},e),{},{[s]:!1}))}},ue=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e)try{const s=((await pa.getVideosByProvider(e)).videos||[]).filter(e=>e.listing_id!==t);I(s)}catch(xf){console.error("Error loading profile videos:",xf),I([])}},pe=()=>V(null),me=async e=>{try{await navigator.clipboard.writeText(e),It.success("Coupon copied")}catch(xf){console.error("Failed to copy coupon:",xf),It.error("Failed to copy coupon")}},he=async(e,t)=>{if(e)try{await pa.engage(e,t)}catch(xf){console.error("Error tracking ".concat(t,":"),xf)}},xe=async e=>{if(d)try{const t=[...new Set(e.map(e=>e.user_id||e.provider_user_id).filter(Boolean))];if(0===t.length)return;const s=t.map(async e=>{try{return{userId:e,isFollowing:(await ua.getFollowStatus(e)).is_following||!1}}catch(xf){return console.error("Error loading follow status for user ".concat(e,":"),xf),{userId:e,isFollowing:!1}}}),r=await Promise.all(s),n={};r.forEach(e=>{let{userId:t,isFollowing:s}=e;n[t]=s}),J(e=>Be(Be({},e),n))}catch(xf){console.error("Error loading follow statuses:",xf)}else console.log("User not authenticated, skipping follow status loading")},fe=async(e,t)=>{if(t&&t.stopPropagation(),!d)return void It.error("Please log in to follow users");if(!e)return void It.error("User ID not available");if(c&&c.user_id===e)return;const s=Y[e]||!1;J(t=>Be(Be({},t),{},{[e]:!s})),X(t=>Be(Be({},t),{},{[e]:!0}));try{s?(await ua.unfollow(e),It.success("Unfollowed")):(await ua.follow(e),It.success("Followed"))}catch(xf){var r;console.error("Error toggling follow:",xf),J(t=>Be(Be({},t),{},{[e]:s})),401===(null===(r=xf.response)||void 0===r?void 0:r.status)?It.error("Please log in to follow users"):It.error("Failed to update follow status")}finally{X(t=>Be(Be({},t),{},{[e]:!1}))}},ge=async e=>{if(!d){console.log("User not authenticated, skipping like/love status loading");const t={};return e.forEach(e=>{const s=e.video_id||e.listing_id;s&&(t[s]={likes:e.like_count||0,loves:e.love_count||0,clicks:e.click_count||0,views:e.view_count||0})}),void _(e=>Be(Be({},e),t))}const t=(e||[]).filter(e=>!(!e.listing_id&&!e.video_id));console.log("Loading like/love statuses for videos:",t.map(e=>e.listing_id||e.video_id));try{const e=t.map(async e=>{const t=e.video_id||e.listing_id;try{var s,r;const[n,a]=await Promise.all([pa.getLikeStatus(t).catch(()=>({liked:!1,like_count:e.like_count||0})),pa.getLoveStatus(t).catch(()=>({loved:!1,love_count:e.love_count||0}))]);return{videoId:t,liked:(null===n||void 0===n?void 0:n.liked)||!1,likeCount:null!==(s=null===n||void 0===n?void 0:n.like_count)&&void 0!==s?s:e.like_count||0,loved:(null===a||void 0===a?void 0:a.loved)||!1,loveCount:null!==(r=null===a||void 0===a?void 0:a.love_count)&&void 0!==r?r:e.love_count||0,clickCount:e.click_count||0,viewCount:e.view_count||0}}catch(xf){return console.error("Error loading status for video ".concat(t,":"),xf),{videoId:t,liked:!1,likeCount:e.like_count||0,loved:!1,loveCount:e.love_count||0,clickCount:e.click_count||0,viewCount:e.view_count||0}}}),s=await Promise.all(e),r={},n={},a={};s.forEach(e=>{r[e.videoId]=e.liked,n[e.videoId]=e.loved,a[e.videoId]={likes:e.likeCount,loves:e.loveCount,clicks:e.clickCount,views:e.viewCount}}),S(e=>Be(Be({},e),r)),E(e=>Be(Be({},e),n)),_(e=>Be(Be({},e),a)),console.log("Loaded like/love statuses:",s)}catch(xf){console.error("Error loading like/love statuses:",xf);const s={},r={},n={};t.forEach(e=>{const t=e.video_id||e.listing_id;r[t]=!1,n[t]=!1,s[t]={likes:e.like_count||0,loves:e.love_count||0,clicks:e.click_count||0,views:e.view_count||0}}),S(e=>Be(Be({},e),r)),E(e=>Be(Be({},e),n)),_(e=>Be(Be({},e),s))}},be=e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"k":e.toString(),ye=async()=>{if(!K){if($(!0),m>=u.length-1)try{await oe(u.length,5,!1)}catch(xf){console.error("Error loading more videos:",xf)}m<u.length-1?h(m+1):It.error("No more videos available"),setTimeout(()=>$(!1),300)}},ve=()=>{K||($(!0),m>0?h(m-1):It.error("You're at the beginning of the feed"),setTimeout(()=>$(!1),300))},je=(0,a.useRef)(null),we=(0,a.useRef)(null),Ne=(0,a.useRef)(!1);return x?(0,zm.jsx)("div",{className:"h-screen bg-white flex items-center justify-center",children:(0,zm.jsx)("div",{className:"text-gray-900 text-xl font-poppins",children:"Loading videos..."})}):0===u.length?(0,zm.jsx)("div",{className:"h-screen bg-white flex items-center justify-center",children:(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"text-gray-900 text-xl mb-4 font-poppins",children:"No videos available"}),(0,zm.jsx)("button",{onClick:()=>oe(0,5,!0),className:"bg-[#6A00FF] text-white px-6 py-2 rounded-full font-poppins font-medium",children:"Refresh"})]})}):(0,zm.jsxs)("div",{className:"h-screen bg-white overflow-hidden relative",onTouchStart:e=>{e.target.closest(".overflow-x-auto")?Ne.current=!0:(Ne.current=!1,je.current=e.targetTouches[0].clientY,we.current=e.targetTouches[0].clientX)},onTouchMove:e=>{if(!Ne.current&&null!==we.current){const t=Math.abs(e.targetTouches[0].clientX-we.current);if(t>Math.abs(e.targetTouches[0].clientY-je.current)&&t>10)return void(Ne.current=!0)}},onTouchEnd:e=>{if(Ne.current)return Ne.current=!1,je.current=null,void(we.current=null);if(null===je.current)return;const t=e.changedTouches[0].clientY,s=je.current-t,r=s<-50;s>50?ye():r&&ve(),je.current=null,we.current=null},ref:ne,children:[(0,zm.jsxs)("div",{className:"relative h-full transition-transform duration-300 ease-out",style:{transform:"translateY(-".concat(100*m,"vh)"),height:"".concat(100*u.length,"vh")},children:[u.map((e,t)=>{var s,r,n,a,i,p,h,x;Array.isArray(e.products)&&e.products.length>0&&e.products[0],Array.isArray(e.products)&&(null===(s=e.products[0])||void 0===s?void 0:s.link)||e.link;return(0,zm.jsxs)("div",{className:"absolute inset-0 w-full h-screen",style:{top:"".concat(100*t,"vh")},children:[e.thumbnail_url&&(0,zm.jsx)("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(".concat(e.thumbnail_url,")"),filter:"blur(20px)",transform:"scale(1.1)"}}),(0,zm.jsx)("div",{className:"absolute inset-0 bg-white bg-opacity-20"}),(0,zm.jsxs)("div",{className:"relative h-full flex items-center justify-center",onClick:e=>{const t=e.target,s=t.closest("button")||t.closest('[role="button"]'),r=t.closest(".overflow-x-auto"),n=t.closest("[onClick]")&&t!==e.currentTarget;s||r||n||(()=>{const e=g[m];e&&(e.paused?(e.play(),v(!0)):(e.pause(),v(!1)))})()},children:[e.video_url?(0,zm.jsx)("video",{ref:ie(t),className:"h-full w-full object-cover",src:e.video_url,muted:j,loop:!0,playsInline:!0,preload:"metadata",onLoadedData:()=>{if(t===m){const e=g[t];e&&(e.play().catch(console.error),v(!0))}},onError:t=>{console.error("Video error:",t),console.error("Video src:",e.video_url),It.error("Video failed to load: ".concat(e.video_url))},onCanPlay:()=>{if(t===m){const e=g[t];e&&(e.play().catch(console.error),v(!0))}}}):(0,zm.jsx)("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-[#6A00FF] to-purple-200",children:(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-24 h-24 bg-white bg-opacity-30 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,zm.jsx)(dh,{className:"w-12 h-12 text-white"})}),(0,zm.jsx)("p",{className:"text-white text-lg font-medium font-poppins",children:"No video available"}),(0,zm.jsx)("p",{className:"text-purple-100 text-sm mt-2 font-poppins",children:"This listing doesn't have a video"})]})}),(0,zm.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:!y&&e.video_url&&t===m&&(0,zm.jsx)("div",{className:"bg-white bg-opacity-80 rounded-full p-6 pointer-events-auto",children:(0,zm.jsx)(dh,{className:"w-16 h-16 text-[#6A00FF]"})})}),t===m&&(0,zm.jsx)("button",{onClick:e=>{e.stopPropagation(),(()=>{const e=g[m];e&&(e.muted=!e.muted,w(e.muted))})()},className:"absolute top-16 right-4 bg-white bg-opacity-90 rounded-full p-2 backdrop-blur-sm z-30 pointer-events-auto",children:j?(0,zm.jsx)(yh,{className:"w-4 h-4 text-[#6A00FF]"}):(0,zm.jsx)(vh,{className:"w-4 h-4 text-[#6A00FF]"})})]}),t===m&&(0,zm.jsxs)("div",{className:"absolute top-4 left-4 right-4 z-30 flex items-center gap-3 pointer-events-auto",children:[(0,zm.jsx)("button",{onClick:e=>{e.stopPropagation();const t=o.get("returnTo");t?l(decodeURIComponent(t)):window.history.length>1?l(-1):l("/")},className:"bg-white bg-opacity-90 rounded-full p-2 backdrop-blur-sm",children:(0,zm.jsx)(jh,{className:"w-5 h-5 text-[#6A00FF]"})}),(0,zm.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,zm.jsxs)("div",{className:"w-10 h-10 bg-[#6A00FF] rounded-full flex items-center justify-center flex-shrink-0 cursor-pointer hover:opacity-80 transition-opacity overflow-hidden",onClick:async t=>{t.stopPropagation();let s=e.user_id||e.provider_user_id;if(!s&&e.provider_id)try{var r;const t=await zn(e.provider_id);null!==t&&void 0!==t&&null!==(r=t.provider)&&void 0!==r&&r.user_id&&(s=t.provider.user_id)}catch(xf){return console.error("Error fetching provider:",xf),void It.error("Failed to load profile information")}s?l("/profile?user_id=".concat(s)):It.error("Profile information not available")},children:[e.profile_image_url?(0,zm.jsx)("img",{src:e.profile_image_url,alt:e.provider_name||e.full_name||"User",className:"w-full h-full rounded-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,zm.jsx)("div",{className:"w-full h-full rounded-full flex items-center justify-center ".concat(e.profile_image_url?"hidden":"flex"),children:(0,zm.jsx)(wh,{className:"w-5 h-5 text-white"})})]}),(0,zm.jsxs)("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[(0,zm.jsx)("span",{className:"text-white font-semibold text-sm truncate font-poppins cursor-pointer hover:underline transition-all active:opacity-70",style:{textShadow:"0 1px 3px rgba(0,0,0,0.5)"},onClick:async t=>{t.stopPropagation(),t.preventDefault();let s=e.user_id||e.provider_user_id;if(!s&&e.provider_id)try{var r;const t=await zn(e.provider_id);null!==t&&void 0!==t&&null!==(r=t.provider)&&void 0!==r&&r.user_id&&(s=t.provider.user_id)}catch(xf){return console.error("Error fetching provider:",xf),void It.error("Failed to load profile information")}s?l("/profile?user_id=".concat(s)):It.error("Profile information not available")},children:e.provider_name||e.handle_address||"User"}),(0,zm.jsx)("span",{className:"bg-[#6A00FF] text-white text-xs px-2 py-0.5 rounded-full font-medium flex-shrink-0 font-poppins",children:"INFLUENCER"===e.provider_type?"Influencer":"ADMIN"===e.provider_type?"Admin":"Brand"}),(()=>{const t=e.user_id||e.provider_user_id;return d&&t&&c&&c.user_id!==t&&Y[t]&&(0,zm.jsx)("button",{onClick:e=>{e.stopPropagation(),fe(t,e)},disabled:Q[t],className:"w-4 h-4 bg-[#6A00FF] rounded-full flex items-center justify-center flex-shrink-0 hover:bg-purple-600 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",title:"Unfollow",children:(0,zm.jsx)(Nh,{className:"w-3 h-3 text-white"})})})(),(()=>{const t=e.user_id||e.provider_user_id;return d&&t&&c&&c.user_id!==t&&(0,zm.jsx)("button",{onClick:e=>fe(t,e),disabled:Q[t],className:"bg-white bg-opacity-90 rounded-full px-3 py-1.5 backdrop-blur-sm flex items-center gap-1.5 flex-shrink-0 transition-colors ".concat(Y[t]?"hover:bg-gray-200":"hover:bg-[#6A00FF] hover:text-white"),children:Q[t]?(0,zm.jsx)("span",{className:"text-xs font-semibold text-gray-500 font-poppins",children:"..."}):Y[t]?(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)(_h,{className:"w-3.5 h-3.5 text-gray-700"}),(0,zm.jsx)("span",{className:"text-xs font-semibold text-gray-700 font-poppins",children:"Following"})]}):(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)(kh,{className:"w-3.5 h-3.5 text-[#6A00FF]"}),(0,zm.jsx)("span",{className:"text-xs font-semibold text-[#6A00FF] font-poppins",children:"Follow"})]})})})()]})]})]}),t===m&&(0,zm.jsxs)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex flex-col items-center z-30 pointer-events-auto",style:{gap:"1px"},children:[(0,zm.jsxs)("div",{className:"flex flex-col items-center",style:{gap:"0px"},children:[(0,zm.jsx)("div",{className:"p-2",children:(0,zm.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512",className:"text-white fill-white",children:[(0,zm.jsx)("circle",{cx:"256",cy:"256",r:"64",fill:"currentColor"}),(0,zm.jsx)("path",{fill:"currentColor",d:"M394.82 141.18C351.1 111.2 304.31 96 255.76 96c-43.69 0-86.28 13-126.59 38.48C88.52 160.23 48.67 207 16 256c26.42 44 62.56 89.24 100.2 115.18C159.38 400.92 206.33 416 255.76 416c49 0 95.85-15.07 139.3-44.79C433.31 345 469.71 299.82 496 256c-26.38-43.43-62.9-88.56-101.18-114.82M256 352a96 96 0 1 1 96-96a96.11 96.11 0 0 1-96 96"})]})}),(0,zm.jsx)("span",{className:"text-white text-[10px] font-semibold font-poppins -mt-2",style:{textShadow:"0 2px 4px rgba(0,0,0,0.8)"},children:be((null===(r=N[e.video_id||e.listing_id])||void 0===r?void 0:r.views)||0)})]}),(0,zm.jsxs)("button",{onClick:t=>{t.stopPropagation(),(async e=>{var t;if(console.log("Like button clicked for:",e),!d)return void It.error("Please log in to like videos");const s=k[e],r=(null===(t=N[e])||void 0===t?void 0:t.likes)||0;try{var n;let t;S(t=>Be(Be({},t),{},{[e]:!s})),_(t=>Be(Be({},t),{},{[e]:Be(Be({},t[e]||{}),{},{likes:Math.max(0,r+(s?-1:1))})})),t=s?await pa.unlike(e):await pa.like(e),console.log("Like API response:",t),void 0!==(null===(n=t)||void 0===n?void 0:n.like_count)&&_(s=>Be(Be({},s),{},{[e]:Be(Be({},s[e]||{}),{},{likes:Math.max(0,t.like_count)})})),It.success(s?"Removed from likes":"Added to likes")}catch(xf){var a,i,o;console.error("Error toggling like:",xf),console.error("Error details:",(null===(a=xf.response)||void 0===a?void 0:a.data)||xf.message),S(t=>Be(Be({},t),{},{[e]:s})),_(t=>Be(Be({},t),{},{[e]:Be(Be({},t[e]||{}),{},{likes:r})})),401===(null===(i=xf.response)||void 0===i?void 0:i.status)?It.error("Please log in to like videos"):500===(null===(o=xf.response)||void 0===o?void 0:o.status)?It.error("Server error. Please try again."):It.error("Failed to update like")}})(e.video_id||e.listing_id)},className:"flex flex-col items-center group cursor-pointer",style:{gap:"0px"},children:[(0,zm.jsx)("div",{className:"p-2 group-active:scale-95 transition-transform",children:(0,zm.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",className:"transition-colors duration-300 ".concat(k[e.video_id||e.listing_id]?"text-blue-400 fill-blue-400":"text-white fill-white"),children:[(0,zm.jsx)("path",{fill:"currentColor",d:"m20.27 16.265l.705-4.08a1.666 1.666 0 0 0-1.64-1.95h-5.181a.833.833 0 0 1-.822-.969l.663-4.045a4.8 4.8 0 0 0-.09-1.973a1.64 1.64 0 0 0-1.092-1.137l-.145-.047a1.35 1.35 0 0 0-.994.068c-.34.164-.588.463-.68.818l-.476 1.834a7.6 7.6 0 0 1-.656 1.679c-.415.777-1.057 1.4-1.725 1.975l-1.439 1.24a1.67 1.67 0 0 0-.572 1.406l.812 9.393A1.666 1.666 0 0 0 8.597 22h4.648c3.482 0 6.453-2.426 7.025-5.735"}),(0,zm.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.968 9.485a.75.75 0 0 1 .78.685l.97 11.236a1.237 1.237 0 1 1-2.468.107V10.234a.75.75 0 0 1 .718-.749",clipRule:"evenodd"})]})}),(0,zm.jsx)("span",{className:"text-white text-[10px] font-semibold font-poppins -mt-2",style:{textShadow:"0 2px 4px rgba(0,0,0,0.8)"},children:be((null===(n=N[e.video_id||e.listing_id])||void 0===n?void 0:n.likes)||0)})]}),(0,zm.jsxs)("button",{onClick:t=>{t.stopPropagation(),(async e=>{if(console.log("Love button clicked for:",e),d)try{const t=C[e];E(s=>Be(Be({},s),{},{[e]:!t})),await pa.engage(e,"love"),_(s=>{var r;return Be(Be({},s),{},{[e]:Be(Be({},s[e]),{},{loves:((null===(r=s[e])||void 0===r?void 0:r.loves)||0)+(t?-1:1)})})}),It.success(t?"Removed love":"Loved!")}catch(xf){var t,s;console.error("Error toggling love:",xf),E(t=>Be(Be({},t),{},{[e]:!t[e]})),401===(null===(t=xf.response)||void 0===t?void 0:t.status)?It.error("Please log in to love videos"):500===(null===(s=xf.response)||void 0===s?void 0:s.status)?It.error("Server error. Please try again."):It.error("Failed to update love")}else It.error("Please log in to love videos")})(e.video_id||e.listing_id)},className:"flex flex-col items-center group cursor-pointer",style:{gap:"0px"},children:[(0,zm.jsx)("div",{className:"p-2 group-active:scale-95 transition-transform",children:(0,zm.jsx)(ch,{className:"w-5 h-5 transition-colors duration-300 ".concat(C[e.video_id||e.listing_id]?"text-pink-400 fill-pink-400":"text-white fill-white")})}),(0,zm.jsx)("span",{className:"text-white text-[10px] font-semibold font-poppins -mt-2",style:{textShadow:"0 2px 4px rgba(0,0,0,0.8)"},children:be((null===(a=N[e.video_id||e.listing_id])||void 0===a?void 0:a.loves)||0)})]}),(0,zm.jsxs)("button",{onClick:e=>{e.stopPropagation(),console.log("Share button clicked"),M(!0)},className:"flex flex-col items-center group cursor-pointer",style:{gap:"0px"},children:[(0,zm.jsx)("div",{className:"p-2 group-active:scale-95 transition-transform",children:(0,zm.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",className:"text-white fill-white",children:(0,zm.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M15.75 4.5a3 3 0 1 1 .825 2.066l-8.421 4.679a3 3 0 0 1 0 1.51l8.421 4.679a3 3 0 1 1-.729 1.31l-8.421-4.678a3 3 0 1 1 0-4.132l8.421-4.679a3 3 0 0 1-.096-.755",clipRule:"evenodd"})})}),(0,zm.jsx)("span",{className:"text-white text-[10px] font-semibold font-poppins -mt-2",style:{textShadow:"0 2px 4px rgba(0,0,0,0.8)"},children:"Share"})]}),(0,zm.jsxs)("button",{onClick:e=>{e.stopPropagation();const t=u[m];(e=>{var t;null!==e&&void 0!==e&&null!==(t=e.coupons)&&void 0!==t&&t.length?V(e):It.error("No coupons available for this product yet")})(Array.isArray(null===t||void 0===t?void 0:t.products)&&t.products.length>0?t.products[0]:t)},className:"flex flex-col items-center group cursor-pointer",style:{gap:"0px"},children:[(0,zm.jsx)("div",{className:"p-2 group-active:scale-95 transition-transform",children:(0,zm.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",className:"text-white fill-white",children:[(0,zm.jsx)("path",{d:"m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"}),(0,zm.jsx)("path",{fill:"currentColor",d:"M19 4a3 3 0 0 1 2.995 2.824L22 7v1.817a1.55 1.55 0 0 1-.776 1.33l-.107.058a2 2 0 0 0-.14 3.515l.14.075c.433.214.82.656.876 1.24l.007.148V17a3 3 0 0 1-2.824 2.995L19 20H5a3 3 0 0 1-2.995-2.824L2 17v-1.817c0-.606.352-1.078.776-1.33l.107-.058a2 2 0 0 0 .14-3.515l-.14-.075c-.433-.214-.82-.656-.876-1.24L2 8.818V7a3 3 0 0 1 2.824-2.995L5 4zm0 2H5a1 1 0 0 0-.993.883L4 7v1.535a4 4 0 0 1 .185 6.816L4 15.465V17a1 1 0 0 0 .883.993L5 18h14a1 1 0 0 0 .993-.883L20 17v-1.535a4 4 0 0 1-.185-6.816L20 8.535V7a1 1 0 0 0-.883-.993zm-9 3a1 1 0 0 1 .993.883L11 10v4a1 1 0 0 1-1.993.117L9 14v-4a1 1 0 0 1 1-1"})]})}),(0,zm.jsx)("span",{className:"text-white text-[10px] font-semibold font-poppins -mt-2",style:{textShadow:"0 2px 4px rgba(0,0,0,0.8)"},children:"Coupon"})]}),(0,zm.jsxs)("button",{onClick:e=>{e.stopPropagation();const t=u[m],s=Array.isArray(null===t||void 0===t?void 0:t.products)&&t.products.length>0?t.products[0]:t;null!==s&&void 0!==s&&s.listing_id?de(e,s):It.error("Product not available for wishlist")},className:"flex flex-col items-center group cursor-pointer",style:{gap:"0px"},disabled:se[null===(i=Array.isArray(null===(p=u[m])||void 0===p?void 0:p.products)&&u[m].products.length>0?u[m].products[0]:u[m])||void 0===i?void 0:i.listing_id],children:[(0,zm.jsx)("div",{className:"p-2 group-active:scale-95 transition-transform",children:(0,zm.jsx)(ch,{className:"w-5 h-5 transition-colors duration-300 ".concat(Z.has(null===(h=Array.isArray(null===(x=u[m])||void 0===x?void 0:x.products)&&u[m].products.length>0?u[m].products[0]:u[m])||void 0===h?void 0:h.listing_id)?"text-red-400 fill-red-400":"text-white fill-white")})}),(0,zm.jsx)("span",{className:"text-white text-[10px] font-semibold font-poppins -mt-2",style:{textShadow:"0 2px 4px rgba(0,0,0,0.8)"},children:"Wishlist"})]})]}),t===m&&(0,zm.jsx)("div",{className:"absolute bottom-2 left-4 right-4 z-30 pointer-events-auto",children:P.length>0&&(0,zm.jsx)("div",{className:"mb-3 pointer-events-auto",children:(0,zm.jsx)("div",{className:"flex gap-3 overflow-x-auto scrollbar-hide pb-2 pointer-events-auto",onTouchStart:e=>e.stopPropagation(),onTouchMove:e=>e.stopPropagation(),onTouchEnd:e=>e.stopPropagation(),style:{scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch"},children:P.map((e,t)=>{const s=e.product_thumbnail||e.thumbnail_url||e.thumbnail,r=0===t;return(0,zm.jsx)("div",{onClick:t=>{t.stopPropagation(),e.link?window.open(e.link,"_blank","noopener,noreferrer"):It.error("Product link not available")},className:"flex-shrink-0 cursor-pointer transition-all duration-200 pointer-events-auto relative",style:{scrollSnapAlign:"start",width:"calc((100vw - 48px) / 3.2)",minWidth:"calc((100vw - 48px) / 3.2)"},children:(0,zm.jsx)("div",{className:"w-full rounded-xl border-3 overflow-hidden shadow-md hover:border-[#6A00FF] hover:border-opacity-80 transition-all relative ".concat(r?"border-[#6A00FF] shadow-lg shadow-[#6A00FF]/30":"border-white/60"),style:{height:"140px"},children:(0,zm.jsxs)("div",{className:"w-full h-full relative",children:[s?(0,zm.jsx)("img",{src:s,alt:e.product_name||"Product",className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,zm.jsx)("div",{className:"w-full h-full flex items-center justify-center ".concat(s?"hidden":"flex"," ").concat(r?"bg-gradient-to-br from-[#6A00FF] to-purple-200":"bg-gradient-to-br from-gray-300 to-gray-400"),children:(0,zm.jsx)("span",{className:"text-xs font-bold text-center px-1 font-poppins ".concat(r?"text-white":"text-gray-700"),children:e.product_name||"Product"})}),(0,zm.jsx)("div",{className:"absolute bottom-0 left-0 right-0 flex items-center justify-center pb-2 z-10",children:(0,zm.jsxs)("span",{className:"bg-[#6A00FF] text-white text-xs px-3 py-1 rounded-full font-semibold font-poppins",children:["Product ",t+1]})})]})})},e.listing_id||"product-".concat(t))})})})})]},e.listing_id)}),(0,zm.jsx)("div",{className:"absolute inset-0 w-full h-screen flex items-center justify-center bg-gradient-to-br from-gray-200 to-gray-300",style:{top:"".concat(100*u.length,"vh")},children:(0,zm.jsxs)("div",{className:"text-center text-gray-900",children:[(0,zm.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfac"}),(0,zm.jsx)("h3",{className:"text-2xl font-bold mb-2 font-poppins",children:"You've reached the end!"}),(0,zm.jsx)("p",{className:"text-gray-600 mb-6 font-poppins",children:"No more videos available"}),(0,zm.jsx)("button",{onClick:()=>{h(0),oe(0,5,!0)},className:"bg-[#6A00FF] hover:bg-purple-700 text-white px-6 py-3 rounded-full font-semibold transition-colors font-poppins",children:"Start Over"})]})})]}),(0,zm.jsx)("div",{className:"absolute inset-0 focus:outline-none pointer-events-none",tabIndex:0,onKeyDown:e=>{"ArrowUp"===e.key?ye():"ArrowDown"===e.key&&ve()}}),L&&R&&(0,zm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[10001] p-4",children:(0,zm.jsxs)("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,zm.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Product Details"}),(0,zm.jsx)("button",{onClick:()=>F(!1),className:"text-gray-400 hover:text-gray-600",children:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,zm.jsxs)("div",{className:"p-6",children:[R.thumbnail_url&&(0,zm.jsx)("div",{className:"mb-4",children:(0,zm.jsx)("img",{src:R.thumbnail_url,alt:R.product_name,className:"w-full h-48 object-cover rounded-lg"})}),(0,zm.jsxs)("div",{className:"space-y-4",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:R.product_name}),(0,zm.jsxs)("p",{className:"text-gray-600",children:["by ",R.provider_name||R.handle_address]})]}),R.price&&(0,zm.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:["\u20b9",R.price]}),R.description&&(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h5",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),(0,zm.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed",children:R.description})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:be(R.view_count||0)}),(0,zm.jsx)("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Views"})]}),(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:be(R.like_count||0)}),(0,zm.jsx)("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Likes"})]})]})]})]}),(0,zm.jsx)("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:R.link?(0,zm.jsx)("a",{href:R.link,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-orange-500 text-white py-3 px-4 rounded-xl font-bold text-center block hover:bg-orange-600 transition-colors shadow-lg",children:"View Product"}):(0,zm.jsx)("div",{className:"w-full bg-gray-300 text-gray-500 py-3 px-4 rounded-xl font-semibold text-center",children:"No link available"})})]})}),B&&(0,zm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-end justify-center z-[10001] animate-fadeIn",onClick:pe,children:(0,zm.jsxs)("div",{className:"bg-white w-full max-w-sm rounded-t-2xl shadow-2xl animate-slideUp overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b border-gray-100",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-xs uppercase tracking-wide text-gray-400 font-semibold",children:"Coupons"}),(0,zm.jsx)("p",{className:"text-sm font-semibold text-gray-900 mt-0.5",children:B.product_name||B.name||"Product"})]}),(0,zm.jsx)("button",{onClick:pe,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close coupon modal",children:(0,zm.jsx)(uh,{className:"w-5 h-5"})})]}),(0,zm.jsx)("div",{className:"p-5 space-y-2 max-h-[60vh] overflow-y-auto",children:null!==(e=B.coupons)&&void 0!==e&&e.length?B.coupons.map((e,t)=>(0,zm.jsxs)("button",{onClick:()=>me(e.code),className:"w-full text-left border border-gray-200 rounded-lg px-3 py-2 hover:border-gray-300 transition-colors flex items-center justify-between gap-3",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"font-mono text-sm font-semibold text-gray-900 tracking-wide",children:e.code}),e.description&&(0,zm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.description})]}),(0,zm.jsx)(bh,{className:"w-4 h-4 text-gray-400"})]},"".concat(e.code,"-").concat(t))):(0,zm.jsx)("div",{className:"text-center py-6 text-sm text-gray-500",children:"No coupons available for this product yet"})}),(0,zm.jsx)("div",{className:"px-5 py-3 border-t border-gray-100 text-center text-xs text-gray-500",children:"Tap any coupon to copy it"})]})}),O&&(0,zm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-end justify-center z-[10001] animate-fadeIn",children:(0,zm.jsxs)("div",{className:"bg-white w-full max-w-sm rounded-t-3xl shadow-2xl animate-slideUp overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,zm.jsx)("div",{className:"flex justify-center pt-3 pb-2",children:(0,zm.jsx)("div",{className:"w-12 h-1 bg-gray-600 rounded-full"})}),(0,zm.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[(0,zm.jsx)("h3",{className:"text-gray-900 text-xl font-bold font-poppins",children:"Share"}),(0,zm.jsx)("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close share modal",children:(0,zm.jsx)(uh,{className:"w-6 h-6"})})]}),(0,zm.jsxs)("div",{className:"p-6 space-y-4",children:[(0,zm.jsxs)("button",{onClick:async()=>{try{const e=u[m],t="".concat(window.location.origin,"/watch?video=").concat(null===e||void 0===e?void 0:e.listing_id);await navigator.clipboard.writeText(t),It.success("Link copied to clipboard!"),M(!1)}catch(xf){It.error("Failed to copy link")}},className:"w-full bg-[#6A00FF] hover:bg-purple-700 text-white py-4 px-6 rounded-xl font-semibold transition-colors flex items-center justify-center space-x-3 font-poppins",children:[(0,zm.jsx)(Sh,{className:"w-5 h-5"}),(0,zm.jsx)("span",{children:"Copy Link"})]}),(0,zm.jsx)("div",{className:"bg-gray-100 rounded-xl p-4 mt-4",children:(0,zm.jsxs)("div",{className:"flex items-center space-x-3",children:[(null===(t=u[m])||void 0===t?void 0:t.thumbnail_url)&&(0,zm.jsx)("img",{src:u[m].thumbnail_url,alt:u[m].product_name,className:"w-12 h-12 rounded-lg object-cover"}),(0,zm.jsxs)("div",{className:"flex-1",children:[(0,zm.jsx)("p",{className:"text-gray-900 font-semibold text-sm font-poppins",children:null===(s=u[m])||void 0===s?void 0:s.product_name}),(0,zm.jsxs)("p",{className:"text-gray-600 text-xs font-poppins",children:["by @",null===(r=u[m])||void 0===r?void 0:r.handle_address]})]})]})})]})]})}),U&&(0,zm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-end justify-center z-[10001] animate-fadeIn",children:(0,zm.jsxs)("div",{className:"bg-white w-full max-w-sm rounded-t-3xl shadow-2xl animate-slideUp overflow-hidden max-h-[80vh]",onClick:e=>e.stopPropagation(),children:[(0,zm.jsx)("div",{className:"flex justify-center pt-3 pb-2 cursor-grab active:cursor-grabbing",onMouseDown:e=>{const t=e.currentTarget.closest(".bg-black");let s=e.clientY,r=t.offsetHeight;const n=e=>{const n=s-e.clientY,a=r+n,i=.8*window.innerHeight;a>=200&&a<=i&&(t.style.height="".concat(a,"px"))},a=()=>{const t=e.currentTarget.closest(".bg-black");t.offsetHeight<.3*window.innerHeight?z(!1):t.style.height="80vh",document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",a)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",a)},children:(0,zm.jsx)("div",{className:"w-12 h-1 bg-gray-600 rounded-full"})}),(0,zm.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsx)("h3",{className:"text-gray-900 text-xl font-bold font-poppins",children:"Store"}),(0,zm.jsx)("button",{onClick:()=>z(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,zm.jsxs)("div",{className:"p-6 space-y-4 overflow-y-auto max-h-[60vh]",children:[u[m]&&(0,zm.jsx)("div",{className:"bg-gray-100 rounded-xl p-4",children:(0,zm.jsxs)("div",{className:"flex items-center space-x-3",children:[u[m].thumbnail_url&&(0,zm.jsx)("img",{src:u[m].thumbnail_url,alt:u[m].product_name,className:"w-16 h-16 rounded-lg object-cover"}),(0,zm.jsxs)("div",{className:"flex-1",children:[(0,zm.jsx)("h4",{className:"text-gray-900 font-semibold font-poppins",children:u[m].product_name}),(0,zm.jsxs)("p",{className:"text-gray-600 text-sm font-poppins",children:["by @",u[m].handle_address]}),(0,zm.jsx)("p",{className:"text-[#6A00FF] font-semibold mt-1 font-poppins",children:"Featured Product"})]})]})}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h4",{className:"text-gray-900 font-semibold mb-3 font-poppins",children:"More from this Store"}),(0,zm.jsx)("div",{className:"space-y-3",children:P.length>0?P.slice(0,5).map(e=>(0,zm.jsx)("div",{className:"bg-gray-100 rounded-xl p-4",children:(0,zm.jsxs)("div",{className:"flex items-center space-x-3",children:[e.thumbnail_url&&(0,zm.jsx)("img",{src:e.thumbnail_url,alt:e.product_name,className:"w-12 h-12 rounded-lg object-cover"}),(0,zm.jsxs)("div",{className:"flex-1",children:[(0,zm.jsx)("h5",{className:"text-gray-900 font-medium text-sm font-poppins",children:e.product_name}),(0,zm.jsx)("p",{className:"text-gray-600 text-xs font-poppins",children:e.category_name||"Product"})]}),(0,zm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zm.jsx)("button",{onClick:t=>de(t,e),disabled:se[e.listing_id],className:"p-1.5 hover:bg-gray-200 rounded-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed active:scale-95","aria-label":Z.has(e.listing_id)?"Remove from wishlist":"Add to wishlist",children:(0,zm.jsx)(ch,{className:"w-4 h-4 transition-colors ".concat(Z.has(e.listing_id)?"fill-red-500 text-red-500":"text-gray-600")})}),(0,zm.jsx)("button",{onClick:t=>{t.stopPropagation(),e.link?window.open(e.link,"_blank","noopener,noreferrer"):It.error("Product link not available")},className:"bg-[#6A00FF] hover:bg-purple-700 text-white px-3 py-1 rounded-lg text-xs font-medium transition-colors font-poppins",children:"View"})]})]})},e.listing_id)):(0,zm.jsx)("div",{className:"text-center py-8",children:(0,zm.jsx)("p",{className:"text-gray-600 font-poppins",children:"No other products available"})})})]}),(0,zm.jsxs)("div",{className:"bg-gray-100 rounded-xl p-4",children:[(0,zm.jsx)("h4",{className:"text-gray-900 font-semibold mb-2 font-poppins",children:"Store Information"}),(0,zm.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,zm.jsxs)("div",{className:"flex justify-between",children:[(0,zm.jsx)("span",{className:"text-gray-600 font-poppins",children:"Provider:"}),(0,zm.jsxs)("span",{className:"text-gray-900 font-poppins",children:["@",null===(n=u[m])||void 0===n?void 0:n.handle_address]})]}),(0,zm.jsxs)("div",{className:"flex justify-between",children:[(0,zm.jsx)("span",{className:"text-gray-600 font-poppins",children:"Type:"}),(0,zm.jsx)("span",{className:"text-gray-900 font-poppins",children:null===(i=u[m])||void 0===i?void 0:i.provider_type})]}),(0,zm.jsxs)("div",{className:"flex justify-between",children:[(0,zm.jsx)("span",{className:"text-gray-600 font-poppins",children:"Products:"}),(0,zm.jsx)("span",{className:"text-gray-900 font-poppins",children:P.length+1})]})]})]})]})]})})]})},Eh=Zm("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Ph=Zm("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Ah=Zm("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Th=Zm("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ih=()=>{const e=te(),{isAuthenticated:t,user:s}=Vm(),[r,n]=(0,a.useState)(""),[i,o]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(null),[p,m]=(0,a.useState)(!1),[h,x]=(0,a.useState)([]),[f,g]=(0,a.useState)([]),[b,y]=(0,a.useState)([]),[v,j]=(0,a.useState)([]),[w,N]=(0,a.useState)([]),[_,k]=(0,a.useState)({recentlyUploaded:!0,mostLiked:!0,mostWatched:!0,influencers:!0,brands:!0});(0,a.useEffect)(()=>{const e=localStorage.getItem("recentSearches");if(e)try{o(JSON.parse(e))}catch(Ve){console.error("Error loading recent searches:",Ve)}},[]),(0,a.useEffect)(()=>{(async()=>{try{const e=await $n({limit:50});if(null!==e&&void 0!==e&&e.listings&&Array.isArray(e.listings)){const t=e.listings.filter(e=>e.product_name).map(e=>e.product_name).slice(0,10);c(t)}}catch(xf){console.error("Error generating trending searches:",xf)}})()},[]),(0,a.useEffect)(()=>{S()},[]);const S=async()=>{try{const s=await $n({limit:1e3}),r=(null===s||void 0===s?void 0:s.listings)||[],n=r.filter(e=>(e.view_count||0)<5).sort((e,t)=>new Date(t.created_at)-new Date(e.created_at)).slice(0,10);x(n),k(e=>Be(Be({},e),{},{recentlyUploaded:!1}));const a=r.filter(e=>(e.like_count||0)>100).sort((e,t)=>(t.like_count||0)-(e.like_count||0)).slice(0,10);g(a),k(e=>Be(Be({},e),{},{mostLiked:!1}));const i=r.filter(e=>(e.view_count||0)>100).sort((e,t)=>(t.view_count||0)-(e.view_count||0)).slice(0,10);y(i),k(e=>Be(Be({},e),{},{mostWatched:!1}));try{var e;const t=await Ai("a",50,"influencer");null!==t&&void 0!==t&&t.ok&&null!==t&&void 0!==t&&null!==(e=t.results)&&void 0!==e&&e.influencers&&j(t.results.influencers.slice(0,10))}catch(xf){console.error("Error fetching influencers:",xf)}k(e=>Be(Be({},e),{},{influencers:!1}));try{var t;const e=await Ai("a",50,"brand");null!==e&&void 0!==e&&e.ok&&null!==e&&void 0!==e&&null!==(t=e.results)&&void 0!==t&&t.brands&&N(e.results.brands.slice(0,10))}catch(xf){console.error("Error fetching brands:",xf)}k(e=>Be(Be({},e),{},{brands:!1}))}catch(xf){console.error("Error loading sections:",xf),Object.keys(_).forEach(e=>{k(t=>Be(Be({},t),{},{[e]:!1}))})}},C=e=>{if(!e||0===e.trim().length)return;const t=e.trim(),s=[t,...i.filter(e=>e!==t)].slice(0,10);o(s),localStorage.setItem("recentSearches",JSON.stringify(s))},E=async e=>{if(!e||e.length<2)u(null);else try{m(!0),u(null),C(e);const t=await Pi(e,20);console.log("Search response:",t),t&&t.ok?u(t.suggestions):(console.error("Search response not ok:",t),It.error((null===t||void 0===t?void 0:t.error)||"Search failed"))}catch(xf){var t,s,r;if(console.error("Error searching:",xf),console.error("Error response:",xf.response),console.error("Error data:",null===(t=xf.response)||void 0===t?void 0:t.data),500===(null===(s=xf.response)||void 0===s?void 0:s.status)&&null!==(r=xf.response)&&void 0!==r&&r.data){const t=xf.response.data;console.log("500 error data:",t),t.suggestions?(u(t.suggestions),console.log("Search: Using suggestions from error response:",t.suggestions)):u({categories:[],brands:[],influencers:[],products:[]})}else{var n,a;It.error((null===(n=xf.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Search failed"),u({categories:[],brands:[],influencers:[],products:[]})}}finally{m(!1)}};(0,a.useEffect)(()=>{if(r.length<2)return u(null),void m(!1);const e=setTimeout(async()=>{try{m(!0),u(null),C(r);const e=await Pi(r,20);console.log("Auto-search response:",e),e&&!1!==e.ok?u(e.suggestions||e):e&&e.error&&(console.error("Auto-search response error:",e.error),u({categories:[],brands:[],influencers:[],products:[]}))}catch(xf){var e,t,s;if(console.error("Error in auto-search:",xf),console.error("Error response:",xf.response),console.error("Error data:",null===(e=xf.response)||void 0===e?void 0:e.data),500===(null===(t=xf.response)||void 0===t?void 0:t.status)&&null!==(s=xf.response)&&void 0!==s&&s.data){const e=xf.response.data;e.suggestions?(u(e.suggestions),console.log("Auto-search: Using suggestions from error response:",e.suggestions)):u({categories:[],brands:[],influencers:[],products:[]})}else u({categories:[],brands:[],influencers:[],products:[]})}finally{m(!1)}},500);return()=>clearTimeout(e)},[r]);const P=e=>{n(e),E(e)},A=t=>{e("/watch?video=".concat(t))},T=async t=>{try{if(t.user_id)e("/profile?user_id=".concat(t.user_id));else if(t.provider_id){var s;const r=await zn(t.provider_id);null!==r&&void 0!==r&&null!==(s=r.provider)&&void 0!==s&&s.user_id?e("/profile?user_id=".concat(r.provider.user_id)):It.error("Profile not available")}else It.error("Profile not available")}catch(xf){console.error("Error fetching profile:",xf),It.error("Failed to load profile")}},I=e=>"string"===typeof e?e:"\u20b9".concat(parseFloat(e||0).toFixed(0)),L=e=>e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"k"):e.toString();return(0,zm.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-20",children:[(0,zm.jsx)("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:(0,zm.jsxs)("div",{className:"px-4 py-3 flex items-center gap-3",children:[(0,zm.jsx)("button",{onClick:()=>e(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,zm.jsx)(jh,{className:"w-5 h-5 text-gray-700"})}),(0,zm.jsxs)("div",{className:"flex-1 relative",children:[(0,zm.jsx)(oh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,zm.jsx)("input",{type:"text",value:r,onChange:e=>n(e.target.value),onKeyDown:e=>{"Enter"===e.key&&E(r)},placeholder:"Search for products, brands, categories...",className:"w-full pl-10 pr-4 py-2.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A00FF] focus:border-[#6A00FF] outline-none font-poppins bg-white",autoFocus:!0})]}),r&&(0,zm.jsx)("button",{onClick:()=>{n(""),u(null),m(!1)},className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,zm.jsx)(uh,{className:"w-5 h-5 text-gray-500"})})]})}),(0,zm.jsxs)("div",{className:"px-4 py-4",children:[p&&r.trim().length>=2&&(0,zm.jsx)("div",{className:"flex justify-center py-8",children:(0,zm.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#6A00FF]"})}),d&&!p&&(0,zm.jsxs)("div",{className:"mb-6",children:[(0,zm.jsx)("h2",{className:"text-lg font-semibold text-gray-900 font-poppins mb-4",children:"Search Results"}),d.products&&d.products.length>0&&(0,zm.jsxs)("div",{className:"mb-6",children:[(0,zm.jsx)("h3",{className:"text-sm font-semibold text-gray-700 font-poppins mb-3",children:"Products"}),(0,zm.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:d.products.map(e=>(0,zm.jsxs)("div",{onClick:()=>A(e.listing_id),className:"bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:[e.thumbnail_url&&(0,zm.jsxs)("div",{className:"relative w-full aspect-square bg-gray-100",children:[(0,zm.jsx)("img",{src:e.thumbnail_url,alt:e.product_name,className:"w-full h-full object-cover"}),(0,zm.jsxs)("div",{className:"absolute bottom-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded flex items-center gap-1",children:[(0,zm.jsx)(dh,{className:"w-3 h-3"}),(0,zm.jsx)("span",{children:"Watch"})]})]}),(0,zm.jsxs)("div",{className:"p-3",children:[(0,zm.jsx)("h4",{className:"text-sm font-semibold text-gray-900 font-poppins truncate mb-1",children:e.product_name}),e.price&&(0,zm.jsx)("p",{className:"text-sm font-bold text-[#6A00FF] font-poppins",children:I(e.price)})]})]},e.listing_id))})]}),d.influencers&&d.influencers.length>0&&(0,zm.jsxs)("div",{className:"mb-6",children:[(0,zm.jsx)("h3",{className:"text-sm font-semibold text-gray-700 font-poppins mb-3",children:"Influencers"}),(0,zm.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-hide",children:d.influencers.map(e=>(0,zm.jsxs)("div",{onClick:()=>T(e),className:"flex flex-col items-center gap-2 flex-shrink-0 cursor-pointer group",children:[(0,zm.jsx)("div",{className:"relative w-20 h-20 rounded-full overflow-hidden border-2 border-[#6A00FF] group-hover:border-purple-600 transition-colors",children:e.profile_image_url?(0,zm.jsx)("img",{src:e.profile_image_url,alt:e.business_name||e.full_name,className:"w-full h-full object-cover"}):(0,zm.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,zm.jsx)(hh,{className:"w-10 h-10 text-gray-400"})})}),(0,zm.jsxs)("div",{className:"text-center max-w-[80px]",children:[(0,zm.jsx)("p",{className:"text-xs font-semibold text-gray-900 font-poppins truncate",children:e.business_name||e.full_name||"Influencer"}),e.handle_address&&(0,zm.jsxs)("p",{className:"text-xs text-gray-500 font-poppins truncate",children:["@",e.handle_address]})]})]},e.provider_id||e.user_id))})]}),d.brands&&d.brands.length>0&&(0,zm.jsxs)("div",{className:"mb-6",children:[(0,zm.jsx)("h3",{className:"text-sm font-semibold text-gray-700 font-poppins mb-3",children:"Brands"}),(0,zm.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-hide",children:d.brands.map(e=>(0,zm.jsxs)("div",{onClick:()=>T(e),className:"flex flex-col items-center gap-2 flex-shrink-0 cursor-pointer group",children:[(0,zm.jsx)("div",{className:"relative w-20 h-20 rounded-full overflow-hidden border-2 border-[#6A00FF] group-hover:border-purple-600 transition-colors",children:e.profile_image_url?(0,zm.jsx)("img",{src:e.profile_image_url,alt:e.business_name||e.full_name,className:"w-full h-full object-cover"}):(0,zm.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,zm.jsx)(hh,{className:"w-10 h-10 text-gray-400"})})}),(0,zm.jsxs)("div",{className:"text-center max-w-[80px]",children:[(0,zm.jsx)("p",{className:"text-xs font-semibold text-gray-900 font-poppins truncate",children:e.business_name||e.full_name||"Brand"}),e.handle_address&&(0,zm.jsxs)("p",{className:"text-xs text-gray-500 font-poppins truncate",children:["@",e.handle_address]})]})]},e.provider_id||e.user_id))})]}),d.categories&&d.categories.length>0&&(0,zm.jsxs)("div",{className:"mb-6",children:[(0,zm.jsx)("h3",{className:"text-sm font-semibold text-gray-700 font-poppins mb-3",children:"Categories"}),(0,zm.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:d.categories.map(t=>(0,zm.jsxs)("div",{onClick:()=>e("/category?category_id=".concat(t.category_id,"&category_name=").concat(encodeURIComponent(t.category_name||"Category"))),className:"bg-white rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer text-center",children:[t.image_url&&(0,zm.jsx)("img",{src:t.image_url,alt:t.category_name,className:"w-16 h-16 mx-auto mb-2 object-cover rounded-lg"}),(0,zm.jsx)("h4",{className:"text-sm font-semibold text-gray-900 font-poppins",children:t.category_name})]},t.category_id))})]}),(!d.products||0===d.products.length)&&(!d.brands||0===d.brands.length)&&(!d.influencers||0===d.influencers.length)&&(!d.categories||0===d.categories.length)&&(0,zm.jsx)("div",{className:"text-center py-8",children:(0,zm.jsx)("p",{className:"text-gray-500 font-poppins",children:"No results found"})})]}),!d&&!p&&(0,zm.jsxs)(zm.Fragment,{children:[i.length>0&&(0,zm.jsxs)("div",{className:"mb-6",children:[(0,zm.jsx)("h2",{className:"text-lg font-semibold text-gray-900 font-poppins mb-3",children:"Recent Searches"}),(0,zm.jsx)("div",{className:"flex flex-wrap gap-2",children:i.map((e,t)=>(0,zm.jsx)("button",{onClick:()=>P(e),className:"px-4 py-2 bg-white border border-gray-300 rounded-full text-sm text-gray-700 font-poppins hover:bg-gray-50 hover:border-[#6A00FF] transition-colors",children:e},t))})]}),l.length>0&&(0,zm.jsxs)("div",{className:"mb-6",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,zm.jsx)(Eh,{className:"w-5 h-5 text-[#6A00FF]"}),(0,zm.jsx)("h2",{className:"text-lg font-semibold text-gray-900 font-poppins",children:"Trending Searches"})]}),(0,zm.jsx)("div",{className:"flex flex-wrap gap-2",children:l.map((e,t)=>(0,zm.jsx)("button",{onClick:()=>P(e),className:"px-4 py-2 bg-white border border-gray-300 rounded-full text-sm text-gray-700 font-poppins hover:bg-gray-50 hover:border-[#6A00FF] transition-colors",children:e},t))})]}),(0,zm.jsxs)("div",{className:"mb-6",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,zm.jsx)(Ph,{className:"w-5 h-5 text-[#6A00FF]"}),(0,zm.jsx)("h2",{className:"text-lg font-semibold text-gray-900 font-poppins",children:"Recently Uploaded Products"})]}),_.recentlyUploaded?(0,zm.jsx)("div",{className:"flex justify-center py-8",children:(0,zm.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#6A00FF]"})}):h.length>0?(0,zm.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:h.map(e=>(0,zm.jsxs)("div",{onClick:()=>A(e.listing_id),className:"bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:[e.thumbnail_url&&(0,zm.jsxs)("div",{className:"relative w-full aspect-square bg-gray-100",children:[(0,zm.jsx)("img",{src:e.thumbnail_url,alt:e.product_name,className:"w-full h-full object-cover"}),(0,zm.jsx)("div",{className:"absolute top-2 left-2 bg-red-500 text-white text-xs px-2 py-1 rounded",children:"New"})]}),(0,zm.jsxs)("div",{className:"p-3",children:[(0,zm.jsx)("h4",{className:"text-sm font-semibold text-gray-900 font-poppins truncate mb-1",children:e.product_name}),e.price&&(0,zm.jsx)("p",{className:"text-sm font-bold text-[#6A00FF] font-poppins",children:I(e.price)}),(0,zm.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500",children:[(0,zm.jsx)(lh,{className:"w-3 h-3"}),(0,zm.jsxs)("span",{children:[e.view_count||0," views"]})]})]})]},e.listing_id))}):(0,zm.jsx)("p",{className:"text-gray-500 text-sm font-poppins",children:"No recently uploaded products"})]}),(0,zm.jsxs)("div",{className:"mb-6",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,zm.jsx)(Ah,{className:"w-5 h-5 text-[#6A00FF]"}),(0,zm.jsx)("h2",{className:"text-lg font-semibold text-gray-900 font-poppins",children:"Most Liked Videos"})]}),_.mostLiked?(0,zm.jsx)("div",{className:"flex justify-center py-8",children:(0,zm.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#6A00FF]"})}):f.length>0?(0,zm.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:f.map(e=>(0,zm.jsxs)("div",{onClick:()=>A(e.listing_id),className:"bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:[e.thumbnail_url&&(0,zm.jsxs)("div",{className:"relative w-full aspect-square bg-gray-100",children:[(0,zm.jsx)("img",{src:e.thumbnail_url,alt:e.product_name,className:"w-full h-full object-cover"}),(0,zm.jsxs)("div",{className:"absolute bottom-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded flex items-center gap-1",children:[(0,zm.jsx)(ch,{className:"w-3 h-3 fill-pink-400 text-pink-400"}),(0,zm.jsx)("span",{children:L(e.like_count||0)})]})]}),(0,zm.jsxs)("div",{className:"p-3",children:[(0,zm.jsx)("h4",{className:"text-sm font-semibold text-gray-900 font-poppins truncate mb-1",children:e.product_name}),e.price&&(0,zm.jsx)("p",{className:"text-sm font-bold text-[#6A00FF] font-poppins",children:I(e.price)})]})]},e.listing_id))}):(0,zm.jsx)("p",{className:"text-gray-500 text-sm font-poppins",children:"No products found"})]}),(0,zm.jsxs)("div",{className:"mb-6",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,zm.jsx)(lh,{className:"w-5 h-5 text-[#6A00FF]"}),(0,zm.jsx)("h2",{className:"text-lg font-semibold text-gray-900 font-poppins",children:"Most Watched Products"})]}),_.mostWatched?(0,zm.jsx)("div",{className:"flex justify-center py-8",children:(0,zm.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#6A00FF]"})}):b.length>0?(0,zm.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:b.map(e=>(0,zm.jsxs)("div",{onClick:()=>A(e.listing_id),className:"bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:[e.thumbnail_url&&(0,zm.jsxs)("div",{className:"relative w-full aspect-square bg-gray-100",children:[(0,zm.jsx)("img",{src:e.thumbnail_url,alt:e.product_name,className:"w-full h-full object-cover"}),(0,zm.jsxs)("div",{className:"absolute bottom-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded flex items-center gap-1",children:[(0,zm.jsx)(lh,{className:"w-3 h-3"}),(0,zm.jsx)("span",{children:L(e.view_count||0)})]})]}),(0,zm.jsxs)("div",{className:"p-3",children:[(0,zm.jsx)("h4",{className:"text-sm font-semibold text-gray-900 font-poppins truncate mb-1",children:e.product_name}),e.price&&(0,zm.jsx)("p",{className:"text-sm font-bold text-[#6A00FF] font-poppins",children:I(e.price)})]})]},e.listing_id))}):(0,zm.jsx)("p",{className:"text-gray-500 text-sm font-poppins",children:"No products found"})]}),(0,zm.jsxs)("div",{className:"mb-6",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,zm.jsx)(Th,{className:"w-5 h-5 text-[#6A00FF]"}),(0,zm.jsx)("h2",{className:"text-lg font-semibold text-gray-900 font-poppins",children:"Influencers to Follow"})]}),_.influencers?(0,zm.jsx)("div",{className:"flex justify-center py-8",children:(0,zm.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#6A00FF]"})}):v.length>0?(0,zm.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-hide",children:v.map(e=>(0,zm.jsxs)("div",{onClick:()=>T(e),className:"flex flex-col items-center gap-2 flex-shrink-0 cursor-pointer group",children:[(0,zm.jsx)("div",{className:"relative w-20 h-20 rounded-full overflow-hidden border-2 border-[#6A00FF] group-hover:border-purple-600 transition-colors",children:e.profile_image_url?(0,zm.jsx)("img",{src:e.profile_image_url,alt:e.business_name||e.full_name,className:"w-full h-full object-cover"}):(0,zm.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,zm.jsx)(hh,{className:"w-10 h-10 text-gray-400"})})}),(0,zm.jsxs)("div",{className:"text-center max-w-[80px]",children:[(0,zm.jsx)("p",{className:"text-xs font-semibold text-gray-900 font-poppins truncate",children:e.business_name||e.full_name||"Influencer"}),e.handle_address&&(0,zm.jsxs)("p",{className:"text-xs text-gray-500 font-poppins truncate",children:["@",e.handle_address]})]})]},e.provider_id||e.user_id))}):(0,zm.jsx)("p",{className:"text-gray-500 text-sm font-poppins",children:"No influencers found"})]}),(0,zm.jsxs)("div",{className:"mb-6",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,zm.jsx)(Th,{className:"w-5 h-5 text-[#6A00FF]"}),(0,zm.jsx)("h2",{className:"text-lg font-semibold text-gray-900 font-poppins",children:"Brands to Follow"})]}),_.brands?(0,zm.jsx)("div",{className:"flex justify-center py-8",children:(0,zm.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#6A00FF]"})}):w.length>0?(0,zm.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-hide",children:w.map(e=>(0,zm.jsxs)("div",{onClick:()=>T(e),className:"flex flex-col items-center gap-2 flex-shrink-0 cursor-pointer group",children:[(0,zm.jsx)("div",{className:"relative w-20 h-20 rounded-full overflow-hidden border-2 border-[#6A00FF] group-hover:border-purple-600 transition-colors",children:e.profile_image_url?(0,zm.jsx)("img",{src:e.profile_image_url,alt:e.business_name||e.full_name,className:"w-full h-full object-cover"}):(0,zm.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,zm.jsx)(hh,{className:"w-10 h-10 text-gray-400"})})}),(0,zm.jsxs)("div",{className:"text-center max-w-[80px]",children:[(0,zm.jsx)("p",{className:"text-xs font-semibold text-gray-900 font-poppins truncate",children:e.business_name||e.full_name||"Brand"}),e.handle_address&&(0,zm.jsxs)("p",{className:"text-xs text-gray-500 font-poppins truncate",children:["@",e.handle_address]})]})]},e.provider_id||e.user_id))}):(0,zm.jsx)("p",{className:"text-gray-500 text-sm font-poppins",children:"No brands found"})]})]})]})]})},Lh=Zm("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),Fh=Zm("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Rh=Zm("PackageSearch",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]),Dh=()=>{const e=te(),[t]=Re(),{isAuthenticated:s}=Vm(),r=t.get("category_id"),n=t.get("category_name")||"Category",[i,o]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)({}),[p,m]=(0,a.useState)({}),[h,x]=(0,a.useState)({}),[f,g]=(0,a.useState)(!0),b=window.matchMedia("(prefers-reduced-motion: reduce)").matches,y=e=>e?"\u20b9".concat(parseInt(e).toLocaleString("en-IN")):"\u20b90";(0,a.useEffect)(()=>{r?(j(parseInt(r)),v()):(g(!1),It.error("Invalid category"),e("/home"))},[r]);const v=async()=>{if(s)try{const e=await la();if(e&&e.wishlist){const t=e.wishlist.map(e=>e.listing_id);c(t)}else c([])}catch(xf){console.error("Error fetching wishlist:",xf),c([])}else c([])},j=async e=>{try{g(!0);const t=await $n({category_id:e,limit:50});t&&t.listings&&Array.isArray(t.listings)?(o(t.listings),await w(t.listings)):o([])}catch(xf){console.error("Error loading category products:",xf),o([]),It.error("Failed to load category products")}finally{g(!1)}},w=async e=>{if(!s||!e||0===e.length){const t={};return e.forEach(e=>{t[e.listing_id]={likes:e.like_count||0,loves:e.love_count||0,clicks:e.click_count||0,views:e.view_count||0}}),void x(e=>Be(Be({},e),t))}try{const t=e.map(async e=>{try{const[t,s]=await Promise.all([Xn(e.listing_id),ta(e.listing_id)]);return{listingId:e.listing_id,liked:t.liked||!1,loved:s.loved||!1,likeCount:t.like_count||e.like_count||0,loveCount:s.love_count||e.love_count||0,clickCount:e.click_count||0,viewCount:e.view_count||0}}catch(xf){return console.error("Error loading status for ".concat(e.listing_id,":"),xf),{listingId:e.listing_id,liked:!1,loved:!1,likeCount:e.like_count||0,loveCount:e.love_count||0,clickCount:e.click_count||0,viewCount:e.view_count||0}}}),s=await Promise.all(t),r={},n={},a={};s.forEach(e=>{r[e.listingId]=e.liked,n[e.listingId]=e.loved,a[e.listingId]={likes:e.likeCount,loves:e.loveCount,clicks:e.clickCount,views:e.viewCount}}),u(e=>Be(Be({},e),r)),m(e=>Be(Be({},e),n)),x(e=>Be(Be({},e),a))}catch(xf){console.error("Error loading engagement statuses:",xf)}},N=(t,s)=>{!b&&t.currentTarget&&(t.currentTarget.style.transform="scale(0.96)",setTimeout(()=>{t.currentTarget&&(t.currentTarget.style.transform="scale(1)")},150)),null!==s&&void 0!==s&&s.listing_id&&e("/watch?video=".concat(s.listing_id))};return(0,zm.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,zm.jsx)("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:(0,zm.jsxs)("div",{className:"px-4 py-4 flex items-center gap-3",children:[(0,zm.jsx)("button",{onClick:()=>e("/home"),className:"bg-white border border-gray-200 rounded-full p-2 hover:bg-gray-50 transition-colors","aria-label":"Go back",children:(0,zm.jsx)(jh,{className:"w-5 h-5 text-gray-700"})}),(0,zm.jsx)("h1",{className:"font-bold font-poppins",style:{fontSize:"18px",color:"#111827"},children:n})]})}),f?(0,zm.jsx)("div",{className:"grid grid-cols-2 gap-4 p-4",children:[...Array(4)].map((e,t)=>(0,zm.jsx)("div",{className:"bg-gray-200 animate-pulse rounded-xl",style:{height:"280px"}},t))}):i.length>0?(0,zm.jsx)("div",{className:"grid grid-cols-2 gap-4 p-4 pb-32",children:i.map(e=>{var t,r,n;return(0,zm.jsx)("div",{className:"relative group cursor-pointer transition-transform duration-150",onClick:t=>N(t,e),onTouchStart:t=>N(t,e),role:"button",tabIndex:0,"aria-label":"".concat(e.product_name," - ").concat(y(e.price)),children:(0,zm.jsx)("div",{className:"bg-white rounded-xl overflow-hidden",style:{borderRadius:"18px",boxShadow:"0 8px 20px rgba(16, 24, 40, 0.06)"},children:(0,zm.jsxs)("div",{className:"relative w-full overflow-hidden bg-gray-800",style:{height:"180px"},children:[e.video_url?(0,zm.jsxs)("div",{className:"relative w-full h-full bg-gray-800",children:[(0,zm.jsx)("video",{src:e.video_url,poster:e.thumbnail_url,className:"w-full h-full object-cover",preload:"metadata",muted:!0,playsInline:!0,onError:e=>{console.error("Video error:",e),e.target.style.display="none"}}),(0,zm.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,zm.jsx)("div",{className:"bg-gray-100 rounded-full p-2.5 shadow-xl border-2 border-[#4B2BD6]",style:{width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,zm.jsx)(dh,{className:"w-5 h-5 text-[#4B2BD6]",strokeWidth:2.5})})})]}):e.thumbnail_url?(0,zm.jsx)("img",{src:e.thumbnail_url,alt:e.product_name,className:"w-full h-full object-cover",onError:e=>{e.target.src="https://via.placeholder.com/280x180?text=No+Image"}}):(0,zm.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-800",children:(0,zm.jsx)("span",{className:"text-gray-400 text-sm",children:"No Image"})}),(0,zm.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-black/70 to-transparent pointer-events-none"}),((null===(t=h[e.listing_id])||void 0===t?void 0:t.views)||e.view_count||0)>0&&(0,zm.jsxs)("div",{className:"absolute top-2 left-2 flex items-center gap-1 px-1.5 py-1 rounded z-10",style:{background:"#1E3A8A",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)"},children:[(0,zm.jsx)(lh,{className:"w-2.5 h-2.5 text-white"}),(0,zm.jsx)("span",{className:"text-white font-poppins font-medium",style:{fontSize:"10px"},children:(n=(null===(r=h[e.listing_id])||void 0===r?void 0:r.views)||e.view_count||0,n>=1e6?"".concat((n/1e6).toFixed(1),"M"):n>=1e3?"".concat((n/1e3).toFixed(0),"k"):n.toString())})]}),(0,zm.jsx)("button",{onClick:t=>(async(e,t)=>{if(e.stopPropagation(),null===t||void 0===t||!t.listing_id)return;const s=l.includes(t.listing_id);try{s?(await da(t.listing_id),c(l.filter(e=>e!==t.listing_id)),It.success("Removed from wishlist")):(await ca(t.listing_id),c([...l,t.listing_id]),It.success("Added to wishlist"))}catch(xf){var r,n;console.error("Error toggling wishlist:",xf),It.error((null===(r=xf.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||"Failed to update wishlist")}})(t,e),className:"absolute top-2 right-2 w-7 h-7 rounded-lg bg-white flex items-center justify-center shadow-md hover:bg-gray-50 transition-all z-10",style:{minWidth:"28px",minHeight:"28px"},"aria-label":l.includes(e.listing_id)?"Remove from wishlist":"Add to wishlist",children:(0,zm.jsx)(ch,{className:"w-4 h-4 ".concat(l.includes(e.listing_id)?"fill-red-500 text-red-500":"text-gray-700")})}),(0,zm.jsxs)("div",{className:"absolute bottom-2 right-2 flex items-center gap-1 z-10",children:[(0,zm.jsx)("button",{onClick:t=>(async(e,t)=>{if(e.stopPropagation(),s){if(null!==t&&void 0!==t&&t.listing_id)try{const e=d[t.listing_id];let s;u(s=>Be(Be({},s),{},{[t.listing_id]:!e})),s=e?await Qn(t.listing_id):await Jn(t.listing_id),x(e=>Be(Be({},e),{},{[t.listing_id]:Be(Be({},e[t.listing_id]),{},{likes:s.like_count||0})})),It.success(e?"Removed like":"Liked!")}catch(xf){var r;console.error("Error toggling like:",xf),u(e=>Be(Be({},e),{},{[t.listing_id]:!e[t.listing_id]})),401===(null===(r=xf.response)||void 0===r?void 0:r.status)?It.error("Please log in to like products"):It.error("Failed to update like")}}else It.error("Please log in to like products")})(t,e),className:"bg-white/90 backdrop-blur-sm rounded-full p-1.5 shadow-md hover:bg-white transition-all flex items-center justify-center",style:{width:"28px",height:"28px"},"aria-label":"Like",children:(0,zm.jsx)(Lh,{className:"w-3.5 h-3.5 transition-colors duration-300 ".concat(d[e.listing_id]?"text-blue-500 fill-current":"text-blue-400")})}),(0,zm.jsx)("button",{onClick:t=>(async(e,t)=>{if(e.stopPropagation(),null!==t&&void 0!==t&&t.listing_id)try{const e=await sa(t.listing_id);x(s=>Be(Be({},s),{},{[t.listing_id]:Be(Be({},s[t.listing_id]),{},{clicks:e.click_count||0})})),e.link?window.open(e.link,"_blank","noopener,noreferrer"):It.error("Product link not available")}catch(xf){console.error("Error handling click:",xf),It.error("Failed to open product link")}})(t,e),className:"bg-white/90 backdrop-blur-sm rounded-full p-1.5 shadow-md hover:bg-white transition-all flex items-center justify-center",style:{width:"28px",height:"28px"},"aria-label":"Open product link",children:(0,zm.jsx)(Fh,{className:"w-3.5 h-3.5 text-gray-700"})}),(0,zm.jsx)("button",{onClick:t=>(async(e,t)=>{if(e.stopPropagation(),s){if(null!==t&&void 0!==t&&t.listing_id)try{const e=p[t.listing_id];let s;m(s=>Be(Be({},s),{},{[t.listing_id]:!e})),s=e?await ea(t.listing_id):await Zn(t.listing_id),x(e=>Be(Be({},e),{},{[t.listing_id]:Be(Be({},e[t.listing_id]),{},{loves:s.love_count||0})})),It.success(e?"Removed love":"Loved!")}catch(xf){var r;console.error("Error toggling love:",xf),m(e=>Be(Be({},e),{},{[t.listing_id]:!e[t.listing_id]})),401===(null===(r=xf.response)||void 0===r?void 0:r.status)?It.error("Please log in to love products"):It.error("Failed to update love")}}else It.error("Please log in to love products")})(t,e),className:"bg-white/90 backdrop-blur-sm rounded-full p-1.5 shadow-md hover:bg-white transition-all flex items-center justify-center",style:{width:"28px",height:"28px"},"aria-label":"Love",children:(0,zm.jsx)(ch,{className:"w-3.5 h-3.5 transition-colors duration-300 ".concat(p[e.listing_id]?"text-pink-500 fill-current":"text-pink-400")})}),(0,zm.jsx)("button",{onClick:t=>(async(e,t)=>{if(e.stopPropagation(),null===t||void 0===t||!t.listing_id)return;const s="".concat(window.location.origin,"/watch?video=").concat(t.listing_id);try{navigator.share?await navigator.share({title:t.product_name||"Product",text:"Check out ".concat(t.product_name||"this product"),url:s}):(await navigator.clipboard.writeText(s),It.success("Link copied to clipboard!"))}catch(xf){if("AbortError"!==xf.name)try{await navigator.clipboard.writeText(s),It.success("Link copied to clipboard!")}catch(r){It.error("Failed to share")}}})(t,e),className:"bg-white/90 backdrop-blur-sm rounded-full p-1.5 shadow-md hover:bg-white transition-all flex items-center justify-center",style:{width:"28px",height:"28px"},"aria-label":"Share",children:(0,zm.jsx)(Sh,{className:"w-3.5 h-3.5 text-gray-700"})})]}),(0,zm.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-2.5 z-10",style:{paddingBottom:"42px"},children:[(0,zm.jsx)("h3",{className:"font-poppins font-semibold mb-0.5 line-clamp-2 text-white",style:{fontSize:"12px",lineHeight:"1.3",fontWeight:"600",textShadow:"0 1px 3px rgba(0, 0, 0, 0.5)"},children:e.product_name}),(0,zm.jsx)("div",{className:"inline-block px-2 py-1 rounded mt-0.5 mb-0.5",style:{background:"#FFFFFF",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",borderRadius:"6px"},children:(0,zm.jsx)("span",{className:"font-poppins font-semibold",style:{color:"#111827",fontSize:"11px"},children:y(e.price)})}),(0,zm.jsx)("p",{className:"font-poppins text-white/90 line-clamp-3",style:{fontSize:"10px",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)",marginTop:"2px"},children:e.description||"No description available"})]})]})})},"category-".concat(e.listing_id))})}):(0,zm.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[(0,zm.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,zm.jsx)(Rh,{className:"w-12 h-12 text-gray-400"})}),(0,zm.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2 font-poppins",children:"No Products Found"}),(0,zm.jsx)("p",{className:"text-gray-600 text-center font-poppins",children:"There are no products available in this category yet."})]})]})},Oh=Zm("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Mh=Zm("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Uh=Zm("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),zh=()=>{const e=te(),{isAuthenticated:t}=Vm(),[s,r]=(0,a.useState)(!0),[n,i]=(0,a.useState)(!1);(0,a.useEffect)(()=>{t?o():r(!1)},[t]);const o=async()=>{try{r(!0);const e=await Un();e&&e.provider?i(!0):i(!1)}catch(xf){var e;401===(null===(e=xf.response)||void 0===e?void 0:e.status)||console.error("Error checking provider:",xf),i(!1)}finally{r(!1)}};if(s)return(0,zm.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,zm.jsx)(ph,{className:"w-8 h-8 animate-spin text-[#6C4DFF]"})});if(!n)return(0,zm.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,zm.jsx)("header",{className:"w-full bg-white border-b border-gray-200 sticky top-0 z-50",children:(0,zm.jsxs)("div",{className:"px-4 sm:px-5 py-3.5 sm:py-4 flex items-center justify-between",children:[(0,zm.jsx)("div",{className:"flex items-center",children:(0,zm.jsxs)("span",{className:"text-2xl sm:text-[24px] font-poppins font-bold",children:[(0,zm.jsx)("span",{className:"text-black",children:"Get"}),(0,zm.jsx)("span",{className:"text-[#6C4DFF]",children:"nayi"})]})}),(0,zm.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,zm.jsx)("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,zm.jsx)(Oh,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),(0,zm.jsx)("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,zm.jsx)(Mh,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]})}),(0,zm.jsx)("div",{className:"px-4 sm:px-5 py-12 flex items-center justify-center min-h-screen",children:(0,zm.jsxs)("div",{className:"text-center max-w-md",children:[(0,zm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4 font-poppins",children:"Provider Profile Required"}),(0,zm.jsx)("p",{className:"text-gray-600 mb-6 font-poppins",children:"You need to register as a provider before creating listings."}),(0,zm.jsx)("button",{onClick:()=>e("/provider/register"),className:"bg-[#6C4DFF] hover:bg-[#5a3ddb] text-white px-6 py-3 rounded-full transition-colors font-medium font-poppins shadow-md hover:shadow-lg active:scale-[0.96]",children:"Register as Provider"})]})})]});const l=[{id:"product",title:"List a Product",description:"Showcase your physical products to thousands of users",icon:xh,route:"/listing/upload?type=PRODUCT"}];return(0,zm.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,zm.jsx)("header",{className:"w-full bg-white border-b border-gray-200 sticky top-0 z-50",children:(0,zm.jsxs)("div",{className:"px-4 sm:px-5 py-3.5 sm:py-4 flex items-center justify-between",children:[(0,zm.jsx)("div",{className:"flex items-center",children:(0,zm.jsxs)("span",{className:"text-2xl sm:text-[24px] font-poppins font-bold",children:[(0,zm.jsx)("span",{className:"text-black",children:"Get"}),(0,zm.jsx)("span",{className:"text-[#6C4DFF]",children:"nayi"})]})}),(0,zm.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,zm.jsx)("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,zm.jsx)(Oh,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),(0,zm.jsx)("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,zm.jsx)(Mh,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]})}),(0,zm.jsxs)("div",{className:"px-4 sm:px-5 py-6 sm:py-8 pb-32 sm:pb-12 max-w-4xl mx-auto",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2 font-poppins",children:"Create a Listing"}),(0,zm.jsx)("p",{className:"text-sm sm:text-base text-gray-600 font-poppins",children:"Choose what you'd like to list"})]}),(0,zm.jsxs)("button",{onClick:()=>e("/listing/my"),className:"bg-[#6C4DFF] hover:bg-[#5a3ddb] text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full text-sm sm:text-base font-semibold transition-all flex items-center gap-2 shadow-md hover:shadow-lg active:scale-[0.96] font-poppins",children:[(0,zm.jsx)(Uh,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,zm.jsx)("span",{className:"hidden sm:inline",children:"My Listings"}),(0,zm.jsx)("span",{className:"sm:hidden",children:"My"})]})]}),(0,zm.jsx)("div",{className:"grid md:grid-cols-2 gap-6 mb-12",children:l.map(t=>{const s=t.icon;return(0,zm.jsxs)("div",{onClick:()=>e(t.route),className:"bg-white border-2 border-gray-200 rounded-2xl shadow-sm hover:shadow-lg hover:border-[#6C4DFF] transition-all duration-300 cursor-pointer overflow-hidden group active:scale-[0.98]",children:[(0,zm.jsx)("div",{className:"h-24 sm:h-32 bg-[#E8D5FF] flex items-center justify-center group-hover:bg-[#6C4DFF] transition-colors duration-300",children:(0,zm.jsx)(s,{className:"w-12 h-12 sm:w-16 sm:h-16 text-[#6C4DFF] group-hover:text-white transition-colors duration-300",strokeWidth:1.5})}),(0,zm.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,zm.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2 font-poppins",children:t.title}),(0,zm.jsx)("p",{className:"text-gray-600 font-poppins mb-4 text-xs sm:text-sm",children:t.description}),(0,zm.jsx)("div",{className:"w-full bg-[#6C4DFF] text-white py-2 sm:py-3 rounded-full text-sm sm:text-base font-medium text-center font-poppins hover:bg-[#5a3ddb] transition-colors",children:"Get Started \u2192"})]})]},t.id)})}),(0,zm.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-2xl shadow-sm p-4 sm:p-8",children:[(0,zm.jsx)("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-6 font-poppins",children:"How it works"}),(0,zm.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 sm:gap-6",children:[(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-[#6C4DFF] rounded-full flex items-center justify-center mx-auto mb-2 sm:mb-3",children:(0,zm.jsx)("span",{className:"text-white font-bold text-base sm:text-lg font-poppins",children:"1"})}),(0,zm.jsx)("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1 font-poppins",children:"Choose Type"}),(0,zm.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 font-poppins",children:"Select whether you're listing a product or service"})]}),(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-[#6C4DFF] rounded-full flex items-center justify-center mx-auto mb-2 sm:mb-3",children:(0,zm.jsx)("span",{className:"text-white font-bold text-base sm:text-lg font-poppins",children:"2"})}),(0,zm.jsx)("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1 font-poppins",children:"Upload Details"}),(0,zm.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 font-poppins",children:"Add video, images, and information about your listing"})]}),(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-[#6C4DFF] rounded-full flex items-center justify-center mx-auto mb-2 sm:mb-3",children:(0,zm.jsx)("span",{className:"text-white font-bold text-base sm:text-lg font-poppins",children:"3"})}),(0,zm.jsx)("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1 font-poppins",children:"Go Live"}),(0,zm.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 font-poppins",children:"Your listing will be visible to thousands of users"})]})]})]})]})]})},Bh=Zm("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Vh=Zm("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),Hh=Zm("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Wh=Zm("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),qh=Zm("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Gh=Zm("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Kh=Zm("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),$h=()=>{const e=te(),{isAuthenticated:t}=Vm(),[s]=Re(),[r,n]=(0,a.useState)(null),[i,o]=(0,a.useState)(null),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)([]),[p,m]=(0,a.useState)(!0),[h,x]=(0,a.useState)(!1),[f,g]=(0,a.useState)(null),[b,y]=(0,a.useState)(""),[v,j]=(0,a.useState)(""),[w,N]=(0,a.useState)(null),[_,k]=(0,a.useState)(null),[S,C]=(0,a.useState)(null),[E,P]=(0,a.useState)(null),[A,T]=(0,a.useState)(!1),[I,L]=(0,a.useState)(!1),[F,R]=(0,a.useState)(!1),[D,O]=(0,a.useState)(null),[M,U]=(0,a.useState)({videoUrl:null,thumbnailUrl:null}),[z,B]=(0,a.useState)([{type:"PRODUCT",product_name:"",price:"",description:"",link:"",category_id:"",thumbnail:"",thumbnailPreview:null,thumbnailUploadToken:null,uploadingThumbnail:!1,coupons:[],couponCodeInput:"",couponDescriptionInput:""}]),[V,H]=(0,a.useState)({}),W=(0,a.useRef)(null),q=(0,a.useRef)(null);(0,a.useEffect)(()=>{t?G():m(!1)},[t]);const G=async()=>{try{m(!0);const[t,s]=await Promise.all([ra(),Ln()]);n(t),u(s.categories||[]);try{const e=await Un();e&&e.provider?(o(e.provider),c(!0)):c(!1)}catch(xf){var e;401===(null===(e=xf.response)||void 0===e?void 0:e.status)||console.error("Error checking provider:",xf),c(!1)}}catch(xf){console.error("Error loading data:",xf),It.error("Failed to load data")}finally{m(!1)}},K=async function(){let e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||b,s=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||v;if(!t||!s){const e="Both video and thumbnail URLs are required";throw O(e),It.error(e),new Error(e)}if(!S||!E){const e="Please wait for uploads to complete";throw O(e),It.error(e),new Error(e)}const r=M.videoUrl!==t||M.thumbnailUrl!==s;if(f&&!e&&!r)return console.log("Video already created with same URLs, skipping..."),f;if(f&&(e||r)){console.log("Video/thumbnail changed - deleting old video entry:",f);try{await Gn(f),console.log("Old video entry deleted successfully"),g(null)}catch(i){console.error("Error deleting old video entry (non-critical):",i),g(null)}}console.log("Creating video entry...",{finalVideoUrl:t,finalThumbnailUrl:s}),R(!0),O(null);try{const e=await Wn({video_url:t,thumbnail_url:s,video_category:"USER_CONTENT"});if(console.log("Video creation response:",e),e.ok&&e.video_id)return g(e.video_id),U({videoUrl:t,thumbnailUrl:s}),O(null),console.log("Video ID set:",e.video_id),It.success("Video entry created! Now add products.",{duration:2e3}),e.video_id;{const t=e.error||e.message||"Failed to create video entry";throw console.error("Video creation failed:",t),O(t),new Error(t)}}catch(xf){var n,a;console.error("Error creating video entry:",xf);const t=(null===(n=xf.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||xf.message||"Failed to create video entry";throw O(t),It.error(t),xf}finally{R(!1)}},$=async()=>{try{await K(null,null,!0)}catch(xf){console.error("Manual video entry creation failed:",xf)}},Y=(e,t,s)=>{const r=[...z];r[e]=Be(Be({},r[e]),{},{[t]:s}),B(r);const n="product_".concat(e,"_").concat(t);V[n]&&H(e=>Be(Be({},e),{},{[n]:null}))},J=(e,t,s)=>{B(r=>{const n=[...r],a=Be({},n[e]);return"code"===t?a.couponCodeInput=s:a.couponDescriptionInput=s,n[e]=a,n})},Q=()=>!!(b&&S&&v&&E)&&z.some(e=>{var t,s;return(null===(t=e.product_name)||void 0===t?void 0:t.trim())&&e.price&&parseFloat(e.price)>0&&(null===(s=e.description)||void 0===s?void 0:s.trim())});return p?(0,zm.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,zm.jsx)(ph,{className:"w-8 h-8 animate-spin text-[#6C4DFF]"})}):l?(0,zm.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,zm.jsx)("header",{className:"w-full bg-white border-b border-gray-200 sticky top-0 z-50",children:(0,zm.jsxs)("div",{className:"px-4 sm:px-5 py-3.5 sm:py-4 flex items-center justify-between",children:[(0,zm.jsx)("div",{className:"flex items-center",children:(0,zm.jsxs)("span",{className:"text-2xl sm:text-[24px] font-poppins font-bold",children:[(0,zm.jsx)("span",{className:"text-black",children:"Get"}),(0,zm.jsx)("span",{className:"text-[#6C4DFF]",children:"nayi"})]})}),(0,zm.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,zm.jsx)("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,zm.jsx)(Oh,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),(0,zm.jsx)("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,zm.jsx)(Mh,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]})}),(0,zm.jsxs)("div",{className:"px-4 sm:px-5 py-6 sm:py-8 pb-32 sm:pb-12 max-w-2xl mx-auto",children:[r&&!r.is_subscribed&&(0,zm.jsx)("div",{className:"mb-6 p-4 bg-purple-50 border border-purple-200 rounded-xl",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-sm font-medium text-purple-900 font-poppins",children:"Free Plan"}),(0,zm.jsxs)("p",{className:"text-xs text-purple-700 font-poppins mt-1",children:["Uploads remaining: ",r.uploads_remaining,"/5"]})]}),(0,zm.jsx)("button",{onClick:()=>e("/subscription/upgrade",{state:{from:"upload-listing"}}),className:"text-xs font-medium text-[#6C4DFF] hover:text-[#5a3ddb] font-poppins underline",children:"Upgrade"})]})}),(0,zm.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!b||!S)return It.error("Please upload video first"),void H(e=>Be(Be({},e),{},{video:"Video is required"}));if(!v||!E)return It.error("Please upload thumbnail first"),void H(e=>Be(Be({},e),{},{thumbnail:"Thumbnail is required"}));let s=f;if(!s){console.log("Creating video entry on form submit...");try{if(s=await K(),!s)return void It.error("Failed to create video entry. Please try again or contact support.")}catch(xf){return console.error("Error creating video entry on submit:",xf),void It.error("Failed to create video entry. Please try creating it manually first.")}}if((()=>{const e={};return z.forEach((t,s)=>{var r,n;null!==(r=t.product_name)&&void 0!==r&&r.trim()||(e["product_".concat(s,"_name")]="Product/Service name is required"),(!t.price||parseFloat(t.price)<=0)&&(e["product_".concat(s,"_price")]="Valid price is required"),null!==(n=t.description)&&void 0!==n&&n.trim()||(e["product_".concat(s,"_description")]="Description is required")}),H(t=>Be(Be({},t),e)),0===Object.keys(e).length})()){if(!i)return It.error("Please create a provider profile first"),void e("/provider/register");if(0===r.uploads_remaining&&!r.is_subscribed)return It.error("Upload limit reached. Please subscribe!"),void e("/subscription/upgrade",{state:{from:"upload-listing"}});x(!0);try{const t=s||f;if(!t)return It.error("Video ID is missing. Please try uploading video again."),void x(!1);const r=await Kn({video_id:t,products:z.map(e=>({type:e.type,product_name:e.product_name.trim(),price:parseFloat(e.price),description:e.description.trim(),link:(e.link||"").trim()||null,category_id:e.category_id||null,thumbnail:e.thumbnail||null,coupons:(e.coupons||[]).map(e=>({code:e.code,description:e.description||null}))}))});r.ok&&r.message?(It.success("Listing request submitted successfully! ".concat(r.product_count," product(s) linked to your video.")),g(null),y(""),j(""),N(null),k(null),C(null),P(null),B([{type:"PRODUCT",product_name:"",price:"",description:"",link:"",category_id:"",thumbnail:"",thumbnailPreview:null,thumbnailUploadToken:null,uploadingThumbnail:!1,coupons:[],couponCodeInput:"",couponDescriptionInput:""}]),H({}),setTimeout(()=>{e("/listing/my")},2e3)):It.error(r.error||"Failed to submit listing request")}catch(xf){var n,a;console.error("Error creating listing:",xf),It.error((null===(n=xf.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Failed to create listing request")}finally{x(!1)}}else It.error("Please fill in all required product fields")},className:"space-y-6",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2 font-poppins",children:["Video ",(0,zm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,zm.jsxs)("label",{className:"block cursor-pointer",children:[(0,zm.jsx)("div",{className:"relative w-full h-48 bg-gradient-to-br from-[#E8D5FF] to-[#F3E8FF] rounded-2xl border-2 border-dashed border-[#6C4DFF] flex items-center justify-center transition-all hover:border-[#5a3ddb] hover:bg-[#F0E5FF]",children:I?(0,zm.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,zm.jsx)(ph,{className:"w-8 h-8 animate-spin text-[#6C4DFF]"}),(0,zm.jsx)("p",{className:"text-[#6C4DFF] font-medium text-sm font-poppins",children:"Uploading video..."})]}):w?(0,zm.jsxs)("div",{className:"relative w-full h-full p-4",children:[(0,zm.jsx)("video",{src:w,controls:!0,className:"w-full h-full object-contain rounded-lg"}),(0,zm.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),(async()=>{if(f)try{console.log("Deleting video entry:",f),await Gn(f),console.log("Video entry deleted successfully")}catch(xf){console.error("Error deleting video entry (non-critical):",xf)}g(null),y(""),N(null),C(null),O(null),U({videoUrl:null,thumbnailUrl:null}),w&&URL.revokeObjectURL(w),W.current&&(W.current.value="")})()},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors",children:(0,zm.jsx)(uh,{className:"w-4 h-4"})}),S&&(0,zm.jsxs)("div",{className:"absolute bottom-2 left-2 bg-green-500 text-white px-3 py-1 rounded-full flex items-center gap-1 text-xs font-medium",children:[(0,zm.jsx)(Bh,{className:"w-3 h-3"}),"Uploaded"]})]}):(0,zm.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,zm.jsx)("div",{className:"w-16 h-16 bg-[#6C4DFF] rounded-full flex items-center justify-center",children:(0,zm.jsx)(Vh,{className:"w-8 h-8 text-white"})}),(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("p",{className:"text-[#6C4DFF] font-semibold text-base font-poppins",children:"+ Add your Video"}),(0,zm.jsx)("p",{className:"text-gray-500 text-xs mt-1 font-poppins",children:"MP4, MOV, AVI, WEBM, MKV up to 25MB and 30s max"})]})]})}),(0,zm.jsx)("input",{ref:W,type:"file",accept:"video/*",onChange:async e=>{var t;const s=e.target.files[0];if(!s)return;if(s.size>26214400)return void It.error("Video file too large. Maximum size is ".concat(25,"MB"));const r=["mp4","mov","avi","webm","mkv"],n=null===(t=s.name.split(".").pop())||void 0===t?void 0:t.toLowerCase();if(!r.includes(n)&&!["video/mp4","video/mov","video/avi","video/webm","video/mkv"].includes(s.type))return void It.error("Invalid file type. Allowed formats: ".concat(r.join(", ")));const a=URL.createObjectURL(s),i=document.createElement("video"),o=new Promise((e,t)=>{i.preload="metadata",i.onloadedmetadata=()=>{const s=i.duration||0;URL.revokeObjectURL(a),isNaN(s)?e():s>30?t(new Error("Video is longer than 30 seconds")):e()},i.onerror=()=>{URL.revokeObjectURL(a),e()},i.src=a});try{await o}catch(d){return void It.error("Maximum duration is 30 seconds")}L(!0),H(e=>Be(Be({},e),{},{video:null})),O(null);try{const e=await Vn(s);if(!e.ok||!e.url)throw new Error(e.message||"Upload failed");{const t=e.url;if(f&&(console.log("Video changed - resetting video entry to create new one"),g(null),U({videoUrl:null,thumbnailUrl:null})),y(t),N(URL.createObjectURL(s)),C(e.success_token||null),v&&E)try{await K(t,v)}catch(u){console.error("Video entry creation failed after video upload:",u),O("Video entry creation failed. Please try creating it manually.")}It.success("Video uploaded successfully!",{duration:3e3})}}catch(xf){var l,c;console.error("Video upload error:",xf),It.error((null===(l=xf.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||xf.message||"Failed to upload video"),e.target.value="",y(""),N(null),C(null)}finally{L(!1)}},className:"hidden",disabled:I})]}),V.video&&(0,zm.jsxs)("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1 font-poppins",children:[(0,zm.jsx)(Hh,{className:"w-3 h-3"}),V.video]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2 font-poppins",children:["Thumbnail Image ",(0,zm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,zm.jsxs)("label",{className:"block cursor-pointer",children:[(0,zm.jsx)("div",{className:"relative w-full h-48 bg-gradient-to-br from-[#E8D5FF] to-[#F3E8FF] rounded-2xl border-2 border-dashed border-[#6C4DFF] flex items-center justify-center transition-all hover:border-[#5a3ddb] hover:bg-[#F0E5FF]",children:A?(0,zm.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,zm.jsx)(ph,{className:"w-8 h-8 animate-spin text-[#6C4DFF]"}),(0,zm.jsx)("p",{className:"text-[#6C4DFF] font-medium text-sm font-poppins",children:"Uploading thumbnail..."})]}):_?(0,zm.jsxs)("div",{className:"relative w-full h-full p-4",children:[(0,zm.jsx)("img",{src:_,alt:"Thumbnail",className:"w-full h-full object-cover rounded-lg"}),(0,zm.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),f&&(console.log("Thumbnail removed - resetting video entry"),g(null),U({videoUrl:null,thumbnailUrl:null})),j(""),k(null),P(null),O(null),_&&URL.revokeObjectURL(_),q.current&&(q.current.value="")},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors",children:(0,zm.jsx)(uh,{className:"w-4 h-4"})}),E&&(0,zm.jsxs)("div",{className:"absolute bottom-2 left-2 bg-green-500 text-white px-3 py-1 rounded-full flex items-center gap-1 text-xs font-medium",children:[(0,zm.jsx)(Bh,{className:"w-3 h-3"}),"Uploaded"]})]}):(0,zm.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,zm.jsx)("div",{className:"w-16 h-16 bg-[#6C4DFF] rounded-full flex items-center justify-center",children:(0,zm.jsx)(Wh,{className:"w-8 h-8 text-white"})}),(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("p",{className:"text-[#6C4DFF] font-semibold text-base font-poppins",children:"+ Add your Image"}),(0,zm.jsx)("p",{className:"text-gray-500 text-xs mt-1 font-poppins",children:"JPG, PNG, GIF, WEBP up to 20MB"})]})]})}),(0,zm.jsx)("input",{ref:q,type:"file",accept:"image/*",onChange:async e=>{var t;const s=e.target.files[0];if(!s)return;if(s.size>20971520)return void It.error("Image file too large. Maximum size is ".concat(20,"MB"));const r=["jpg","jpeg","png","gif","webp"],n=null===(t=s.name.split(".").pop())||void 0===t?void 0:t.toLowerCase();if(r.includes(n)||["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(s.type)){T(!0),H(e=>Be(Be({},e),{},{thumbnail:null})),O(null);try{const e=await Hn(s);if(!e.ok||!e.url)throw new Error(e.message||"Upload failed");{const t=e.url;if(j(t),k(URL.createObjectURL(s)),P(e.success_token||null),f&&b&&S)if(M.thumbnailUrl!==t)console.log("Thumbnail changed - will recreate video entry with new thumbnail"),g(null),U({videoUrl:null,thumbnailUrl:null});else try{console.log("Updating existing video entry with same thumbnail...");const e=await qn(f,{thumbnail_url:t});if(e.ok)return U(e=>Be(Be({},e),{},{thumbnailUrl:t})),void It.success("Thumbnail updated successfully!",{duration:3e3});throw new Error(e.error||"Update failed")}catch(o){console.error("Video entry update failed:",o),It.error("Failed to update video entry. Creating new one..."),g(null),U({videoUrl:null,thumbnailUrl:null})}if(b&&S&&!f)try{await K(b,t)}catch(l){console.error("Video entry creation failed after thumbnail upload:",l),O("Video entry creation failed. Please try creating it manually.")}f||It.success("Thumbnail uploaded successfully!",{duration:3e3})}}catch(xf){var a,i;console.error("Thumbnail upload error:",xf),It.error((null===(a=xf.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message)||xf.message||"Failed to upload thumbnail"),e.target.value="",j(""),k(null),P(null)}finally{T(!1)}}else It.error("Invalid file type. Allowed formats: ".concat(r.join(", ")))},className:"hidden",disabled:A||h})]}),V.thumbnail&&(0,zm.jsxs)("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1 font-poppins",children:[(0,zm.jsx)(Hh,{className:"w-3 h-3"}),V.thumbnail]})]}),f&&(0,zm.jsx)("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl",children:(0,zm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zm.jsx)(Bh,{className:"w-5 h-5 text-green-600"}),(0,zm.jsx)("p",{className:"text-sm font-medium text-green-900 font-poppins",children:"Video entry created successfully! Now add products below."})]})}),b&&S&&v&&E&&(0,zm.jsx)("div",{className:"mb-6 space-y-3",children:F?(0,zm.jsx)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-xl",children:(0,zm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zm.jsx)(ph,{className:"w-5 h-5 animate-spin text-blue-600"}),(0,zm.jsx)("p",{className:"text-sm font-medium text-blue-900 font-poppins",children:"Creating video entry..."})]})}):D?(0,zm.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl",children:(0,zm.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zm.jsx)(Hh,{className:"w-5 h-5 text-red-600"}),(0,zm.jsx)("p",{className:"text-sm font-medium text-red-900 font-poppins",children:D})]}),(0,zm.jsx)("button",{type:"button",onClick:$,disabled:F,className:"self-start px-4 py-2 bg-[#6C4DFF] hover:bg-[#5a3ddb] text-white rounded-lg font-medium text-sm font-poppins transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:F?"Creating...":"Create Video Entry"})]})}):f&&M.videoUrl===b&&M.thumbnailUrl===v?null:(0,zm.jsx)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-xl",children:(0,zm.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zm.jsx)(Hh,{className:"w-5 h-5 text-yellow-600"}),(0,zm.jsx)("p",{className:"text-sm font-medium text-yellow-900 font-poppins",children:f?"Video or thumbnail changed. Create new video entry to use latest files.":"Video and thumbnail uploaded. Create video entry to continue."})]}),(0,zm.jsx)("button",{type:"button",onClick:$,disabled:F,className:"self-start px-4 py-2 bg-[#6C4DFF] hover:bg-[#5a3ddb] text-white rounded-lg font-medium text-sm font-poppins transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:F?"Creating...":"Create Video Entry"})]})})}),(0,zm.jsxs)("div",{className:"space-y-6",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 font-poppins",children:["Products (",z.length,")"]}),(0,zm.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,zm.jsxs)("button",{type:"button",onClick:()=>{B([...z,{type:"PRODUCT",product_name:"",price:"",description:"",link:"",category_id:"",thumbnail:"",thumbnailPreview:null,thumbnailUploadToken:null,uploadingThumbnail:!1,coupons:[],couponCodeInput:"",couponDescriptionInput:""}])},disabled:!f||h||F,className:"flex items-center gap-2 px-4 py-2 bg-[#6C4DFF] text-white rounded-lg font-medium text-sm font-poppins hover:bg-[#5a3ddb] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:f?"":"Please upload video and thumbnail first",children:[(0,zm.jsx)(qh,{className:"w-4 h-4"}),"Add Product"]}),!f&&(b||v)&&(0,zm.jsx)("p",{className:"text-xs text-gray-500 font-poppins text-right",children:b&&v?S&&E?"Create video entry to add products":"Waiting for uploads to complete...":"Upload both video and thumbnail"})]})]}),z.map((e,t)=>{var s,r,n,a;return(0,zm.jsxs)("div",{className:"p-5 border border-gray-200 rounded-xl space-y-4 bg-gray-50",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,zm.jsxs)("h4",{className:"text-base font-semibold text-gray-900 font-poppins",children:["Product ",t+1]}),z.length>1&&(0,zm.jsx)("button",{type:"button",onClick:()=>(e=>{if(z.length>1){z[e].thumbnailPreview&&URL.revokeObjectURL(z[e].thumbnailPreview);const t=z.filter((t,s)=>s!==e);B(t);const s=Be({},V);Object.keys(s).forEach(t=>{t.startsWith("product_".concat(e,"_"))&&delete s[t]}),H(s)}})(t),className:"text-red-500 hover:text-red-700 transition-colors p-1",children:(0,zm.jsx)(Gh,{className:"w-4 h-4"})})]}),(0,zm.jsxs)("div",{className:"space-y-4",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2 font-poppins",children:["Product Name ",(0,zm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,zm.jsx)("input",{type:"text",value:e.product_name,onChange:e=>Y(t,"product_name",e.target.value),className:"w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-[#6C4DFF] transition-all font-poppins text-gray-900 placeholder-gray-400 ".concat(V["product_".concat(t,"_name")]?"border-red-500":"border-gray-300"),placeholder:"Enter product name",disabled:!f||h}),V["product_".concat(t,"_name")]&&(0,zm.jsxs)("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1 font-poppins",children:[(0,zm.jsx)(Hh,{className:"w-3 h-3"}),V["product_".concat(t,"_name")]]})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2 font-poppins",children:["Price (\u20b9) ",(0,zm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,zm.jsx)("input",{type:"number",min:"0",step:"0.01",value:e.price,onChange:e=>Y(t,"price",e.target.value),className:"w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-[#6C4DFF] transition-all font-poppins text-gray-900 placeholder-gray-400 ".concat(V["product_".concat(t,"_price")]?"border-red-500":"border-gray-300"),placeholder:"0.00",disabled:!f||h}),V["product_".concat(t,"_price")]&&(0,zm.jsxs)("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1 font-poppins",children:[(0,zm.jsx)(Hh,{className:"w-3 h-3"}),V["product_".concat(t,"_price")]]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2 font-poppins",children:"Category"}),(0,zm.jsxs)("select",{value:e.category_id||"",onChange:e=>Y(t,"category_id",e.target.value),className:"w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-[#6C4DFF] transition-all font-poppins text-gray-900 bg-white ".concat(V["product_".concat(t,"_category")]?"border-red-500":"border-gray-300"),disabled:!f||h,children:[(0,zm.jsx)("option",{value:"",children:"Select category (optional)"}),d.map(e=>(0,zm.jsx)("option",{value:e.category_id,children:e.category_name},e.category_id))]})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2 font-poppins",children:["Description ",(0,zm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,zm.jsx)("textarea",{rows:3,value:e.description,onChange:e=>Y(t,"description",e.target.value),className:"w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-[#6C4DFF] transition-all font-poppins text-gray-900 placeholder-gray-400 resize-none ".concat(V["product_".concat(t,"_description")]?"border-red-500":"border-gray-300"),placeholder:"Describe your product",disabled:!f||h}),V["product_".concat(t,"_description")]&&(0,zm.jsxs)("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1 font-poppins",children:[(0,zm.jsx)(Hh,{className:"w-3 h-3"}),V["product_".concat(t,"_description")]]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2 font-poppins",children:"Link (Website/Store)"}),(0,zm.jsx)("input",{type:"url",value:e.link||"",onChange:e=>Y(t,"link",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#6C4DFF] transition-all font-poppins text-gray-900 placeholder-gray-400",placeholder:"https://your-website.com (optional)",disabled:!f||h})]}),(0,zm.jsxs)("div",{className:"border border-dashed border-[#6C4DFF]/50 rounded-xl p-4 bg-white shadow-sm shadow-[#6C4DFF]/5",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zm.jsx)(Kh,{className:"w-5 h-5 text-[#6C4DFF]"}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-sm font-semibold text-gray-900 font-poppins",children:"Coupons"}),(0,zm.jsxs)("p",{className:"text-xs text-gray-500 font-poppins",children:["Add up to ",5," coupon codes for this product"]})]})]}),(0,zm.jsxs)("span",{className:"text-xs font-semibold text-gray-500 font-poppins",children:[(null===(s=e.coupons)||void 0===s?void 0:s.length)||0,"/",5]})]}),((null===(r=e.coupons)||void 0===r?void 0:r.length)||0)>0&&(0,zm.jsx)("div",{className:"mt-4 space-y-2",children:e.coupons.map((e,s)=>(0,zm.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 px-3 py-2",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-sm font-semibold text-gray-900 font-mono tracking-wide",children:e.code}),e.description&&(0,zm.jsx)("p",{className:"text-xs text-gray-600 mt-0.5",children:e.description})]}),(0,zm.jsx)("button",{type:"button",onClick:()=>((e,t)=>{B(s=>{const r=[...s],n=Be({},r[e]);return n.coupons=(n.coupons||[]).filter((e,s)=>s!==t),r[e]=n,r})})(t,s),className:"text-gray-400 hover:text-red-500 transition-colors",title:"Remove coupon",disabled:h,children:(0,zm.jsx)(Gh,{className:"w-4 h-4"})})]},"".concat(e.code,"-").concat(s)))}),(0,zm.jsxs)("div",{className:"mt-4 grid md:grid-cols-[1fr_1.5fr_auto] gap-3",children:[(0,zm.jsx)("input",{type:"text",value:e.couponCodeInput||"",onChange:e=>J(t,"code",e.target.value.toUpperCase()),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#6C4DFF] transition-all font-poppins text-gray-900 placeholder-gray-400",placeholder:"Coupon code (e.g. SAVE20)",disabled:!f||h}),(0,zm.jsx)("input",{type:"text",value:e.couponDescriptionInput||"",onChange:e=>J(t,"description",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#6C4DFF] transition-all font-poppins text-gray-900 placeholder-gray-400",placeholder:"Short description (optional)",disabled:!f||h}),(0,zm.jsx)("button",{type:"button",onClick:()=>(e=>{const t=z[e];if(!t)return;const s=(t.couponCodeInput||"").trim().toUpperCase(),r=(t.couponDescriptionInput||"").trim();if(!s)return void It.error("Enter a coupon code before adding");if((t.coupons||[]).length>=5)return void It.error("You can add up to ".concat(5," coupons per product"));if((t.coupons||[]).some(e=>e.code===s))return void It.error("Coupon already added");const n={code:s,description:r||null};B(t=>{const s=[...t],r=Be({},s[e]);return r.coupons=[...r.coupons||[],n],r.couponCodeInput="",r.couponDescriptionInput="",s[e]=r,s}),It.success("Coupon added")})(t),disabled:h||!f||((null===(n=e.coupons)||void 0===n?void 0:n.length)||0)>=5,className:"px-4 py-3 bg-[#6C4DFF] text-white rounded-xl font-semibold text-sm font-poppins hover:bg-[#5a3ddb] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:((null===(a=e.coupons)||void 0===a?void 0:a.length)||0)>=5?"You can only add ".concat(5," coupons"):"",children:"Add coupon"})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2 font-poppins",children:"Product Thumbnail"}),(0,zm.jsxs)("label",{className:"block cursor-pointer",children:[(0,zm.jsx)("div",{className:"relative w-full h-32 bg-gradient-to-br from-[#E8D5FF] to-[#F3E8FF] rounded-xl border-2 border-dashed border-[#6C4DFF] flex items-center justify-center transition-all hover:border-[#5a3ddb] hover:bg-[#F0E5FF]",children:e.uploadingThumbnail?(0,zm.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,zm.jsx)(ph,{className:"w-5 h-5 animate-spin text-[#6C4DFF]"}),(0,zm.jsx)("p",{className:"text-[#6C4DFF] font-medium text-xs font-poppins",children:"Uploading..."})]}):e.thumbnailPreview?(0,zm.jsxs)("div",{className:"relative w-full h-full p-2",children:[(0,zm.jsx)("img",{src:e.thumbnailPreview,alt:"Product thumbnail",className:"w-full h-full object-cover rounded-lg"}),(0,zm.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),(e=>{const t=[...z];t[e].thumbnailPreview&&URL.revokeObjectURL(t[e].thumbnailPreview),t[e].thumbnail="",t[e].thumbnailPreview=null,t[e].thumbnailUploadToken=null,B(t)})(t)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1.5 hover:bg-red-600 transition-colors",children:(0,zm.jsx)(uh,{className:"w-3 h-3"})}),e.thumbnailUploadToken&&(0,zm.jsxs)("div",{className:"absolute bottom-1 left-1 bg-green-500 text-white px-2 py-0.5 rounded-full flex items-center gap-1 text-xs font-medium",children:[(0,zm.jsx)(Bh,{className:"w-2.5 h-2.5"}),"Uploaded"]})]}):(0,zm.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,zm.jsx)("div",{className:"w-10 h-10 bg-[#6C4DFF] rounded-full flex items-center justify-center",children:(0,zm.jsx)(Wh,{className:"w-5 h-5 text-white"})}),(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("p",{className:"text-[#6C4DFF] font-semibold text-sm font-poppins",children:"+ Add Thumbnail"}),(0,zm.jsx)("p",{className:"text-gray-500 text-xs mt-0.5 font-poppins",children:"Optional"})]})]})}),(0,zm.jsx)("input",{type:"file",accept:"image/*",onChange:e=>(async(e,t)=>{var s;const r=e.target.files[0];if(!r)return;if(r.size>20971520)return void It.error("Image file too large. Maximum size is ".concat(20,"MB"));const n=["jpg","jpeg","png","gif","webp"],a=null===(s=r.name.split(".").pop())||void 0===s?void 0:s.toLowerCase();if(n.includes(a)||["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(r.type)){B(e=>{const s=[...e];return s[t]=Be(Be({},s[t]),{},{uploadingThumbnail:!0}),s});try{const e=await Hn(r);if(!e.ok||!e.url)throw new Error(e.message||"Upload failed");B(s=>{const n=[...s];return n[t]=Be(Be({},n[t]),{},{thumbnail:e.url,thumbnailPreview:URL.createObjectURL(r),thumbnailUploadToken:e.success_token||null,uploadingThumbnail:!1}),n}),It.success("Product ".concat(t+1," thumbnail uploaded successfully!"),{duration:2e3})}catch(xf){var i,o;console.error("Product thumbnail upload error:",xf),It.error((null===(i=xf.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.message)||xf.message||"Failed to upload product ".concat(t+1," thumbnail")),e.target.value="",B(e=>{const s=[...e];return s[t]=Be(Be({},s[t]),{},{uploadingThumbnail:!1}),s})}}else It.error("Invalid file type. Allowed formats: ".concat(n.join(", ")))})(e,t),className:"hidden",disabled:e.uploadingThumbnail||h||!f||null!==e.thumbnailUploadToken})]})]})]})]},t)})]}),(0,zm.jsxs)("div",{className:"pt-4",children:[(0,zm.jsx)("button",{type:"submit",disabled:h||F||!Q(),className:"w-full bg-[#6C4DFF] text-white py-4 rounded-xl font-semibold text-base font-poppins shadow-lg hover:shadow-xl active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100",children:h||F?(0,zm.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,zm.jsx)(ph,{className:"w-5 h-5 animate-spin"}),F?"Creating Video...":"Submitting ".concat(z.length," Product(s)...")]}):"Submit ".concat(z.length," Product").concat(z.length>1?"s":"")}),!Q()&&(0,zm.jsx)("p",{className:"text-xs text-gray-500 text-center mt-2 font-poppins",children:f?"Please fill in all required product fields to submit":"Please upload video and thumbnail first"})]})]})]})]}):(0,zm.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,zm.jsx)("header",{className:"w-full bg-white border-b border-gray-200 sticky top-0 z-50",children:(0,zm.jsxs)("div",{className:"px-4 sm:px-5 py-3.5 sm:py-4 flex items-center justify-between",children:[(0,zm.jsx)("div",{className:"flex items-center",children:(0,zm.jsxs)("span",{className:"text-2xl sm:text-[24px] font-poppins font-bold",children:[(0,zm.jsx)("span",{className:"text-black",children:"Get"}),(0,zm.jsx)("span",{className:"text-[#6C4DFF]",children:"nayi"})]})}),(0,zm.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,zm.jsx)("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,zm.jsx)(Oh,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),(0,zm.jsx)("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,zm.jsx)(Mh,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]})}),(0,zm.jsx)("div",{className:"px-4 sm:px-5 py-12 flex items-center justify-center min-h-screen",children:(0,zm.jsxs)("div",{className:"text-center max-w-md",children:[(0,zm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4 font-poppins",children:"Provider Profile Required"}),(0,zm.jsx)("p",{className:"text-gray-600 mb-6 font-poppins",children:"You need to register as a provider before creating listings."}),(0,zm.jsx)("button",{onClick:()=>e("/provider/register"),className:"bg-[#6C4DFF] hover:bg-[#5a3ddb] text-white px-6 py-3 rounded-full transition-colors font-medium font-poppins shadow-md hover:shadow-lg active:scale-[0.96]",children:"Register as Provider"})]})})]})},Yh=Zm("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]),Jh=()=>{const e=te(),[t,s]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[i,o]=(0,a.useState)("ALL");(0,a.useEffect)(()=>{l()},[]);const l=async()=>{try{n(!0);const e=await Yn(),t=e.listings||[],r=e.pending_requests||[];s([...r,...t])}catch(xf){console.error("Error loading listings:",xf),It.error("Failed to load listings")}finally{n(!1)}},c=t.filter(e=>"ALL"===i||e.type===i),d={total:t.length,products:t.filter(e=>"PRODUCT"===e.type).length,services:t.filter(e=>"SERVICE"===e.type).length,totalViews:t.reduce((e,t)=>e+(t.view_count||0),0),totalLoves:t.reduce((e,t)=>e+(t.love_count||0),0)};return r?(0,zm.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,zm.jsx)(ph,{className:"w-8 h-8 animate-spin text-[#6C4DFF]"})}):(0,zm.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,zm.jsx)("header",{className:"w-full bg-white border-b border-gray-200 sticky top-0 z-50",children:(0,zm.jsxs)("div",{className:"px-4 sm:px-5 py-3.5 sm:py-4 flex items-center justify-between",children:[(0,zm.jsx)("div",{className:"flex items-center",children:(0,zm.jsxs)("span",{className:"text-2xl sm:text-[24px] font-poppins font-bold",children:[(0,zm.jsx)("span",{className:"text-black",children:"Get"}),(0,zm.jsx)("span",{className:"text-[#6C4DFF]",children:"nayi"})]})}),(0,zm.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,zm.jsx)("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,zm.jsx)(Oh,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),(0,zm.jsx)("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,zm.jsx)(Mh,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]})}),(0,zm.jsxs)("div",{className:"px-4 sm:px-5 py-6 sm:py-8 pb-32 sm:pb-12 max-w-7xl mx-auto",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 font-poppins",children:"My Listings"}),(0,zm.jsxs)("p",{className:"text-gray-600 text-xs sm:text-sm mt-1 font-poppins",children:[d.total," total listing",1!==d.total?"s":""]})]}),(0,zm.jsxs)("button",{onClick:()=>e("/listing"),className:"bg-[#6C4DFF] hover:bg-[#5a3ddb] text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full text-sm sm:text-base font-semibold transition-all flex items-center gap-2 shadow-md hover:shadow-lg active:scale-[0.96] font-poppins",children:[(0,zm.jsx)(qh,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,zm.jsx)("span",{className:"hidden sm:inline",children:"New Listing"}),(0,zm.jsx)("span",{className:"sm:hidden",children:"New"})]})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 mb-6",children:[(0,zm.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-3 sm:p-4 shadow-sm",children:[(0,zm.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-gray-900 font-poppins",children:d.total}),(0,zm.jsx)("div",{className:"text-xs sm:text-sm text-gray-600 font-poppins",children:"Total Listings"})]}),(0,zm.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-3 sm:p-4 shadow-sm",children:[(0,zm.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-[#6C4DFF] font-poppins",children:d.products}),(0,zm.jsx)("div",{className:"text-xs sm:text-sm text-gray-600 font-poppins",children:"Products"})]}),(0,zm.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-3 sm:p-4 shadow-sm",children:[(0,zm.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-gray-600 font-poppins",children:d.services}),(0,zm.jsx)("div",{className:"text-xs sm:text-sm text-gray-600 font-poppins",children:"Services"})]}),(0,zm.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-3 sm:p-4 shadow-sm",children:[(0,zm.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-[#6C4DFF] font-poppins",children:d.totalViews}),(0,zm.jsx)("div",{className:"text-xs sm:text-sm text-gray-600 font-poppins",children:"Total Views"})]})]}),(0,zm.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-xl shadow-sm p-2 mb-6 flex gap-2",children:["ALL","PRODUCT","SERVICE"].map(e=>(0,zm.jsx)("button",{onClick:()=>o(e),className:"flex-1 py-2 px-3 sm:px-4 rounded-lg text-sm sm:text-base font-medium transition-all font-poppins ".concat(i===e?"bg-[#6C4DFF] text-white shadow-sm":"text-gray-600 hover:bg-gray-100"),children:"ALL"===e?"All":"PRODUCT"===e?"Products":"Services"},e))}),0===c.length?(0,zm.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-sm p-8 sm:p-12 text-center",children:[(0,zm.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-[#6C4DFF] rounded-full flex items-center justify-center mx-auto mb-4",children:(0,zm.jsx)(xh,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"})}),(0,zm.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 font-poppins",children:"No listings yet"}),(0,zm.jsx)("p",{className:"text-sm sm:text-base text-gray-600 mb-6 font-poppins",children:"Start by creating your first listing"}),(0,zm.jsxs)("button",{onClick:()=>e("/listing"),className:"bg-[#6C4DFF] hover:bg-[#5a3ddb] text-white px-6 sm:px-8 py-2 sm:py-3 rounded-full text-sm sm:text-base font-semibold transition-all inline-flex items-center gap-2 shadow-md hover:shadow-lg active:scale-[0.96] font-poppins",children:[(0,zm.jsx)(qh,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Create Listing"]})]}):(0,zm.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(t=>(0,zm.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-sm hover:shadow-lg transition-all overflow-hidden group cursor-pointer active:scale-[0.98]",onClick:()=>!t.is_request&&t.listing_id&&e("/listing/".concat(t.listing_id)),children:[(0,zm.jsxs)("div",{className:"relative h-48 bg-gray-100",children:[t.thumbnail_url?(0,zm.jsx)("img",{src:t.thumbnail_url,alt:t.product_name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):(0,zm.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-[#E8D5FF]",children:"PRODUCT"===t.type?(0,zm.jsx)(xh,{className:"w-16 h-16 text-[#6C4DFF]"}):(0,zm.jsx)(ih,{className:"w-16 h-16 text-[#6C4DFF]"})}),(0,zm.jsxs)("div",{className:"absolute top-2 right-2 sm:top-3 sm:right-3 flex flex-col gap-1.5 sm:gap-2 items-end",children:[t.is_request&&"PENDING"===t.status&&(0,zm.jsx)("div",{className:"bg-yellow-500 text-white px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs font-medium font-poppins",children:"Pending Approval"}),(0,zm.jsx)("div",{className:"bg-white/90 backdrop-blur-sm px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs sm:text-sm font-medium font-poppins text-gray-900 border border-gray-200",children:"PRODUCT"===t.type?"\ud83d\udce6 Product":"\ud83d\udcbc Service"})]})]}),(0,zm.jsxs)("div",{className:"p-3 sm:p-4",children:[(0,zm.jsx)("h3",{className:"font-bold text-base sm:text-lg text-gray-900 mb-1 line-clamp-1 font-poppins",children:t.product_name}),(0,zm.jsxs)("p",{className:"text-[#6C4DFF] font-bold text-lg sm:text-xl mb-2 font-poppins",children:["\u20b9",Number(t.price).toLocaleString()]}),(0,zm.jsx)("p",{className:"text-gray-600 text-xs sm:text-sm line-clamp-2 mb-3 font-poppins",children:t.description}),!t.is_request&&(0,zm.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4 text-xs sm:text-sm text-gray-600 pt-3 border-t border-gray-100",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-1",children:[(0,zm.jsx)(lh,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,zm.jsx)("span",{className:"font-poppins",children:t.view_count||0})]}),(0,zm.jsxs)("div",{className:"flex items-center gap-1",children:[(0,zm.jsx)(ch,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,zm.jsx)("span",{className:"font-poppins",children:t.love_count||0})]}),(0,zm.jsxs)("div",{className:"flex items-center gap-1",children:[(0,zm.jsx)(Yh,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,zm.jsx)("span",{className:"font-poppins",children:t.click_count||0})]})]})]})]},t.listing_id||t.request_id))})]})]})},Qh=Zm("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),Xh=()=>{const e=te(),{isAuthenticated:t}=Vm(),[s,r]=(0,a.useState)(!1),[n,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)({name:"",phone:"",location:"",provider_type:"BRAND",business_name:"",gst:"",business_address:"",handle_address:""}),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(null);(0,a.useEffect)(()=>{t?m():i(!1)},[t]);const m=async()=>{try{const t=await Bn();if(t.ok){if(t.has_provider)return void e("/listing");if("PENDING"===t.request_status)return void e("/provider-request-waiting");"REJECTED"===t.request_status&&It.error("Your previous request was rejected. You can submit a new request.")}}catch(xf){console.error("Error checking request status:",xf)}finally{i(!1)}},h=e=>{const{name:t,value:s}=e.target;l(e=>Be(Be({},e),{},{[t]:s}))};return n?(0,zm.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,zm.jsx)(ph,{className:"w-8 h-8 animate-spin text-[#6C4DFF]"})}):(0,zm.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,zm.jsx)("header",{className:"w-full bg-white border-b border-gray-200 sticky top-0 z-50",children:(0,zm.jsxs)("div",{className:"px-4 sm:px-5 py-3.5 sm:py-4 flex items-center justify-between",children:[(0,zm.jsx)("div",{className:"flex items-center",children:(0,zm.jsxs)("span",{className:"text-2xl sm:text-[24px] font-poppins font-bold",children:[(0,zm.jsx)("span",{className:"text-black",children:"Get"}),(0,zm.jsx)("span",{className:"text-[#6C4DFF]",children:"nayi"})]})}),(0,zm.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,zm.jsx)("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,zm.jsx)(Oh,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),(0,zm.jsx)("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,zm.jsx)(Mh,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]})}),(0,zm.jsxs)("div",{className:"px-4 sm:px-5 py-6 sm:py-8 pb-32 sm:pb-12 max-w-2xl mx-auto",children:[(0,zm.jsx)("div",{className:"mb-6 sm:mb-8 relative",style:{marginTop:"20px"},children:(0,zm.jsxs)("label",{className:"block cursor-pointer",children:[(0,zm.jsxs)("div",{className:"relative w-full",style:{height:"150px",maxWidth:"95%",margin:"0 auto"},children:[(0,zm.jsx)("svg",{className:"absolute top-0 left-0 w-full h-6",viewBox:"0 0 400 30",preserveAspectRatio:"none",children:(0,zm.jsx)("path",{d:"M0,15 Q50,5 100,15 T200,15 T300,15 T400,15 L400,30 L0,30 Z",fill:"#E8D5FF",stroke:"none"})}),(0,zm.jsx)("div",{className:"absolute inset-0 bg-[#E8D5FF] rounded-b-2xl flex items-center justify-center transition-all hover:opacity-90 active:scale-[0.98]",style:{paddingTop:"24px"},children:u?(0,zm.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,zm.jsx)("img",{src:u,alt:"Profile preview",className:"max-w-full max-h-full object-contain rounded-lg"})}):(0,zm.jsx)("span",{className:"text-[#6C4DFF] font-medium text-[15px] sm:text-base",children:"+ Add your Images"})})]}),(0,zm.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&(d(t),p(URL.createObjectURL(t)))},className:"hidden"})]})}),(0,zm.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),r(!0);try{const t=await On(o);t.ok?(It.success("Provider request submitted successfully! Awaiting admin approval."),e("/provider-request-waiting")):It.error(t.error||"Failed to submit provider request")}catch(xf){var s,n,a,i;if(console.error("Error creating provider:",xf),"PENDING"===(null===(s=xf.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.request_status))e("/provider-request-waiting");else It.error((null===(a=xf.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.error)||"Failed to submit provider request")}finally{r(!1)}},className:"space-y-5 sm:space-y-6",children:[(0,zm.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,zm.jsxs)("button",{type:"button",onClick:()=>l(Be(Be({},o),{},{provider_type:"BRAND"})),className:"flex-1 py-3 px-4 rounded-lg border-2 transition-all ".concat("BRAND"===o.provider_type?"border-[#6C4DFF] bg-[#6C4DFF]/10":"border-gray-200 hover:border-gray-300"),children:[(0,zm.jsx)(Qh,{className:"w-5 h-5 mx-auto mb-2 ".concat("BRAND"===o.provider_type?"text-[#6C4DFF]":"text-gray-400")}),(0,zm.jsx)("p",{className:"text-sm font-medium ".concat("BRAND"===o.provider_type?"text-[#6C4DFF]":"text-gray-600"),children:"Brand"})]}),(0,zm.jsxs)("button",{type:"button",onClick:()=>l(Be(Be({},o),{},{provider_type:"INFLUENCER"})),className:"flex-1 py-3 px-4 rounded-lg border-2 transition-all ".concat("INFLUENCER"===o.provider_type?"border-[#6C4DFF] bg-[#6C4DFF]/10":"border-gray-200 hover:border-gray-300"),children:[(0,zm.jsx)(hh,{className:"w-5 h-5 mx-auto mb-2 ".concat("INFLUENCER"===o.provider_type?"text-[#6C4DFF]":"text-gray-400")}),(0,zm.jsx)("p",{className:"text-sm font-medium ".concat("INFLUENCER"===o.provider_type?"text-[#6C4DFF]":"text-gray-600"),children:"Influencer"})]})]}),(0,zm.jsxs)("div",{className:"space-y-5",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm text-[#6B7280] mb-1 font-poppins",children:"Enter your Stage Name"}),(0,zm.jsx)("input",{type:"text",name:"name",required:!0,value:o.name,onChange:h,className:"w-full bg-transparent border-0 border-b border-[#D1D5DB] pb-2 pt-1 px-0 focus:outline-none focus:border-[#6C4DFF] transition-colors font-poppins text-gray-900 placeholder-[#6B7280]",placeholder:"Enter your full name"})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm text-[#6B7280] mb-1 font-poppins",children:"Phone Number"}),(0,zm.jsx)("input",{type:"tel",name:"phone",required:!0,value:o.phone,onChange:h,className:"w-full bg-transparent border-0 border-b border-[#D1D5DB] pb-2 pt-1 px-0 focus:outline-none focus:border-[#6C4DFF] transition-colors font-poppins text-gray-900 placeholder-[#6B7280]",placeholder:"+91 9876543210"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm text-[#6B7280] mb-1 font-poppins",children:"Location"}),(0,zm.jsx)("input",{type:"text",name:"location",required:!0,value:o.location,onChange:h,className:"w-full bg-transparent border-0 border-b border-[#D1D5DB] pb-2 pt-1 px-0 focus:outline-none focus:border-[#6C4DFF] transition-colors font-poppins text-gray-900 placeholder-[#6B7280]",placeholder:"City, State"})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm text-[#6B7280] mb-1 font-poppins",children:"Business Name"}),(0,zm.jsx)("input",{type:"text",name:"business_name",value:o.business_name,onChange:h,className:"w-full bg-transparent border-0 border-b border-[#D1D5DB] pb-2 pt-1 px-0 focus:outline-none focus:border-[#6C4DFF] transition-colors font-poppins text-gray-900 placeholder-[#6B7280]",placeholder:"Your Business Name (Optional)"})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm text-[#6B7280] mb-1 font-poppins",children:"GST Number (Optional)"}),(0,zm.jsx)("input",{type:"text",name:"gst",value:o.gst,onChange:h,maxLength:15,className:"w-full bg-transparent border-0 border-b border-[#D1D5DB] pb-2 pt-1 px-0 focus:outline-none focus:border-[#6C4DFF] transition-colors font-poppins text-gray-900 placeholder-[#6B7280]",placeholder:"27ABCDE1234F1Z5"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm text-[#6B7280] mb-1 font-poppins",children:"Social Handle"}),(0,zm.jsx)("input",{type:"text",name:"handle_address",value:o.handle_address,onChange:h,className:"w-full bg-transparent border-0 border-b border-[#D1D5DB] pb-2 pt-1 px-0 focus:outline-none focus:border-[#6C4DFF] transition-colors font-poppins text-gray-900 placeholder-[#6B7280]",placeholder:"@yourbrand"})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm text-[#6B7280] mb-1 font-poppins",children:"Describe your Content and Audience"}),(0,zm.jsx)("textarea",{name:"business_address",value:o.business_address,onChange:h,rows:3,className:"w-full bg-transparent border-0 border-b border-[#D1D5DB] pb-2 pt-1 px-0 focus:outline-none focus:border-[#6C4DFF] transition-colors font-poppins text-gray-900 placeholder-[#6B7280] resize-none",placeholder:"Complete business address with pincode (Optional)"})]})]}),(0,zm.jsxs)("div",{className:"flex items-start gap-2 pt-2",children:[(0,zm.jsx)("input",{type:"checkbox",id:"terms",required:!0,className:"mt-1 w-4 h-4 border-gray-300 rounded text-[#6C4DFF] focus:ring-[#6C4DFF] cursor-pointer"}),(0,zm.jsxs)("label",{htmlFor:"terms",className:"text-xs sm:text-[13px] text-gray-600 font-poppins cursor-pointer",children:["You have read"," ",(0,zm.jsx)("a",{href:"/pages/terms",target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),className:"text-[#6C4DFF] underline hover:text-purple-700",children:"T&C"})," ","of our platform and agree"]})]}),(0,zm.jsx)("div",{className:"pt-4",children:(0,zm.jsx)("button",{type:"submit",disabled:s,className:"w-full bg-[#6C4DFF] text-white py-3.5 sm:py-4 rounded-full font-semibold text-base sm:text-[18px] font-poppins shadow-md hover:shadow-lg active:scale-[0.96] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100",style:{maxWidth:"85%",margin:"0 auto",display:"block"},children:s?(0,zm.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,zm.jsx)(ph,{className:"w-5 h-5 animate-spin"}),"Creating Profile..."]}):"Let's Go!"})})]})]})]})},Zh=Zm("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),ex=Zm("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),tx=Zm("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),sx={APPROVED:{heading:"You're all set to go live!",message:"Your provider profile is ready. Head over to Listings and start showcasing your products.",iconColor:"text-emerald-500",bgColor:"bg-emerald-50",borderColor:"border-emerald-200",textColor:"text-emerald-700"},REJECTED:{heading:"We need a quick follow-up",message:"Your submission needs a bit more info. Revisit your details or message our support team to continue.",iconColor:"text-red-500",bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-700"},PENDING:{heading:"We're reviewing your brand",message:"Thanks for submitting your provider request. Our team is carefully reviewing everything\u2014keep an eye out for updates.",iconColor:"text-[#6C4DFF]",bgColor:"bg-purple-50",borderColor:"border-purple-200",textColor:"text-[#6C4DFF]"}},rx=()=>{const e=te(),[t,s]=(0,a.useState)(null),[r,n]=(0,a.useState)(!0),[i,o]=(0,a.useState)(!0);(0,a.useEffect)(()=>{l();const e=setInterval(()=>{i&&l()},5e3);return()=>clearInterval(e)},[i]);const l=async()=>{try{const t=await Bn();if(t.ok){if(t.has_provider)return void e("/listing");s(t.request_status),"APPROVED"===t.request_status&&(o(!1),It.success("Your provider request has been approved!"),setTimeout(()=>e("/listing"),2e3))}}catch(xf){console.error("Error checking request status:",xf)}finally{n(!1)}},c=[{label:"Request submitted",state:"done"},{label:"Under review",state:"REJECTED"===t?"error":"APPROVED"===t?"done":"active"},{label:"REJECTED"===t?"Needs updates":"Ready to go",state:"APPROVED"===t?"done":"REJECTED"===t?"error":"pending"}];if(r)return(0,zm.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,zm.jsx)(ph,{className:"w-8 h-8 animate-spin text-[#6C4DFF]"})});const d=sx[t]||sx.PENDING;return(0,zm.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,zm.jsx)("header",{className:"w-full bg-white border-b border-gray-200 sticky top-0 z-50",children:(0,zm.jsxs)("div",{className:"px-4 sm:px-5 py-3.5 sm:py-4 flex items-center justify-between",children:[(0,zm.jsxs)("div",{className:"flex items-center",children:[(0,zm.jsx)("button",{onClick:()=>e("/"),className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors mr-4",children:(0,zm.jsx)(jh,{className:"w-5 h-5"})}),(0,zm.jsxs)("span",{className:"text-2xl sm:text-[24px] font-poppins font-bold",children:[(0,zm.jsx)("span",{className:"text-black",children:"Get"}),(0,zm.jsx)("span",{className:"text-[#6C4DFF]",children:"nayi"})]})]}),(0,zm.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,zm.jsx)("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,zm.jsx)(Oh,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),(0,zm.jsx)("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,zm.jsx)(Mh,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]})}),(0,zm.jsxs)("div",{className:"px-4 sm:px-5 py-6 sm:py-8 pb-32 sm:pb-12 max-w-4xl mx-auto",children:[(0,zm.jsx)("div",{className:"".concat(d.bgColor," border-2 ").concat(d.borderColor," rounded-2xl p-6 sm:p-8 mb-6"),children:(0,zm.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6",children:[(0,zm.jsxs)("div",{className:"flex-1",children:[(0,zm.jsx)("p",{className:"text-xs uppercase tracking-wider text-gray-500 mb-2 font-poppins",children:"Current Status"}),(0,zm.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3 font-poppins",children:d.heading}),(0,zm.jsx)("p",{className:"text-base text-gray-600 leading-relaxed font-poppins",children:d.message})]}),(0,zm.jsx)("div",{className:"w-20 h-20 sm:w-24 sm:h-24 ".concat(d.bgColor," border-2 ").concat(d.borderColor," rounded-2xl flex items-center justify-center flex-shrink-0"),children:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:64,s=arguments.length>1?arguments[1]:void 0;const r={width:e,height:e};switch(t){case"APPROVED":return(0,zm.jsx)(Zh,{className:s.iconColor,style:r});case"REJECTED":return(0,zm.jsx)(ex,{className:s.iconColor,style:r});default:return(0,zm.jsx)(Ph,{className:"".concat(s.iconColor," ").concat("PENDING"===t?"animate-pulse":""),style:r})}}(48,d)})]})}),(0,zm.jsxs)("div",{className:"mb-6",children:[(0,zm.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-4 font-poppins",children:"Request Progress"}),(0,zm.jsx)("div",{className:"grid gap-4 sm:grid-cols-3",children:c.map((e,t)=>{const s="active"===e.state,r="done"===e.state,n="error"===e.state;return(0,zm.jsxs)("div",{className:"rounded-xl border-2 px-4 py-4 transition-all duration-200 ".concat(r?"border-emerald-200 bg-emerald-50":n?"border-red-200 bg-red-50":s?"border-[#6C4DFF] bg-purple-50":"border-gray-200 bg-gray-50"," ").concat(s?"animate-pulse":""),children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,zm.jsxs)("span",{className:"text-xs font-semibold text-gray-500 font-poppins",children:["Step ",t+1]}),(0,zm.jsx)("div",{className:"w-2.5 h-2.5 rounded-full ".concat(r?"bg-emerald-500":n?"bg-red-500":s?"bg-[#6C4DFF]":"bg-gray-300")})]}),(0,zm.jsx)("p",{className:"text-sm font-semibold text-gray-900 font-poppins",children:e.label})]},e.label)})})]}),"PENDING"===t&&(0,zm.jsxs)("div",{className:"grid gap-5 lg:grid-cols-3 mb-6",children:[(0,zm.jsxs)("div",{className:"lg:col-span-2 border-2 border-gray-200 rounded-xl p-5 bg-gray-50",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-xs uppercase tracking-wider text-gray-500 font-poppins",children:"Live Updates"}),(0,zm.jsx)("p",{className:"text-base text-gray-900 font-semibold mt-1 font-poppins",children:"Status Monitor"})]}),(0,zm.jsx)(tx,{className:"w-5 h-5 ".concat(i?"animate-spin text-[#6C4DFF]":"text-gray-400")})]}),(0,zm.jsx)("p",{className:"text-sm text-gray-600 mb-4 font-poppins",children:i?"We'll refresh this status every few seconds so you don't have to.":"Auto-refresh is paused. Tap below if you want us to keep checking for you."}),(0,zm.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,zm.jsx)("button",{onClick:l,className:"bg-[#6C4DFF] hover:bg-[#5a3ddb] text-white px-5 py-2.5 rounded-full font-medium transition-colors font-poppins shadow-md hover:shadow-lg active:scale-[0.96]",children:"Refresh now"}),(0,zm.jsx)("button",{onClick:()=>o(!i),className:"border-2 border-gray-300 text-gray-700 hover:bg-gray-100 px-5 py-2.5 rounded-full font-medium transition-colors font-poppins",children:i?"Pause auto-refresh":"Resume auto-refresh"})]})]}),(0,zm.jsxs)("div",{className:"border-2 border-gray-200 rounded-xl p-5 bg-gray-50",children:[(0,zm.jsx)("p",{className:"text-xs uppercase tracking-wider text-gray-500 mb-2 font-poppins",children:"Need help?"}),(0,zm.jsx)("p",{className:"text-sm text-gray-600 mb-4 font-poppins",children:"Our partner team can answer any question about your onboarding."}),(0,zm.jsx)("button",{onClick:()=>{window.open("mailto:support@getnayi.com","_blank")},className:"w-full border-2 border-gray-300 text-gray-700 hover:bg-gray-100 px-4 py-2.5 rounded-full font-medium transition-colors font-poppins",children:"Message support"})]})]}),"REJECTED"===t&&(0,zm.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,zm.jsx)("button",{onClick:()=>e("/provider/register"),className:"flex-1 bg-[#6C4DFF] hover:bg-[#5a3ddb] text-white px-6 py-3 rounded-full font-semibold transition-colors font-poppins shadow-md hover:shadow-lg active:scale-[0.96]",children:"Submit new request"}),(0,zm.jsx)("button",{onClick:()=>e("/"),className:"flex-1 border-2 border-gray-300 text-gray-700 hover:bg-gray-100 px-6 py-3 rounded-full font-semibold transition-colors font-poppins",children:"Return home"})]}),"APPROVED"===t&&(0,zm.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,zm.jsx)("button",{onClick:()=>e("/listing"),className:"flex-1 bg-[#6C4DFF] hover:bg-[#5a3ddb] text-white px-6 py-3 rounded-full font-semibold transition-colors font-poppins shadow-md hover:shadow-lg active:scale-[0.96]",children:"Go to listings"}),(0,zm.jsx)("button",{onClick:()=>e("/"),className:"flex-1 border-2 border-gray-300 text-gray-700 hover:bg-gray-100 px-6 py-3 rounded-full font-semibold transition-colors font-poppins",children:"Explore home"})]})]})]})},nx=()=>{var e,t;const{user:s,logout:r}=Vm(),[n,i]=(0,a.useState)(!1),o=te();return(0,zm.jsx)("header",{className:"sticky top-0 z-[100] bg-white border-b border-gray-200 shadow-sm safe-top",children:(0,zm.jsxs)("div",{className:"px-3 sm:px-4 py-3 flex items-center justify-between gap-2 sm:gap-3 relative z-10",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,zm.jsx)("img",{src:"/assets/images/getnayi_logo.png",alt:"GetNayi Logo",className:"h-7 w-7 sm:h-8 sm:w-8 object-contain",onError:e=>{e.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"%3E%3Crect width="32" height="32" rx="8" fill="%236A00FF"/%3E%3Ctext x="50%25" y="50%25" dominant-baseline="middle" text-anchor="middle" font-size="18" fill="white" font-weight="bold"%3EG%3C/text%3E%3C/svg%3E'}}),(0,zm.jsxs)("span",{className:"text-lg sm:text-xl font-poppins font-bold",children:[(0,zm.jsx)("span",{className:"text-gray-900",children:"Get"}),(0,zm.jsx)("span",{className:"text-[#6A00FF]",children:"Nayi"})]})]}),(0,zm.jsx)("div",{className:"flex-1 max-w-md",children:(0,zm.jsxs)("div",{className:"relative",children:[(0,zm.jsx)("input",{type:"text",placeholder:"Search",className:"w-full px-3 sm:px-4 py-2 pl-9 sm:pl-10 bg-gray-100 text-gray-900 placeholder-gray-500 rounded-full focus:outline-none focus:ring-2 focus:ring-[#6A00FF] focus:bg-white transition-colors font-poppins text-sm"}),(0,zm.jsx)("svg",{className:"absolute left-2.5 sm:left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),(0,zm.jsxs)("div",{className:"relative",children:[(0,zm.jsx)("button",{onClick:()=>i(!n),className:"flex items-center gap-2 active:opacity-80 transition-opacity touch-manipulation",children:(0,zm.jsx)("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-[#6A00FF] flex items-center justify-center font-bold text-white text-base sm:text-lg shadow-sm",children:(null===s||void 0===s||null===(e=s.username)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.toUpperCase())||"U"})}),n&&(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)("div",{className:"fixed inset-0 z-[10000]",onClick:()=>i(!1)}),(0,zm.jsxs)("div",{className:"fixed top-20 right-4 w-56 bg-white border border-gray-200 rounded-xl shadow-xl py-2 z-[10001]",children:[(0,zm.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200",children:[(0,zm.jsx)("p",{className:"font-semibold text-gray-900 truncate",children:null===s||void 0===s?void 0:s.full_name}),(0,zm.jsxs)("p",{className:"text-sm text-gray-500 truncate",children:["@",null===s||void 0===s?void 0:s.username]})]}),(null===s||void 0===s?void 0:s.is_admin)&&(0,zm.jsxs)("button",{onClick:()=>{o("/admin/dashboard"),i(!1)},className:"w-full text-left px-4 py-3 text-[#6A00FF] hover:bg-gray-50 active:bg-gray-100 transition-colors touch-manipulation text-base flex items-center gap-2",children:[(0,zm.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Admin Panel"]}),(0,zm.jsx)("button",{onClick:()=>{r(),i(!1)},className:"w-full text-left px-4 py-3 text-red-600 hover:bg-gray-50 active:bg-gray-100 transition-colors touch-manipulation text-base",children:"Logout"})]})]})]})]})})},ax=()=>{const e=te(),{isAuthenticated:t}=Vm(),[s,r]=(0,a.useState)([]),[n,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(!1);(0,a.useEffect)(()=>{t?u():l(!1)},[t]);const u=async()=>{try{l(!0),d(!1);const e=await la();if(e&&e.wishlist&&Array.isArray(e.wishlist)){r(e.wishlist);const t={};e.wishlist.forEach(e=>{const s=e.video_id||"listing-".concat(e.listing_id);t[s]||(t[s]={video_id:e.video_id,provider_id:e.provider_id,video_url:e.video_url,video_thumbnail_url:e.video_thumbnail_url,stats:{views:e.view_count||0,likes:e.like_count||0,loves:e.love_count||0,clicks:e.click_count||0},products:[]}),t[s].products.push({listing_id:e.listing_id,product_name:e.product_name,price:e.price,thumbnail:e.thumbnail,link:e.link,provider_name:e.provider_name||e.business_name})}),i(Object.values(t))}else r([]),i([])}catch(c){console.error("Error loading wishlist:",c),r([]),i([]),d(!0),It.error("Could not fetch wishlist")}finally{l(!1)}};return o?(0,zm.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,zm.jsx)(ph,{className:"w-8 h-8 animate-spin text-[#6A00FF]"})}):(0,zm.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,zm.jsx)(nx,{}),(0,zm.jsx)("div",{className:"pt-16 pb-32 sm:pb-24 px-4 relative z-10",children:(0,zm.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,zm.jsxs)("div",{className:"mb-6",children:[(0,zm.jsx)("h1",{className:"text-3xl font-bold text-gray-900 font-poppins",children:"My Wishlist"}),(0,zm.jsxs)("p",{className:"text-gray-600 text-sm mt-1 font-poppins",children:[s.length," saved item",1!==s.length?"s":""]})]}),c?(0,zm.jsxs)("div",{className:"bg-gray-100 border border-gray-200 rounded-2xl shadow-sm p-12 text-center",children:[(0,zm.jsx)("div",{className:"w-20 h-20 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,zm.jsx)(ch,{className:"w-10 h-10 text-white"})}),(0,zm.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2 font-poppins",children:"Could not fetch wishlist"}),(0,zm.jsx)("p",{className:"text-gray-600 mb-6 font-poppins",children:"Please try again later"}),(0,zm.jsx)("button",{onClick:u,className:"bg-[#6A00FF] hover:bg-purple-700 text-white px-8 py-3 rounded-xl font-semibold transition-all inline-flex items-center gap-2 font-poppins",children:"Retry"})]}):0===s.length?(0,zm.jsxs)("div",{className:"bg-gray-100 border border-gray-200 rounded-2xl shadow-sm p-12 text-center",children:[(0,zm.jsx)("div",{className:"w-20 h-20 bg-[#6A00FF] rounded-full flex items-center justify-center mx-auto mb-4",children:(0,zm.jsx)(ch,{className:"w-10 h-10 text-white"})}),(0,zm.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2 font-poppins",children:"Your wishlist is empty"}),(0,zm.jsx)("p",{className:"text-gray-600 mb-6 font-poppins",children:"Start saving products and services you love"}),(0,zm.jsx)("button",{onClick:()=>e("/home"),className:"bg-[#6A00FF] hover:bg-purple-700 text-white px-8 py-3 rounded-xl font-semibold transition-all inline-flex items-center gap-2 font-poppins",children:"Browse Listings"})]}):(0,zm.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(t=>{var n;return(0,zm.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-sm hover:shadow-lg transition-all overflow-hidden relative",children:[t.products[0]&&(0,zm.jsx)("button",{onClick:e=>(async(e,t)=>{t.stopPropagation();try{await da(e),r(s.filter(t=>t.listing_id!==e)),It.success("Removed from wishlist")}catch(c){console.error("Error removing from wishlist:",c),It.error("Failed to remove")}})(t.products[0].listing_id,e),className:"absolute top-3 right-3 z-10 bg-red-500 hover:bg-red-600 text-white p-2 rounded-full shadow-lg transition-all",children:(0,zm.jsx)(Gh,{className:"w-4 h-4"})}),(0,zm.jsxs)("div",{className:"relative h-40 bg-gray-100 cursor-pointer",onClick:()=>{var s;const r=t.video_id||(null===(s=t.products[0])||void 0===s?void 0:s.listing_id);r&&e("/watch?video=".concat(r))},children:[t.video_thumbnail_url?(0,zm.jsx)("img",{src:t.video_thumbnail_url,alt:"Video thumbnail",className:"w-full h-full object-cover"}):(0,zm.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-[#6A00FF] to-purple-200",children:(0,zm.jsx)(xh,{className:"w-12 h-12 text-white"})}),(0,zm.jsxs)("div",{className:"absolute bottom-2 left-2 flex items-center gap-3 bg-black/60 text-white px-2 py-1 rounded-md",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-1",children:[(0,zm.jsx)(lh,{className:"w-4 h-4"}),(0,zm.jsx)("span",{className:"text-xs font-poppins",children:t.stats.views})]}),(0,zm.jsxs)("div",{className:"flex items-center gap-1",children:[(0,zm.jsx)(ch,{className:"w-4 h-4"}),(0,zm.jsx)("span",{className:"text-xs font-poppins",children:t.stats.loves})]}),(0,zm.jsxs)("div",{className:"flex items-center gap-1",children:[(0,zm.jsx)(Yh,{className:"w-4 h-4"}),(0,zm.jsx)("span",{className:"text-xs font-poppins",children:t.stats.clicks})]})]})]}),(0,zm.jsx)("div",{className:"p-3",children:(0,zm.jsx)("div",{className:"flex gap-3 overflow-x-auto scrollbar-hide pb-1",children:t.products.map((e,t)=>(0,zm.jsxs)("div",{className:"flex-shrink-0 w-28 cursor-pointer",onClick:t=>{t.stopPropagation(),e.link?window.open(e.link,"_blank","noopener,noreferrer"):It.error("Product link not available")},children:[(0,zm.jsx)("div",{className:"w-full h-20 rounded-lg overflow-hidden border border-gray-200 bg-gray-100",children:e.thumbnail?(0,zm.jsx)("img",{src:e.thumbnail,alt:e.product_name,className:"w-full h-full object-cover"}):(0,zm.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:(0,zm.jsx)(xh,{className:"w-6 h-6 text-gray-500"})})}),(0,zm.jsxs)("div",{className:"mt-1",children:[(0,zm.jsx)("p",{className:"text-xs font-semibold text-gray-900 font-poppins line-clamp-1",children:e.product_name}),(0,zm.jsx)("p",{className:"text-[11px] text-gray-600 font-poppins line-clamp-1",children:e.provider_name})]})]},e.listing_id))})})]},t.video_id||"group-".concat(null===(n=t.products[0])||void 0===n?void 0:n.listing_id))})})]})})]})},ix=Zm("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ox=Zm("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),lx=Zm("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),cx=Zm("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),dx=Zm("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),ux=Zm("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),px=Zm("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),mx=Zm("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),hx=e=>{let{user:t}=e;const[s,r]=(0,a.useState)(!1),[n,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(""),u=(0,a.useRef)(null),p=(0,a.useRef)(!1),m=te(),{logout:h}=Vm();(0,a.useEffect)(()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&r(!1)};return s&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[s]);(0,a.useEffect)(()=>{s&&!p.current&&(async()=>{try{l(!0),d("");const e=await Si();null!==e&&void 0!==e&&e.ok?i(e.pages||[]):d((null===e||void 0===e?void 0:e.message)||"Failed to load pages")}catch(xf){console.error("CMS pages load error:",xf),d("Failed to load pages")}finally{l(!1),p.current=!0}})()},[s]);return(0,zm.jsxs)("div",{className:"relative",ref:u,children:[(0,zm.jsxs)("button",{onClick:()=>r(!s),className:"flex items-center gap-2 bg-white hover:bg-gray-50 border border-gray-300 text-gray-900 px-4 py-2 rounded-lg transition-colors font-poppins text-sm",children:[(0,zm.jsx)(lx,{className:"w-4 h-4"}),(0,zm.jsx)("span",{className:"hidden sm:inline",children:"Settings"}),(0,zm.jsx)(cx,{className:"w-4 h-4 transition-transform ".concat(s?"rotate-180":"")})]}),s&&(0,zm.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[(0,zm.jsxs)("button",{onClick:()=>{m("/settings"),r(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left hover:bg-gray-50 transition-colors font-poppins text-sm text-gray-900",children:[(0,zm.jsx)(lx,{className:"w-4 h-4 text-gray-600"}),(0,zm.jsx)("span",{children:"Subscription Details"})]}),(0,zm.jsxs)("button",{onClick:()=>{m("/profile/edit"),r(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left hover:bg-gray-50 transition-colors font-poppins text-sm text-gray-900",children:[(0,zm.jsx)(dx,{className:"w-4 h-4 text-gray-600"}),(0,zm.jsx)("span",{children:"Edit Profile"})]}),(0,zm.jsxs)("button",{onClick:()=>{m("/profile/analytics"),r(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left hover:bg-gray-50 transition-colors font-poppins text-sm text-gray-900",children:[(0,zm.jsx)(ux,{className:"w-4 h-4 text-gray-600"}),(0,zm.jsx)("span",{children:"Analytics"})]}),(0,zm.jsxs)("button",{onClick:()=>{const e=null!==t&&void 0!==t&&t.username?"".concat(window.location.origin,"/profile/").concat(t.username):"".concat(window.location.origin,"/profile?user_id=").concat(null===t||void 0===t?void 0:t.user_id);navigator.clipboard.writeText(e).then(()=>{It.success("Profile link copied to clipboard!")}).catch(()=>{It.error("Failed to copy link")}),r(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left hover:bg-gray-50 transition-colors font-poppins text-sm text-gray-900",children:[(0,zm.jsx)(Sh,{className:"w-4 h-4 text-gray-600"}),(0,zm.jsx)("span",{children:"Share My Profile"})]}),o&&(0,zm.jsx)("div",{className:"px-4 py-2 text-xs text-gray-400 font-poppins",children:"Loading pages..."}),!o&&c&&(0,zm.jsx)("div",{className:"px-4 py-2 text-xs text-red-500 font-poppins",children:c}),!o&&!c&&n.length>0&&(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)("div",{className:"border-t border-gray-200 my-1"}),(0,zm.jsx)("p",{className:"px-4 pt-2 text-[11px] font-semibold tracking-wide text-gray-400 uppercase font-poppins",children:"Pages"}),n.map(e=>(0,zm.jsxs)("button",{onClick:()=>{m("/pages/".concat(e.slug)),r(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left hover:bg-gray-50 transition-colors font-poppins text-sm text-gray-900",children:[(0,zm.jsx)(px,{className:"w-4 h-4 text-gray-600"}),(0,zm.jsx)("span",{className:"truncate",children:e.title})]},e.slug))]}),(0,zm.jsx)("div",{className:"border-t border-gray-200 my-1"}),(0,zm.jsxs)("button",{onClick:async()=>{try{await h(),m("/"),It.success("Logged out successfully")}catch(Ve){It.error("Failed to logout")}r(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left hover:bg-red-50 transition-colors font-poppins text-sm text-red-600",children:[(0,zm.jsx)(mx,{className:"w-4 h-4"}),(0,zm.jsx)("span",{children:"Logout"})]})]})]})},xx=()=>{var e,t,s,r,n,i,o,l,c,d,u,p,m,h,x,f,g,b,y,v,j,w,N,_;const[k]=Re(),{username:S}=se(),C=k.get("user_id"),{user:E,logout:P}=Vm(),[A,T]=(0,a.useState)(null),[I,L]=(0,a.useState)(null),[F,R]=(0,a.useState)(null),[D,O]=(0,a.useState)([]),[M,U]=(0,a.useState)([]),[z,B]=(0,a.useState)(!0),[V,H]=(0,a.useState)("ALL"),[W,q]=(0,a.useState)({is_following:!1,follower_count:0,following_count:0}),[G,K]=(0,a.useState)(!1),$=te(),Y=C?Number(C):null,J=!!S,Q=Y||(J?null:null!==(e=null===E||void 0===E?void 0:E.user_id)&&void 0!==e?e:null),X=!C&&!S||E&&Y&&Number(E.user_id)===Y,Z=J&&E&&S&&E.username===S,ee=(0,a.useCallback)(async()=>{try{if(B(!0),J){if(!S)return void It.error("Invalid username");const c=await ua.getProfileByUsername(S);if(null!==c&&void 0!==c&&c.ok){var e,t,s,r,n,a,i;if(T(null!==(e=c.user)&&void 0!==e?e:null),L(null!==(t=c.provider)&&void 0!==t?t:null),O(null!==(s=c.listings)&&void 0!==s?s:[]),R(null),null!==(r=c.provider)&&void 0!==r&&r.provider_id)try{var o,l;const e=await Ti.get("/api/watch/provider/".concat(c.provider.provider_id,"/videos"));U(null!==(o=null===(l=e.data)||void 0===l?void 0:l.videos)&&void 0!==o?o:[])}catch(k){console.error("Error fetching videos:",k),U([])}else U([]);if(c.follow_status)q({is_following:null!==(n=c.follow_status.is_following)&&void 0!==n&&n,follower_count:null!==(a=c.follow_status.follower_count)&&void 0!==a?a:0,following_count:null!==(i=c.follow_status.following_count)&&void 0!==i?i:0})}else It.error((null===c||void 0===c?void 0:c.error)||"User not found")}else if(X){var c,d,u,p,m,h,x;const[e,t,s,r,n]=await Promise.all([ua.getProfile().catch(e=>(console.error("Error fetching user profile:",e),null)),Un().catch(e=>(console.error("Error fetching provider:",e),null)),ra().catch(e=>(console.error("Error fetching subscription:",e),null)),Yn().catch(e=>(console.error("Error fetching listings:",e),{listings:[],pending_requests:[]})),ua.getMyVideos().catch(e=>(console.error("Error fetching videos:",e),{ok:!1,videos:[]}))]);T(null!==(c=null!==(d=null===e||void 0===e?void 0:e.user)&&void 0!==d?d:e)&&void 0!==c?c:null),L(null!==(u=null!==(p=null===t||void 0===t?void 0:t.provider)&&void 0!==p?p:t)&&void 0!==u?u:null),R(null!==s&&void 0!==s?s:null);const a=[...null!==(m=null===r||void 0===r?void 0:r.pending_requests)&&void 0!==m?m:[],...null!==(h=null===r||void 0===r?void 0:r.listings)&&void 0!==h?h:[]];O(a);const i=null!==(x=null===n||void 0===n?void 0:n.videos)&&void 0!==x?x:[];U(i)}else{var f;if(!Q)return void It.error("Invalid user");const e=await Ti.get("/api/users/".concat(Q,"/profile"));var g,b,y,v,j,w;if(null!==e&&void 0!==e&&null!==(f=e.data)&&void 0!==f&&f.ok)if(T(null!==(g=e.data.user)&&void 0!==g?g:null),L(null!==(b=e.data.provider)&&void 0!==b?b:null),O(null!==(y=e.data.listings)&&void 0!==y?y:[]),R(null!==(v=e.data.subscription)&&void 0!==v?v:null),null!==(j=e.data.provider)&&void 0!==j&&j.provider_id)try{var N,_;const t=await Ti.get("/api/watch/provider/".concat(e.data.provider.provider_id,"/videos"));U(null!==(N=null===(_=t.data)||void 0===_?void 0:_.videos)&&void 0!==N?N:[])}catch(k){console.error("Error fetching videos:",k),U([])}else U([]);else It.error((null===e||void 0===e||null===(w=e.data)||void 0===w?void 0:w.error)||"User not found")}}catch(xf){console.error("Error loading profile:",xf),It.error("Could not fetch profile data")}finally{B(!1)}},[X,J,Q,S]),re=(0,a.useCallback)(async e=>{if(e)try{const r=await ua.getFollowStatus(e);var t,s;if(r&&!1!==r.ok)q({is_following:!!r.is_following,follower_count:Number(null!==(t=r.follower_count)&&void 0!==t?t:0),following_count:Number(null!==(s=r.following_count)&&void 0!==s?s:0)})}catch(xf){console.error("Error loading follow status:",xf)}},[]);(0,a.useEffect)(()=>{ee()},[ee]),(0,a.useEffect)(()=>{J||(null!==A&&void 0!==A&&A.user_id?re(A.user_id):Q&&re(Q))},[null===A||void 0===A?void 0:A.user_id,Q,re,J]);const ne=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}catch(Ve){return"N/A"}};if(z)return(0,zm.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,zm.jsx)("div",{className:"text-gray-900 text-lg font-poppins",children:"Loading profile..."})});const ae=I&&"APPROVED"===I.status,ie=null!==(t=null!==(s=null!==(r=null===I||void 0===I?void 0:I.business_name)&&void 0!==r?r:null===A||void 0===A?void 0:A.full_name)&&void 0!==s?s:null===A||void 0===A?void 0:A.name)&&void 0!==t?t:"User",oe=null!==(n=null!==(i=null===I||void 0===I?void 0:I.handle_address)&&void 0!==i?i:null===A||void 0===A?void 0:A.email)&&void 0!==n?n:"",le=null!==(o=null!==(l=null===A||void 0===A?void 0:A.profile_picture)&&void 0!==l?l:null===A||void 0===A?void 0:A.profile_image_url)&&void 0!==o?o:null,ce=null!==(c=null===A||void 0===A?void 0:A.banner)&&void 0!==c?c:null,de=null!==(d=null===A||void 0===A?void 0:A.username)&&void 0!==d?d:"",ue=null!==(u=null===A||void 0===A?void 0:A.type)&&void 0!==u?u:"NORMAL",pe=null!==(p=null===A||void 0===A?void 0:A.total_likes)&&void 0!==p?p:0,me=null!==(m=null===A||void 0===A?void 0:A.total_views)&&void 0!==m?m:0,he={listings:null!==(h=null===D||void 0===D?void 0:D.length)&&void 0!==h?h:0,products:(null!==D&&void 0!==D?D:[]).filter(e=>"PRODUCT"===e.type).length,totalViews:(null!==D&&void 0!==D?D:[]).reduce((e,t)=>{var s;return e+Number(null!==(s=t.view_count)&&void 0!==s?s:0)},0),totalLikes:(null!==D&&void 0!==D?D:[]).reduce((e,t)=>{var s;return e+Number(null!==(s=t.like_count)&&void 0!==s?s:0)},0)},xe=X?he:{listings:null!==(x=null===D||void 0===D?void 0:D.length)&&void 0!==x?x:0,totalViews:(null!==D&&void 0!==D?D:[]).reduce((e,t)=>{var s;return e+Number(null!==(s=t.view_count)&&void 0!==s?s:0)},0),totalLikes:(null!==D&&void 0!==D?D:[]).reduce((e,t)=>{var s;return e+Number(null!==(s=t.like_count)&&void 0!==s?s:0)},0)},fe=(null!==D&&void 0!==D?D:[]).filter(e=>"ALL"===V||e.type===V),ge="ALL"===V?[...M.map(e=>{var t,s;return{id:"video_".concat(e.video_id),video_id:e.video_id,thumbnail_url:e.thumbnail_url,video_url:e.video_url,like_count:null!==(t=e.like_count)&&void 0!==t?t:0,view_count:null!==(s=e.view_count)&&void 0!==s?s:0,created_at:e.created_at,video_status:e.video_status,status:e.video_status,is_video:!0}}),...fe.map(e=>{var t,s,r,n;return{id:"listing_".concat(null!==(t=null!==(s=e.listing_id)&&void 0!==s?s:e.request_id)&&void 0!==t?t:e.id),listing_id:e.listing_id,request_id:e.request_id,thumbnail_url:e.thumbnail_url,video_url:e.video_url,product_name:e.product_name,like_count:null!==(r=e.like_count)&&void 0!==r?r:0,view_count:null!==(n=e.view_count)&&void 0!==n?n:0,status:e.status,video_status:e.video_status,created_at:e.created_at,is_video:!1}})].sort((e,t)=>new Date(t.created_at)-new Date(e.created_at)):fe.map(e=>{var t,s,r,n;return{id:"listing_".concat(null!==(t=null!==(s=e.listing_id)&&void 0!==s?s:e.request_id)&&void 0!==t?t:e.id),listing_id:e.listing_id,request_id:e.request_id,thumbnail_url:e.thumbnail_url,video_url:e.video_url,product_name:e.product_name,like_count:null!==(r=e.like_count)&&void 0!==r?r:0,view_count:null!==(n=e.view_count)&&void 0!==n?n:0,status:e.status,video_status:e.video_status,created_at:e.created_at,is_video:!1}});return(0,zm.jsxs)("div",{className:"min-h-screen bg-white text-gray-900",children:[(0,zm.jsx)("div",{className:"bg-white/80 backdrop-blur border-b border-gray-200 px-4 sm:px-6 py-4 sticky top-0 z-20",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[(0,zm.jsx)("h1",{className:"text-xl font-bold text-gray-900 font-poppins",children:X&&!J?null!==(f=null!==(g=null===A||void 0===A?void 0:A.name)&&void 0!==g?g:null===A||void 0===A?void 0:A.full_name)&&void 0!==f?f:"Profile":null!==(b=null!==(y=null===A||void 0===A?void 0:A.full_name)&&void 0!==y?y:null===A||void 0===A?void 0:A.username)&&void 0!==b?b:"Profile"}),X&&!J&&!Z&&(0,zm.jsx)(hx,{user:A||E})]})}),(0,zm.jsxs)("div",{className:"max-w-4xl mx-auto pb-32 sm:pb-24",children:[(0,zm.jsx)("div",{className:"w-full h-44 sm:h-56 bg-gray-100 relative",children:ce?(0,zm.jsx)("img",{src:ce,alt:"Banner",className:"w-full h-full object-cover"}):(0,zm.jsx)("div",{className:"w-full h-full bg-gradient-to-r from-purple-100 to-blue-100"})}),(0,zm.jsx)("div",{className:"-mt-12 sm:-mt-16 px-4 sm:px-6 relative z-10",children:(0,zm.jsx)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-5 sm:p-6",children:(0,zm.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6 sm:gap-8",children:[(0,zm.jsx)("div",{className:"flex-shrink-0 -mt-10 sm:-mt-12 relative",children:le?(0,zm.jsx)("img",{src:le,alt:"Profile",className:"w-20 h-20 sm:w-28 sm:h-28 rounded-full object-cover border-4 border-white shadow-md"}):(0,zm.jsx)("div",{className:"w-20 h-20 sm:w-28 sm:h-28 rounded-full bg-gradient-to-br from-[#6A00FF] to-purple-600 flex items-center justify-center border-4 border-white shadow-md",children:(0,zm.jsx)(hh,{className:"w-10 h-10 sm:w-16 sm:h-16 text-white"})})}),(0,zm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,zm.jsxs)("div",{className:"mb-3",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-1",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,zm.jsx)("h2",{className:"text-xl sm:text-2xl font-poppins text-gray-900 truncate",children:ie}),ae&&(0,zm.jsx)("div",{className:"flex items-center justify-center flex-shrink-0",children:(0,zm.jsxs)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,zm.jsx)("circle",{cx:"12",cy:"12",r:"12",fill:"#0095F6"}),(0,zm.jsx)("path",{d:"M8 12L11 15L16 9",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]}),!X&&!Z&&(0,zm.jsx)("button",{onClick:async()=>{let e=null;if(Y?e=Y:J&&null!==A&&void 0!==A&&A.user_id?e=A.user_id:Q?e=Q:null!==A&&void 0!==A&&A.user_id&&(e=A.user_id),!e||!E)return void It.error("Please log in to follow users");const t=E.user_id?Number(E.user_id):null,s=Number(e);if(t&&t===s)It.error("Cannot follow yourself");else{K(!0);try{W.is_following?(await ua.unfollow(e),q(e=>{var t;return Be(Be({},e),{},{is_following:!1,follower_count:Math.max(0,(null!==(t=e.follower_count)&&void 0!==t?t:0)-1)})}),It.success("Unfollowed")):(await ua.follow(e),q(e=>{var t;return Be(Be({},e),{},{is_following:!0,follower_count:(null!==(t=e.follower_count)&&void 0!==t?t:0)+1})}),It.success("Followed"))}catch(xf){var r,n;console.error("Error toggling follow:",xf);const t=(null===xf||void 0===xf||null===(r=xf.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||"Failed to update follow status";It.error(t)}finally{K(!1)}}},disabled:G||!E,className:"px-3 py-1.5 rounded-lg transition-colors text-xs sm:text-sm font-poppins flex items-center gap-1.5 flex-shrink-0 ".concat(W.is_following?"bg-gray-100 hover:bg-gray-200 text-gray-900":"bg-[#6A00FF] hover:bg-purple-700 text-white"),children:G?(0,zm.jsx)("span",{className:"text-xs",children:"..."}):W.is_following?(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)(_h,{className:"w-3.5 h-3.5"}),(0,zm.jsx)("span",{className:"hidden sm:inline",children:"Unfollow"})]}):(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)(kh,{className:"w-3.5 h-3.5"}),(0,zm.jsx)("span",{className:"hidden sm:inline",children:"Follow"})]})})]}),de&&(0,zm.jsxs)("p",{className:"text-gray-600 text-sm font-poppins",children:["@",de]}),ue&&"NORMAL"!==ue&&(0,zm.jsx)("p",{className:"text-gray-500 text-xs font-poppins capitalize mt-1",children:ue.toLowerCase()})]}),(0,zm.jsxs)("div",{className:"flex gap-6 sm:gap-8 mb-4 flex-wrap",children:[(0,zm.jsxs)("div",{className:"text-center sm:text-left cursor-pointer",onClick:()=>{const e=Y||(null===A||void 0===A?void 0:A.user_id);e&&$("/followers?user_id=".concat(e))},children:[(0,zm.jsx)("span",{className:"font-semibold text-gray-900 font-poppins",children:null!==(v=W.follower_count)&&void 0!==v?v:0}),(0,zm.jsx)("span",{className:"text-gray-600 text-sm font-poppins ml-1",children:"followers"})]}),(0,zm.jsxs)("div",{className:"text-center sm:text-left cursor-pointer",onClick:()=>{const e=Y||(null===A||void 0===A?void 0:A.user_id);e&&$("/following?user_id=".concat(e))},children:[(0,zm.jsx)("span",{className:"font-semibold text-gray-900 font-poppins",children:null!==(j=W.following_count)&&void 0!==j?j:0}),(0,zm.jsx)("span",{className:"text-gray-600 text-sm font-poppins ml-1",children:"following"})]}),X&&(0,zm.jsxs)("div",{className:"text-center sm:text-left",children:[(0,zm.jsx)("span",{className:"font-semibold text-gray-900 font-poppins",children:xe.listings}),(0,zm.jsx)("span",{className:"text-gray-600 text-sm font-poppins ml-1",children:"listings"})]}),!J&&pe>0&&(0,zm.jsxs)("div",{className:"text-center sm:text-left",children:[(0,zm.jsx)("span",{className:"font-semibold text-gray-900 font-poppins",children:pe}),(0,zm.jsx)("span",{className:"text-gray-600 text-sm font-poppins ml-1",children:"likes"})]}),!J&&me>0&&(0,zm.jsxs)("div",{className:"text-center sm:text-left",children:[(0,zm.jsx)("span",{className:"font-semibold text-gray-900 font-poppins",children:me}),(0,zm.jsx)("span",{className:"text-gray-600 text-sm font-poppins ml-1",children:"views"})]})]}),(0,zm.jsxs)("div",{className:"mb-4",children:[(0,zm.jsxs)("p",{className:"font-semibold text-gray-900 font-poppins text-sm mb-1",children:[null!==I&&void 0!==I&&I.business_name&&null!==A&&void 0!==A&&A.name&&A.name!==I.business_name?A.name:"",(null===I||void 0===I?void 0:I.type)&&X&&!J&&(0,zm.jsx)("span",{className:"ml-2 text-gray-600 font-poppins text-sm font-normal capitalize",children:I.type.toLowerCase()})]}),(null===I||void 0===I?void 0:I.location)&&(0,zm.jsxs)("p",{className:"text-gray-900 font-poppins text-sm flex items-center gap-1 mb-1",children:[(0,zm.jsx)(ix,{className:"w-4 h-4"}),I.location]}),oe&&(0,zm.jsx)("p",{className:"text-gray-900 font-poppins text-sm",children:oe}),I&&"PENDING"===I.status&&(0,zm.jsx)("p",{className:"text-yellow-600 font-poppins text-sm mt-2",children:"Verification pending"})]}),X&&!J&&(0,zm.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,zm.jsx)("p",{className:"text-[11px] text-gray-500 font-poppins",children:"Email"}),(0,zm.jsx)("p",{className:"text-sm text-gray-900 truncate font-poppins",children:null!==(w=null===A||void 0===A?void 0:A.email)&&void 0!==w?w:"\u2014"})]}),(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,zm.jsx)("p",{className:"text-[11px] text-gray-500 font-poppins",children:"Phone"}),(0,zm.jsx)("p",{className:"text-sm text-gray-900 truncate font-poppins",children:null!==(N=null===A||void 0===A?void 0:A.phone)&&void 0!==N?N:"\u2014"})]}),(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,zm.jsx)("p",{className:"text-[11px] text-gray-500 font-poppins",children:"Joined"}),(0,zm.jsx)("p",{className:"text-sm text-gray-900 truncate font-poppins",children:ne(null===A||void 0===A?void 0:A.created_at)})]})]}),!X&&!J&&(0,zm.jsx)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,zm.jsx)("p",{className:"text-[11px] text-gray-500 font-poppins",children:"Joined"}),(0,zm.jsx)("p",{className:"text-sm text-gray-900 truncate font-poppins",children:ne(null===A||void 0===A?void 0:A.created_at)})]})}),J&&(0,zm.jsx)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,zm.jsx)("p",{className:"text-[11px] text-gray-500 font-poppins",children:"Joined"}),(0,zm.jsx)("p",{className:"text-sm text-gray-900 truncate font-poppins",children:ne(null===A||void 0===A?void 0:A.created_at)})]})}),I&&X&&!J&&(0,zm.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,zm.jsx)("p",{className:"text-[11px] text-gray-500 font-poppins",children:"Provider Type"}),(0,zm.jsx)("p",{className:"text-sm text-gray-900 truncate font-poppins",children:(I.provider_type||I.type||"").toString().toUpperCase()})]}),(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,zm.jsx)("p",{className:"text-[11px] text-gray-500 font-poppins",children:"Status"}),(0,zm.jsx)("p",{className:"text-sm text-gray-900 truncate font-poppins",children:I.status})]}),(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,zm.jsx)("p",{className:"text-[11px] text-gray-500 font-poppins",children:"GST"}),(0,zm.jsx)("p",{className:"text-sm text-gray-900 truncate font-poppins",children:I.gst||"\u2014"})]}),(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,zm.jsx)("p",{className:"text-[11px] text-gray-500 font-poppins",children:"Upload Limit"}),(0,zm.jsx)("p",{className:"text-sm text-gray-900 truncate font-poppins",children:null!==(_=I.upload_limit)&&void 0!==_?_:"\u2014"})]}),I.business_address&&(0,zm.jsxs)("div",{className:"col-span-2 bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,zm.jsx)("p",{className:"text-[11px] text-gray-500 font-poppins",children:"Business Address"}),(0,zm.jsx)("p",{className:"text-sm text-gray-900 font-poppins whitespace-pre-wrap",children:I.business_address})]}),I.handle_address&&(0,zm.jsxs)("div",{className:"col-span-2 bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,zm.jsx)("p",{className:"text-[11px] text-gray-500 font-poppins",children:"Handle/Website"}),(0,zm.jsx)("p",{className:"text-sm text-gray-900 font-poppins break-all",children:I.handle_address})]})]}),I&&(!X||J)&&(0,zm.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[I.business_address&&(0,zm.jsxs)("div",{className:"col-span-2 bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,zm.jsx)("p",{className:"text-[11px] text-gray-500 font-poppins",children:"Business Address"}),(0,zm.jsx)("p",{className:"text-sm text-gray-900 font-poppins whitespace-pre-wrap",children:I.business_address})]}),I.handle_address&&(0,zm.jsxs)("div",{className:"col-span-2 bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,zm.jsx)("p",{className:"text-[11px] text-gray-500 font-poppins",children:"Handle/Website"}),(0,zm.jsx)("p",{className:"text-sm text-gray-900 font-poppins break-all",children:I.handle_address})]})]}),X&&!J&&!I&&(0,zm.jsx)("div",{className:"flex gap-2",children:(0,zm.jsx)("button",{onClick:()=>$("/provider/register"),className:"bg-[#6A00FF] hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors text-sm font-poppins",children:"Register as Provider"})})]})]})})}),(0,zm.jsx)("div",{className:"flex justify-center border-b border-gray-200",children:(0,zm.jsxs)("div",{className:"flex gap-8",children:[(0,zm.jsx)("button",{onClick:()=>H("ALL"),className:"py-4 px-1 border-b-2 transition-colors font-poppins text-sm ".concat("ALL"===V?"border-gray-900 text-gray-900 font-semibold":"border-transparent text-gray-500"),children:"ALL"}),(0,zm.jsxs)("button",{onClick:()=>H("PRODUCT"),className:"py-4 px-1 border-b-2 transition-colors font-poppins text-sm flex items-center gap-1 ".concat("PRODUCT"===V?"border-gray-900 text-gray-900 font-semibold":"border-transparent text-gray-500"),children:[(0,zm.jsx)(xh,{className:"w-4 h-4"}),"PRODUCTS"]})]})}),ge.length>0?(0,zm.jsx)("div",{className:"grid grid-cols-3 gap-1 sm:gap-px py-4",children:ge.map(e=>{var t,s,r;return(0,zm.jsxs)("div",{onClick:()=>{e.is_video&&e.video_id?$("/watch?video=".concat(e.video_id)):e.listing_id&&$("/watch?video=".concat(e.listing_id))},className:"aspect-square bg-gray-100 relative group cursor-pointer overflow-hidden",children:[e.thumbnail_url?(0,zm.jsx)("img",{src:e.thumbnail_url,alt:null!==(t=e.product_name)&&void 0!==t?t:"Video",className:"w-full h-full object-cover group-hover:opacity-75 transition-opacity"}):e.video_url?(0,zm.jsx)("video",{src:e.video_url,className:"w-full h-full object-cover group-hover:opacity-75 transition-opacity",muted:!0}):(0,zm.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-[#6A00FF] to-purple-600",children:e.is_video?(0,zm.jsx)(Vh,{className:"w-8 h-8 text-white opacity-50"}):(0,zm.jsx)(xh,{className:"w-8 h-8 text-white opacity-50"})}),"ALL"===V&&(0,zm.jsx)("div",{className:"absolute top-2 left-2",children:e.is_video?(0,zm.jsx)("div",{className:"bg-black/60 backdrop-blur-sm rounded-full p-1.5",children:(0,zm.jsx)(dh,{className:"w-3 h-3 text-white fill-white"})}):(0,zm.jsx)("div",{className:"bg-black/60 backdrop-blur-sm rounded-full p-1.5",children:(0,zm.jsx)(xh,{className:"w-3 h-3 text-white"})})}),(0,zm.jsxs)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-colors flex items-center justify-center gap-4 opacity-0 group-hover:opacity-100",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-1 text-white",children:[(0,zm.jsx)(ch,{className:"w-5 h-5"}),(0,zm.jsx)("span",{className:"font-poppins text-sm",children:null!==(s=e.like_count)&&void 0!==s?s:0})]}),(0,zm.jsxs)("div",{className:"flex items-center gap-1 text-white",children:[(0,zm.jsx)(lh,{className:"w-5 h-5"}),(0,zm.jsx)("span",{className:"font-poppins text-sm",children:null!==(r=e.view_count)&&void 0!==r?r:0})]})]}),X&&!J&&("PENDING"===e.status||"PENDING"===e.video_status)&&(0,zm.jsx)("div",{className:"absolute top-2 right-2 bg-yellow-500 text-white text-xs px-2 py-1 rounded font-poppins font-semibold shadow-md z-10",children:"Pending"})]},e.id)})}):(0,zm.jsxs)("div",{className:"py-12 text-center",children:["ALL"===V?(0,zm.jsx)(Vh,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}):(0,zm.jsx)(xh,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),X&&!J?(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)("p",{className:"text-gray-500 font-poppins mb-4",children:"ALL"===V?"No videos or listings yet":"No listings yet"}),(0,zm.jsxs)("button",{onClick:()=>$("/listing/upload"),className:"bg-[#6A00FF] hover:bg-purple-700 text-white px-6 py-2 rounded-lg transition-colors text-sm font-poppins flex items-center gap-2 mx-auto",children:[(0,zm.jsx)(qh,{className:"w-4 h-4"}),"Upload Your First Listing"]})]}):(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)("p",{className:"text-gray-500 font-poppins mb-2",children:"ALL"===V?"This user doesn't have any videos or listings yet":"This user doesn't have any listings yet"}),(0,zm.jsx)("p",{className:"text-gray-400 text-sm font-poppins",children:"Follow to stay updated"})]})]}),!J&&(0,zm.jsx)("div",{className:"mt-8 space-y-4 pb-8",children:(null===A||void 0===A?void 0:A.is_admin)&&(0,zm.jsx)("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 rounded-lg p-4 border border-blue-200",children:(0,zm.jsxs)("button",{onClick:()=>$("/admin/dashboard"),className:"w-full bg-gradient-to-r from-blue-600 to-[#6A00FF] hover:from-blue-700 hover:to-purple-700 text-white px-6 py-3 rounded-lg transition-all font-medium flex items-center justify-center gap-2 font-poppins",children:[(0,zm.jsx)(ox,{className:"w-5 h-5"}),"Access Admin Dashboard"]})})})]})]})},fx=Zm("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),gx=Zm("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),bx=()=>{const e=te(),{user:t}=Vm(),[s,r]=(0,a.useState)(!1),[n,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)("user"),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(null),[m,h]=(0,a.useState)(!1),[x,f]=(0,a.useState)(!1),g=(0,a.useRef)(null),b=(0,a.useRef)(null),[y,v]=(0,a.useState)({name:"",email:"",phone:"",profile_picture:"",banner:"",name_provider:"",phone_provider:"",business_name:"",type:"brand",location:"",gst_number:"",business_address:"",handle_address:""});(0,a.useEffect)(()=>{j()},[]);const j=async()=>{try{r(!0);const[e,t]=await Promise.all([ua.getProfile().catch(()=>null),Un().catch(()=>null)]),s=(null===e||void 0===e?void 0:e.user)||e||null,n=(null===t||void 0===t?void 0:t.provider)||t||null;d(s),p(n),s&&v(e=>Be(Be({},e),{},{name:s.full_name||s.name||"",email:s.email||"",phone:s.phone||"",profile_picture:s.profile_picture||s.profile_image_url||"",banner:s.banner||""})),n&&v(e=>Be(Be({},e),{},{name_provider:n.name||"",phone_provider:n.phone||"",business_name:n.business_name||"",type:(n.provider_type||n.type||"BRAND").toString().toLowerCase(),location:n.location||"",gst_number:n.gst||n.gst_number||"",business_address:n.business_address||"",handle_address:n.handle_address||""}))}catch(xf){console.error("Error loading profile:",xf),It.error("Failed to load profile data")}finally{r(!1)}},w=e=>{const{name:t,value:s}=e.target;v(e=>Be(Be({},e),{},{[t]:s}))};return s?(0,zm.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,zm.jsx)(ph,{className:"w-8 h-8 animate-spin text-[#6A00FF]"})}):(0,zm.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,zm.jsx)("div",{className:"bg-white border-b border-gray-200 px-3 sm:px-4 md:px-6 py-3 sm:py-4 sticky top-0 z-20",children:(0,zm.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4 max-w-4xl mx-auto",children:[(0,zm.jsx)("button",{onClick:()=>e("/profile"),className:"p-1.5 sm:p-2 hover:bg-gray-100 rounded-full transition-colors active:scale-95","aria-label":"Go back",children:(0,zm.jsx)(jh,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-900"})}),(0,zm.jsx)("h1",{className:"text-lg sm:text-xl font-bold text-gray-900 font-poppins",children:"Edit Profile"})]})}),(0,zm.jsxs)("div",{className:"max-w-4xl mx-auto px-3 sm:px-4 md:px-6 py-4 sm:py-6 pb-32 sm:pb-40",children:[(0,zm.jsxs)("div",{className:"flex gap-1 sm:gap-2 mb-4 sm:mb-6 border-b border-gray-200 overflow-x-auto",children:[(0,zm.jsx)("button",{onClick:()=>l("user"),className:"px-3 sm:px-4 py-2 font-poppins text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ".concat("user"===o?"text-[#6A00FF] border-b-2 border-[#6A00FF]":"text-gray-600 active:text-gray-900"),children:"User Profile"}),u&&(0,zm.jsx)("button",{onClick:()=>l("provider"),className:"px-3 sm:px-4 py-2 font-poppins text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ".concat("provider"===o?"text-[#6A00FF] border-b-2 border-[#6A00FF]":"text-gray-600 active:text-gray-900"),children:"Business Profile"})]}),(0,zm.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(!0);try{if("user"===o){const e={name:y.name,email:y.email,phone:y.phone,profile_picture:""===y.profile_picture?null:y.profile_picture,banner:""===y.banner?null:y.banner};await ua.updateProfile(e),It.success("Profile updated successfully!")}else"provider"===o&&u&&(await Mn({name:y.name_provider,phone:y.phone_provider,business_name:y.business_name,location:y.location,gst_number:y.gst_number,business_address:y.business_address,handle_address:y.handle_address}),It.success("Provider profile updated successfully!"));e("/profile")}catch(xf){var s,r;console.error("Error updating profile:",xf),It.error((null===(s=xf.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.error)||"Failed to update profile")}finally{i(!1)}},className:"space-y-4 sm:space-y-6",children:["user"===o?(0,zm.jsxs)("div",{className:"space-y-4 sm:space-y-5",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2 font-poppins",children:"Profile Banner"}),(0,zm.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,zm.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[(0,zm.jsx)("input",{type:"url",name:"banner",value:y.banner,onChange:w,placeholder:"Paste URL or upload",className:"flex-1 px-3 sm:px-4 py-2.5 sm:py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent font-poppins"}),(0,zm.jsx)("button",{type:"button",onClick:()=>{var e;return null===(e=g.current)||void 0===e?void 0:e.click()},disabled:m,className:"px-4 py-2.5 sm:py-2 bg-[#6A00FF] hover:bg-purple-700 active:bg-purple-800 text-white rounded-lg transition-colors font-poppins text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 min-w-[100px] sm:min-w-[120px]",children:m?(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)(ph,{className:"w-4 h-4 animate-spin"}),(0,zm.jsx)("span",{className:"hidden sm:inline",children:"Uploading..."})]}):(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)(fx,{className:"w-4 h-4"}),(0,zm.jsx)("span",{children:"Upload"})]})}),(0,zm.jsx)("input",{ref:g,type:"file",accept:"image/*",onChange:async e=>{var t;const s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s){h(!0);try{const e=await Hn(s);e.ok&&e.url?(v(t=>Be(Be({},t),{},{banner:e.url})),It.success("Banner uploaded successfully!")):It.error(e.message||"Failed to upload banner")}catch(xf){console.error("Error uploading banner:",xf),It.error("Failed to upload banner")}finally{h(!1),g.current&&(g.current.value="")}}},className:"hidden"})]}),y.banner&&(0,zm.jsxs)("div",{className:"mt-2 w-full h-24 sm:h-32 rounded-lg overflow-hidden border border-gray-200 relative",children:[(0,zm.jsx)("img",{src:y.banner,alt:"Banner preview",className:"w-full h-full object-cover"}),(0,zm.jsx)("button",{type:"button",onClick:()=>v(e=>Be(Be({},e),{},{banner:""})),className:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white rounded-full p-1.5 sm:p-2 transition-colors","aria-label":"Remove banner",children:(0,zm.jsx)(uh,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2 font-poppins",children:"Profile Picture"}),(0,zm.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[y.profile_picture&&(0,zm.jsx)("div",{className:"flex justify-center sm:justify-start mb-2",children:(0,zm.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full overflow-hidden border-2 border-gray-200 flex-shrink-0",children:(0,zm.jsx)("img",{src:y.profile_picture,alt:"Profile preview",className:"w-full h-full object-cover"})})}),(0,zm.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[(0,zm.jsx)("input",{type:"url",name:"profile_picture",value:y.profile_picture,onChange:w,placeholder:"Paste URL or upload",className:"flex-1 px-3 sm:px-4 py-2.5 sm:py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent font-poppins"}),(0,zm.jsxs)("div",{className:"flex gap-2 sm:gap-3",children:[(0,zm.jsx)("button",{type:"button",onClick:()=>{var e;return null===(e=b.current)||void 0===e?void 0:e.click()},disabled:x,className:"flex-1 sm:flex-none px-4 py-2.5 sm:py-2 bg-[#6A00FF] hover:bg-purple-700 active:bg-purple-800 text-white rounded-lg transition-colors font-poppins text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 min-w-[100px] sm:min-w-[120px]",children:x?(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)(ph,{className:"w-4 h-4 animate-spin"}),(0,zm.jsx)("span",{className:"hidden sm:inline",children:"Uploading..."})]}):(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)(fx,{className:"w-4 h-4"}),(0,zm.jsx)("span",{children:"Upload"})]})}),y.profile_picture&&(0,zm.jsx)("button",{type:"button",onClick:()=>v(e=>Be(Be({},e),{},{profile_picture:""})),className:"px-3 sm:px-4 py-2.5 sm:py-2 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white rounded-lg transition-colors font-poppins text-sm whitespace-nowrap",children:"Remove"})]}),(0,zm.jsx)("input",{ref:b,type:"file",accept:"image/*",onChange:async e=>{var t;const s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s){f(!0);try{const e=await Hn(s);e.ok&&e.url?(v(t=>Be(Be({},t),{},{profile_picture:e.url})),It.success("Profile picture uploaded successfully!")):It.error(e.message||"Failed to upload profile picture")}catch(xf){console.error("Error uploading profile picture:",xf),It.error("Failed to upload profile picture")}finally{f(!1),b.current&&(b.current.value="")}}},className:"hidden"})]})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2 font-poppins",children:"Full Name"}),(0,zm.jsx)("input",{type:"text",name:"name",value:y.name,onChange:w,required:!0,className:"w-full px-3 sm:px-4 py-2.5 sm:py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent font-poppins"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2 font-poppins",children:"Email"}),(0,zm.jsx)("input",{type:"email",name:"email",value:y.email,onChange:w,required:!0,className:"w-full px-3 sm:px-4 py-2.5 sm:py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent font-poppins"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2 font-poppins",children:"Phone"}),(0,zm.jsx)("input",{type:"tel",name:"phone",value:y.phone,onChange:w,className:"w-full px-3 sm:px-4 py-2.5 sm:py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent font-poppins"})]})]}):(0,zm.jsxs)("div",{className:"space-y-4 sm:space-y-5",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2 font-poppins",children:"Business Name"}),(0,zm.jsx)("input",{type:"text",name:"business_name",value:y.business_name,onChange:w,required:!0,className:"w-full px-3 sm:px-4 py-2.5 sm:py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent font-poppins"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2 font-poppins",children:"Business Type"}),(0,zm.jsxs)("select",{name:"type",value:y.type,onChange:w,disabled:!0,className:"w-full px-3 sm:px-4 py-2.5 sm:py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent font-poppins bg-gray-100 cursor-not-allowed",children:[(0,zm.jsx)("option",{value:"brand",children:"Brand"}),(0,zm.jsx)("option",{value:"influencer",children:"Influencer"})]}),(0,zm.jsx)("p",{className:"text-xs text-gray-500 mt-1 font-poppins",children:"Business type cannot be changed"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2 font-poppins",children:"Location"}),(0,zm.jsx)("input",{type:"text",name:"location",value:y.location,onChange:w,className:"w-full px-3 sm:px-4 py-2.5 sm:py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent font-poppins"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2 font-poppins",children:"Handle/Website"}),(0,zm.jsx)("input",{type:"text",name:"handle_address",value:y.handle_address,onChange:w,placeholder:"https://example.com or @handle",className:"w-full px-3 sm:px-4 py-2.5 sm:py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent font-poppins"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2 font-poppins",children:"GST Number (Optional)"}),(0,zm.jsx)("input",{type:"text",name:"gst_number",value:y.gst_number,onChange:w,className:"w-full px-3 sm:px-4 py-2.5 sm:py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent font-poppins"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2 font-poppins",children:"Business Address (Optional)"}),(0,zm.jsx)("textarea",{name:"business_address",value:y.business_address,onChange:w,rows:3,className:"w-full px-3 sm:px-4 py-2.5 sm:py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent font-poppins resize-none"})]})]}),(0,zm.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 pt-4 sm:pt-6",children:[(0,zm.jsx)("button",{type:"button",onClick:()=>e("/profile"),className:"w-full sm:w-auto px-6 py-3 sm:py-2 border border-gray-300 rounded-lg hover:bg-gray-50 active:bg-gray-100 transition-colors font-poppins text-sm sm:text-base",children:"Cancel"}),(0,zm.jsx)("button",{type:"submit",disabled:n,className:"w-full sm:flex-1 flex items-center justify-center gap-2 bg-[#6A00FF] hover:bg-purple-700 active:bg-purple-800 text-white px-6 py-3 sm:py-2 rounded-lg transition-colors font-poppins text-sm sm:text-base disabled:opacity-50 disabled:cursor-not-allowed",children:n?(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)(ph,{className:"w-4 h-4 animate-spin"}),(0,zm.jsx)("span",{children:"Saving..."})]}):(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)(gx,{className:"w-4 h-4"}),(0,zm.jsx)("span",{children:"Save Changes"})]})})]})]})]})]})},yx=Zm("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),vx=Zm("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),jx=Zm("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),wx=Zm("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Nx=Zm("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),_x=()=>{var e,t;const s=te(),{user:r}=Vm(),[n,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(null);(0,a.useEffect)(()=>{u()},[]);const u=async()=>{try{i(!0);const[e,t]=await Promise.all([ua.getProfile().catch(()=>null),ra().catch(()=>null)]);l((null===e||void 0===e?void 0:e.user)||e||null),d((null===t||void 0===t?void 0:t.subscription)||t||null)}catch(xf){console.error("Error loading settings data:",xf),It.error("Failed to load settings")}finally{i(!1)}},p=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(Ve){return"N/A"}};if(n)return(0,zm.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-12 h-12 border-4 border-gray-200 border-t-[#6A00FF] rounded-full animate-spin mx-auto mb-4"}),(0,zm.jsx)("p",{className:"text-gray-500 font-poppins",children:"Loading settings..."})]})});const m=(()=>{var e,t;if(!c||!c.is_subscribed)return{status:"Free",color:"text-gray-600",icon:ex};const s=new Date,r=null!==(e=null!==(t=c.expires_at)&&void 0!==t?t:c.subscription_expiration)&&void 0!==e?e:null;if(!r)return{status:"Active",color:"text-green-600",icon:Zh};try{return new Date(r)>s?{status:"Active",color:"text-green-600",icon:Zh}:{status:"Expired",color:"text-red-600",icon:ex}}catch(xf){return{status:"Active",color:"text-green-600",icon:Zh}}})(),h=m.icon,x=(null===c||void 0===c?void 0:c.is_subscribed)&&"Active"===m.status;return(0,zm.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,zm.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 py-4 sticky top-0 z-20",children:(0,zm.jsxs)("div",{className:"flex items-center gap-4 max-w-4xl mx-auto",children:[(0,zm.jsx)("button",{onClick:()=>s("/profile"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,zm.jsx)(jh,{className:"w-5 h-5 text-gray-900"})}),(0,zm.jsx)("h1",{className:"text-xl font-bold text-gray-900 font-poppins",children:"Subscription Details"})]})}),(0,zm.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-6 pb-32 sm:pb-24",children:(0,zm.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 mb-6",children:[(0,zm.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,zm.jsx)("h2",{className:"text-lg font-semibold text-gray-900 font-poppins",children:"Subscription Details"})}),(0,zm.jsxs)("div",{className:"p-6 space-y-6",children:[(0,zm.jsx)("div",{className:"rounded-lg p-4 border-2 ".concat("Active"===m.status?"bg-green-50 border-green-200":"Expired"===m.status?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200"),children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-3",children:[(0,zm.jsx)(h,{className:"w-6 h-6 ".concat(m.color)}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-sm text-gray-600 font-poppins",children:"Subscription Status"}),(0,zm.jsx)("p",{className:"text-lg font-semibold font-poppins ".concat(m.color),children:m.status})]})]}),"Active"===m.status&&(0,zm.jsx)(yx,{className:"w-6 h-6 text-yellow-500"})]})}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h3",{className:"text-md font-semibold text-gray-900 mb-4 font-poppins",children:"Account Information"}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,zm.jsx)(hh,{className:"w-4 h-4 text-gray-500"}),(0,zm.jsx)("p",{className:"text-xs text-gray-500 font-poppins",children:"Username"})]}),(0,zm.jsxs)("p",{className:"text-sm font-medium text-gray-900 font-poppins",children:["@",(null===o||void 0===o?void 0:o.username)||"N/A"]})]}),(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,zm.jsx)(vx,{className:"w-4 h-4 text-gray-500"}),(0,zm.jsx)("p",{className:"text-xs text-gray-500 font-poppins",children:"Email"})]}),(0,zm.jsx)("p",{className:"text-sm font-medium text-gray-900 font-poppins truncate",children:(null===o||void 0===o?void 0:o.email)||"N/A"})]}),(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,zm.jsx)(jx,{className:"w-4 h-4 text-gray-500"}),(0,zm.jsx)("p",{className:"text-xs text-gray-500 font-poppins",children:"Phone"})]}),(0,zm.jsx)("p",{className:"text-sm font-medium text-gray-900 font-poppins",children:(null===o||void 0===o?void 0:o.phone)||"N/A"})]}),(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,zm.jsx)(wx,{className:"w-4 h-4 text-gray-500"}),(0,zm.jsx)("p",{className:"text-xs text-gray-500 font-poppins",children:"Member Since"})]}),(0,zm.jsx)("p",{className:"text-sm font-medium text-gray-900 font-poppins",children:p(null===o||void 0===o?void 0:o.created_at)})]}),(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,zm.jsx)(Nx,{className:"w-4 h-4 text-gray-500"}),(0,zm.jsx)("p",{className:"text-xs text-gray-500 font-poppins",children:"Account Type"})]}),(0,zm.jsx)("p",{className:"text-sm font-medium text-gray-900 font-poppins capitalize",children:(null===o||void 0===o?void 0:o.type)||"NORMAL"})]})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h3",{className:"text-md font-semibold text-gray-900 mb-4 font-poppins",children:"Subscription Information"}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,zm.jsx)("p",{className:"text-xs text-gray-500 font-poppins mb-2",children:"Uploads Remaining"}),(0,zm.jsxs)("p",{className:"text-lg font-semibold text-gray-900 font-poppins",children:[null!==(e=null===o||void 0===o?void 0:o.uploads_remaining)&&void 0!==e?e:0," / ","premium"===(null===o||void 0===o?void 0:o.subscription_status)||x?"Unlimited":"5"]})]}),(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,zm.jsx)("p",{className:"text-xs text-gray-500 font-poppins mb-2",children:"Total Uploads"}),(0,zm.jsx)("p",{className:"text-lg font-semibold text-gray-900 font-poppins",children:null!==(t=null===o||void 0===o?void 0:o.total_uploads)&&void 0!==t?t:0})]}),(null===c||void 0===c?void 0:c.expires_at)&&(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,zm.jsx)(Ph,{className:"w-4 h-4 text-gray-500"}),(0,zm.jsx)("p",{className:"text-xs text-gray-500 font-poppins",children:"Expires On"})]}),(0,zm.jsx)("p",{className:"text-sm font-medium text-gray-900 font-poppins",children:p(c.expires_at)})]}),(null===c||void 0===c?void 0:c.subscription_expiration)&&!(null!==c&&void 0!==c&&c.expires_at)&&(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,zm.jsx)(Ph,{className:"w-4 h-4 text-gray-500"}),(0,zm.jsx)("p",{className:"text-xs text-gray-500 font-poppins",children:"Expires On"})]}),(0,zm.jsx)("p",{className:"text-sm font-medium text-gray-900 font-poppins",children:p(c.subscription_expiration)})]})]})]}),!x&&(0,zm.jsx)("div",{className:"bg-gradient-to-r from-[#6A00FF]/10 to-purple-100 rounded-lg p-6 border border-[#6A00FF]/20",children:(0,zm.jsxs)("div",{className:"flex items-start gap-4",children:[(0,zm.jsx)("div",{className:"flex-shrink-0",children:(0,zm.jsx)(yx,{className:"w-8 h-8 text-[#6A00FF]"})}),(0,zm.jsxs)("div",{className:"flex-1",children:[(0,zm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2 font-poppins",children:"Upgrade to Premium"}),(0,zm.jsx)("p",{className:"text-sm text-gray-600 mb-4 font-poppins",children:"Get unlimited uploads, priority support, and access to all premium features."}),(0,zm.jsx)("button",{onClick:()=>s("/subscription/upgrade",{state:{from:"settings"}}),className:"bg-[#6A00FF] hover:bg-purple-700 text-white px-6 py-3 rounded-lg transition-colors font-semibold font-poppins",children:"View Plans & Upgrade"})]})]})}),x&&(0,zm.jsx)("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200",children:(0,zm.jsxs)("div",{className:"flex items-start gap-4",children:[(0,zm.jsx)("div",{className:"flex-shrink-0",children:(0,zm.jsx)(Zh,{className:"w-8 h-8 text-green-600"})}),(0,zm.jsxs)("div",{className:"flex-1",children:[(0,zm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2 font-poppins",children:"Premium Benefits Active"}),(0,zm.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600 font-poppins",children:[(0,zm.jsxs)("li",{className:"flex items-center gap-2",children:[(0,zm.jsx)(Zh,{className:"w-4 h-4 text-green-600"}),"Unlimited uploads"]}),(0,zm.jsxs)("li",{className:"flex items-center gap-2",children:[(0,zm.jsx)(Zh,{className:"w-4 h-4 text-green-600"}),"Priority support"]}),(0,zm.jsxs)("li",{className:"flex items-center gap-2",children:[(0,zm.jsx)(Zh,{className:"w-4 h-4 text-green-600"}),"Access to all premium features"]})]})]})]})})]})]})})]})},kx=Zm("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Sx=()=>{var e,t,s;const r=te(),{user:n}=Vm(),[i,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)("overview");(0,a.useEffect)(()=>{p()},[]);const p=async()=>{try{o(!0);const[e,t,s,r,a]=await Promise.all([ua.getProfile().catch(()=>null),Yn().catch(()=>({listings:[],pending_requests:[]})),ua.getMyVideos().catch(()=>({ok:!1,videos:[]})),n?ua.getFollowers(n.user_id).catch(()=>({ok:!1,followers:[]})):Promise.resolve({ok:!1,followers:[]}),n?ua.getFollowing(n.user_id).catch(()=>({ok:!1,following:[]})):Promise.resolve({ok:!1,following:[]})]),i=(null===e||void 0===e?void 0:e.user)||e||null,l=(null===t||void 0===t?void 0:t.listings)||[],d=(null===t||void 0===t?void 0:t.pending_requests)||[],u=[...d,...l],p=(null===s||void 0===s?void 0:s.videos)||[],m=(null===r||void 0===r?void 0:r.followers)||[],h=(null===a||void 0===a?void 0:a.following)||[],x=(null===i||void 0===i?void 0:i.follower_count)||m.length,f=(null===i||void 0===i?void 0:i.following_count)||h.length,g=u.filter(e=>"PRODUCT"===e.type),b=u.filter(e=>"SERVICE"===e.type),y=p.reduce((e,t)=>e+(t.view_count||0),0),v=p.reduce((e,t)=>e+(t.like_count||0),0),j=p.reduce((e,t)=>e+(t.click_count||0),0),w=u.reduce((e,t)=>e+(t.view_count||0),0),N=u.reduce((e,t)=>e+(t.like_count||0),0),_=y+w,k=v+N,S=u.reduce((e,t)=>e+(t.click_count||0),0),C={},E={};p.forEach(e=>{if(e.created_at){const t=new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"});C[t]=(C[t]||0)+(e.view_count||0),E[t]=(E[t]||0)+(e.like_count||0)}}),u.forEach(e=>{if(e.created_at){const t=new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"});C[t]=(C[t]||0)+(e.view_count||0),E[t]=(E[t]||0)+(e.like_count||0)}});const P=Object.keys(C).map(e=>({date:e,views:C[e]||0,likes:E[e]||0})).sort((e,t)=>new Date(e.date)-new Date(t.date));c({user:i,totalListings:u.length,videosCount:p.length,productsCount:g.length,servicesCount:b.length,pending:d.length,totalViews:_,totalLikes:k,totalClicks:S,totalVideoClicks:j,followerCount:x,followingCount:f,totalUploads:(null===i||void 0===i?void 0:i.total_uploads)||0,chartData:P,allListings:u,videos:p,products:g,services:b,followers:m,following:h})}catch(xf){console.error("Error loading analytics:",xf),It.error("Failed to load analytics")}finally{o(!1)}},m=(e,t)=>e&&0!==e.length?Math.max(...e.map(e=>e[t]),1):1,h=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";if(i)return(0,zm.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)(ux,{className:"w-12 h-12 animate-pulse text-[#6A00FF] mx-auto mb-4"}),(0,zm.jsx)("p",{className:"text-gray-500 font-poppins",children:"Loading analytics..."})]})});if(!l)return(0,zm.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,zm.jsx)("div",{className:"text-center",children:(0,zm.jsx)("p",{className:"text-gray-500 font-poppins",children:"No analytics data available"})})});const x=m(l.chartData,"views"),f=m(l.chartData,"likes");return(0,zm.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,zm.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 py-4 sticky top-0 z-20",children:(0,zm.jsxs)("div",{className:"flex items-center gap-4 max-w-6xl mx-auto",children:[(0,zm.jsx)("button",{onClick:()=>r("/profile"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,zm.jsx)(jh,{className:"w-5 h-5 text-gray-900"})}),(0,zm.jsx)("h1",{className:"text-xl font-bold text-gray-900 font-poppins",children:"Analytics"})]})}),(0,zm.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-6",children:[(0,zm.jsx)("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2 border-b border-gray-200",children:[{id:"overview",label:"Overview",icon:ux},{id:"videos",label:"Videos (".concat(l.videosCount,")"),icon:Vh},{id:"products",label:"Products (".concat(l.productsCount,")"),icon:xh},{id:"services",label:"Services (".concat(l.servicesCount,")"),icon:ih},{id:"followers",label:"Followers (".concat(l.followerCount,")"),icon:Th},{id:"following",label:"Following (".concat(l.followingCount,")"),icon:kh}].map(e=>(0,zm.jsxs)("button",{onClick:()=>u(e.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-poppins text-sm whitespace-nowrap transition-colors ".concat(d===e.id?"bg-[#6A00FF] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,zm.jsx)(e.icon,{className:"w-4 h-4"}),(0,zm.jsx)("span",{children:e.label})]},e.id))}),"overview"===d&&(0,zm.jsxs)("div",{className:"space-y-6",children:[(0,zm.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4",children:[(0,zm.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,zm.jsx)(Vh,{className:"w-5 h-5 text-blue-600"}),(0,zm.jsx)("span",{className:"text-sm font-medium text-gray-600 font-poppins",children:"Videos"})]}),(0,zm.jsx)("p",{className:"text-2xl font-bold text-gray-900 font-poppins",children:l.videosCount}),(0,zm.jsx)("p",{className:"text-xs text-gray-500 font-poppins mt-1",children:"Total videos"})]}),(0,zm.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,zm.jsx)(lh,{className:"w-5 h-5 text-purple-600"}),(0,zm.jsx)("span",{className:"text-sm font-medium text-gray-600 font-poppins",children:"Views"})]}),(0,zm.jsx)("p",{className:"text-2xl font-bold text-gray-900 font-poppins",children:l.totalViews.toLocaleString()}),(0,zm.jsx)("p",{className:"text-xs text-gray-500 font-poppins mt-1",children:"Total views"})]}),(0,zm.jsxs)("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 rounded-lg p-4 border border-pink-200",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,zm.jsx)(ch,{className:"w-5 h-5 text-pink-600"}),(0,zm.jsx)("span",{className:"text-sm font-medium text-gray-600 font-poppins",children:"Likes"})]}),(0,zm.jsx)("p",{className:"text-2xl font-bold text-gray-900 font-poppins",children:l.totalLikes.toLocaleString()}),(0,zm.jsx)("p",{className:"text-xs text-gray-500 font-poppins mt-1",children:"Total likes"})]}),(0,zm.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-4 border border-orange-200",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,zm.jsx)(kx,{className:"w-5 h-5 text-orange-600"}),(0,zm.jsx)("span",{className:"text-sm font-medium text-gray-600 font-poppins",children:"Video Clicks"})]}),(0,zm.jsx)("p",{className:"text-2xl font-bold text-gray-900 font-poppins",children:l.totalVideoClicks.toLocaleString()}),(0,zm.jsx)("p",{className:"text-xs text-gray-500 font-poppins mt-1",children:"Total video clicks"})]}),(0,zm.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,zm.jsx)(Th,{className:"w-5 h-5 text-green-600"}),(0,zm.jsx)("span",{className:"text-sm font-medium text-gray-600 font-poppins",children:"Followers"})]}),(0,zm.jsx)("p",{className:"text-2xl font-bold text-gray-900 font-poppins",children:l.followerCount.toLocaleString()}),(0,zm.jsxs)("p",{className:"text-xs text-gray-500 font-poppins mt-1",children:[l.followingCount," following"]})]})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,zm.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,zm.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 font-poppins",children:"Content Statistics"}),(0,zm.jsxs)("div",{className:"space-y-4",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zm.jsx)(Vh,{className:"w-4 h-4 text-gray-500"}),(0,zm.jsx)("span",{className:"text-sm text-gray-600 font-poppins",children:"Videos"})]}),(0,zm.jsx)("span",{className:"text-lg font-bold text-gray-900 font-poppins",children:l.videosCount})]}),(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zm.jsx)(xh,{className:"w-4 h-4 text-gray-500"}),(0,zm.jsx)("span",{className:"text-sm text-gray-600 font-poppins",children:"Products"})]}),(0,zm.jsx)("span",{className:"text-lg font-bold text-gray-900 font-poppins",children:l.productsCount})]}),(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zm.jsx)(ih,{className:"w-4 h-4 text-gray-500"}),(0,zm.jsx)("span",{className:"text-sm text-gray-600 font-poppins",children:"Services"})]}),(0,zm.jsx)("span",{className:"text-lg font-bold text-gray-900 font-poppins",children:l.servicesCount})]}),(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zm.jsx)(Eh,{className:"w-4 h-4 text-gray-500"}),(0,zm.jsx)("span",{className:"text-sm text-gray-600 font-poppins",children:"Pending"})]}),(0,zm.jsx)("span",{className:"text-lg font-bold text-gray-900 font-poppins",children:l.pending})]}),(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zm.jsx)(ux,{className:"w-4 h-4 text-gray-500"}),(0,zm.jsx)("span",{className:"text-sm text-gray-600 font-poppins",children:"Total Uploads"})]}),(0,zm.jsx)("span",{className:"text-lg font-bold text-gray-900 font-poppins",children:l.totalUploads})]})]})]}),(0,zm.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,zm.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 font-poppins",children:"Engagement"}),(0,zm.jsxs)("div",{className:"space-y-4",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zm.jsx)(lh,{className:"w-4 h-4 text-purple-600"}),(0,zm.jsx)("span",{className:"text-sm text-gray-600 font-poppins",children:"Total Views"})]}),(0,zm.jsx)("span",{className:"text-lg font-bold text-gray-900 font-poppins",children:l.totalViews.toLocaleString()})]}),(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zm.jsx)(ch,{className:"w-4 h-4 text-pink-600"}),(0,zm.jsx)("span",{className:"text-sm text-gray-600 font-poppins",children:"Total Likes"})]}),(0,zm.jsx)("span",{className:"text-lg font-bold text-gray-900 font-poppins",children:l.totalLikes.toLocaleString()})]}),l.totalClicks>0&&(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zm.jsx)(Eh,{className:"w-4 h-4 text-blue-600"}),(0,zm.jsx)("span",{className:"text-sm text-gray-600 font-poppins",children:"Total Clicks"})]}),(0,zm.jsx)("span",{className:"text-lg font-bold text-gray-900 font-poppins",children:l.totalClicks.toLocaleString()})]}),(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zm.jsx)(kh,{className:"w-4 h-4 text-green-600"}),(0,zm.jsx)("span",{className:"text-sm text-gray-600 font-poppins",children:"Followers"})]}),(0,zm.jsx)("span",{className:"text-lg font-bold text-gray-900 font-poppins",children:l.followerCount.toLocaleString()})]})]})]})]}),l.chartData&&l.chartData.length>0&&(0,zm.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,zm.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 font-poppins",children:"Views & Likes Over Time"}),(0,zm.jsxs)("div",{className:"space-y-6",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,zm.jsx)("span",{className:"text-sm font-medium text-gray-700 font-poppins",children:"Views"}),(0,zm.jsxs)("span",{className:"text-xs text-gray-500 font-poppins",children:[x.toLocaleString()," max"]})]}),(0,zm.jsx)("div",{className:"flex items-end gap-1 h-32",children:l.chartData.map((e,t)=>(0,zm.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,zm.jsx)("div",{className:"w-full bg-purple-500 rounded-t transition-all hover:bg-purple-600",style:{height:"".concat(e.views/x*100,"%")},title:"".concat(e.date,": ").concat(e.views," views")}),(0,zm.jsx)("span",{className:"text-[10px] text-gray-500 mt-1 font-poppins transform -rotate-45 origin-top-left whitespace-nowrap",children:e.date.split(" ")[1]})]},t))})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,zm.jsx)("span",{className:"text-sm font-medium text-gray-700 font-poppins",children:"Likes"}),(0,zm.jsxs)("span",{className:"text-xs text-gray-500 font-poppins",children:[f.toLocaleString()," max"]})]}),(0,zm.jsx)("div",{className:"flex items-end gap-1 h-32",children:l.chartData.map((e,t)=>(0,zm.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,zm.jsx)("div",{className:"w-full bg-pink-500 rounded-t transition-all hover:bg-pink-600",style:{height:"".concat(e.likes/f*100,"%")},title:"".concat(e.date,": ").concat(e.likes," likes")}),(0,zm.jsx)("span",{className:"text-[10px] text-gray-500 mt-1 font-poppins transform -rotate-45 origin-top-left whitespace-nowrap",children:e.date.split(" ")[1]})]},t))})]})]})]}),(0,zm.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,zm.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 font-poppins",children:"Account Information"}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-xs text-gray-500 font-poppins mb-1",children:"Username"}),(0,zm.jsxs)("p",{className:"text-sm font-medium text-gray-900 font-poppins",children:["@",(null===(e=l.user)||void 0===e?void 0:e.username)||"N/A"]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-xs text-gray-500 font-poppins mb-1",children:"Account Type"}),(0,zm.jsx)("p",{className:"text-sm font-medium text-gray-900 font-poppins capitalize",children:(null===(t=l.user)||void 0===t?void 0:t.type)||"NORMAL"})]}),(null===(s=l.user)||void 0===s?void 0:s.created_at)&&(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-xs text-gray-500 font-poppins mb-1",children:"Member Since"}),(0,zm.jsx)("p",{className:"text-sm font-medium text-gray-900 font-poppins",children:new Date(l.user.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long"})})]})]})]})]}),"videos"===d&&(0,zm.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,zm.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,zm.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 font-poppins",children:["All Videos (",l.videosCount,")"]}),(0,zm.jsxs)("p",{className:"text-sm text-gray-500 font-poppins mt-1",children:["Total Views: ",l.videos.reduce((e,t)=>e+(t.view_count||0),0).toLocaleString()," | Total Likes: ",l.videos.reduce((e,t)=>e+(t.like_count||0),0).toLocaleString()]})]}),(0,zm.jsx)("div",{className:"p-4",children:l.videos.length>0?(0,zm.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:l.videos.map(e=>(e=>(0,zm.jsxs)("div",{className:"relative group cursor-pointer",onClick:()=>r("/watch/".concat(e.video_id)),children:[(0,zm.jsxs)("div",{className:"aspect-video rounded-lg bg-gray-200 overflow-hidden relative",children:[e.thumbnail_url?(0,zm.jsx)("img",{src:e.thumbnail_url,alt:"Video thumbnail",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):(0,zm.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-300 to-gray-400",children:(0,zm.jsx)(dh,{className:"w-12 h-12 text-white opacity-70"})}),e.video_status&&"APPROVED"!==e.video_status&&(0,zm.jsx)("div",{className:"absolute top-2 right-2 px-2 py-1 rounded text-xs font-poppins font-medium bg-black/70 text-white",children:e.video_status}),(0,zm.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,zm.jsxs)("div",{className:"flex items-center gap-3 text-white text-xs font-poppins",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-1",children:[(0,zm.jsx)(lh,{className:"w-3 h-3"}),(0,zm.jsx)("span",{children:e.view_count||0})]}),(0,zm.jsxs)("div",{className:"flex items-center gap-1",children:[(0,zm.jsx)(ch,{className:"w-3 h-3"}),(0,zm.jsx)("span",{children:e.like_count||0})]})]})})]}),(0,zm.jsx)("div",{className:"mt-2",children:(0,zm.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 font-poppins",children:[(0,zm.jsx)(wx,{className:"w-3 h-3"}),(0,zm.jsx)("span",{children:h(e.created_at)})]})})]},e.video_id))(e))}):(0,zm.jsxs)("div",{className:"p-8 text-center text-gray-500 font-poppins",children:[(0,zm.jsx)(Vh,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,zm.jsx)("p",{children:"No videos uploaded yet"})]})})]}),"products"===d&&(0,zm.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,zm.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,zm.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 font-poppins",children:["All Products (",l.productsCount,")"]}),(0,zm.jsxs)("p",{className:"text-sm text-gray-500 font-poppins mt-1",children:["Total Views: ",l.products.reduce((e,t)=>e+(t.view_count||0),0).toLocaleString()," | Total Likes: ",l.products.reduce((e,t)=>e+(t.like_count||0),0).toLocaleString()]})]}),(0,zm.jsx)("div",{className:"divide-y divide-gray-100",children:l.products.length>0?l.products.map(e=>(e=>(0,zm.jsxs)("div",{className:"flex items-center gap-3 p-3 border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[(0,zm.jsx)("div",{className:"w-16 h-16 rounded-lg bg-gray-200 flex-shrink-0 overflow-hidden",children:e.thumbnail_url||e.thumbnail?(0,zm.jsx)("img",{src:e.thumbnail_url||e.thumbnail,alt:e.product_name,className:"w-full h-full object-cover"}):(0,zm.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,zm.jsx)(xh,{className:"w-6 h-6 text-gray-400"})})}),(0,zm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,zm.jsx)("h3",{className:"font-semibold text-sm text-gray-900 font-poppins truncate",children:e.product_name}),(0,zm.jsxs)("div",{className:"flex items-center gap-4 mt-1",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,zm.jsx)(lh,{className:"w-3 h-3"}),(0,zm.jsx)("span",{children:e.view_count||0})]}),(0,zm.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,zm.jsx)(ch,{className:"w-3 h-3"}),(0,zm.jsx)("span",{children:e.like_count||0})]}),e.click_count>0&&(0,zm.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,zm.jsx)(kx,{className:"w-3 h-3"}),(0,zm.jsx)("span",{children:e.click_count})]}),(0,zm.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,zm.jsx)(wx,{className:"w-3 h-3"}),(0,zm.jsx)("span",{children:h(e.created_at)})]})]})]}),(0,zm.jsxs)("div",{className:"text-right",children:[e.price&&(0,zm.jsxs)("div",{className:"text-sm font-semibold text-gray-900 font-poppins",children:["\u20b9",e.price]}),(0,zm.jsx)("div",{className:"text-xs text-gray-500 font-poppins",children:"Product"})]})]},e.listing_id))(e)):(0,zm.jsxs)("div",{className:"p-8 text-center text-gray-500 font-poppins",children:[(0,zm.jsx)(xh,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,zm.jsx)("p",{children:"No products uploaded yet"})]})})]}),"services"===d&&(0,zm.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,zm.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,zm.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 font-poppins",children:["All Services (",l.servicesCount,")"]}),(0,zm.jsxs)("p",{className:"text-sm text-gray-500 font-poppins mt-1",children:["Total Views: ",l.services.reduce((e,t)=>e+(t.view_count||0),0).toLocaleString()," | Total Likes: ",l.services.reduce((e,t)=>e+(t.like_count||0),0).toLocaleString()]})]}),(0,zm.jsx)("div",{className:"divide-y divide-gray-100",children:l.services.length>0?l.services.map(e=>(e=>(0,zm.jsxs)("div",{className:"flex items-center gap-3 p-3 border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[(0,zm.jsx)("div",{className:"w-16 h-16 rounded-lg bg-gray-200 flex-shrink-0 overflow-hidden",children:e.thumbnail_url||e.thumbnail?(0,zm.jsx)("img",{src:e.thumbnail_url||e.thumbnail,alt:e.product_name,className:"w-full h-full object-cover"}):(0,zm.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,zm.jsx)(ih,{className:"w-6 h-6 text-gray-400"})})}),(0,zm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,zm.jsx)("h3",{className:"font-semibold text-sm text-gray-900 font-poppins truncate",children:e.product_name}),(0,zm.jsxs)("div",{className:"flex items-center gap-4 mt-1",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,zm.jsx)(lh,{className:"w-3 h-3"}),(0,zm.jsx)("span",{children:e.view_count||0})]}),(0,zm.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,zm.jsx)(ch,{className:"w-3 h-3"}),(0,zm.jsx)("span",{children:e.like_count||0})]}),e.click_count>0&&(0,zm.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,zm.jsx)(kx,{className:"w-3 h-3"}),(0,zm.jsx)("span",{children:e.click_count})]}),(0,zm.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,zm.jsx)(wx,{className:"w-3 h-3"}),(0,zm.jsx)("span",{children:h(e.created_at)})]})]})]}),(0,zm.jsxs)("div",{className:"text-right",children:[e.price&&(0,zm.jsxs)("div",{className:"text-sm font-semibold text-gray-900 font-poppins",children:["\u20b9",e.price]}),(0,zm.jsx)("div",{className:"text-xs text-gray-500 font-poppins",children:"Service"})]})]},e.listing_id))(e)):(0,zm.jsxs)("div",{className:"p-8 text-center text-gray-500 font-poppins",children:[(0,zm.jsx)(ih,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,zm.jsx)("p",{children:"No services uploaded yet"})]})})]}),"followers"===d&&(0,zm.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,zm.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,zm.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 font-poppins",children:["Followers (",l.followerCount,")"]})}),(0,zm.jsx)("div",{className:"divide-y divide-gray-100",children:l.followers.length>0?l.followers.map(e=>(e=>(0,zm.jsxs)("div",{className:"flex items-center gap-3 p-2 border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{e.username?r("/profile/".concat(e.username)):r("/profile?user_id=".concat(e.user_id))},children:[(0,zm.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#6A00FF] to-purple-600 flex items-center justify-center border border-gray-200 flex-shrink-0",children:e.profile_image_url?(0,zm.jsx)("img",{src:e.profile_image_url,alt:e.full_name||e.username,className:"w-full h-full rounded-full object-cover"}):(0,zm.jsx)(Th,{className:"w-5 h-5 text-white"})}),(0,zm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,zm.jsx)("h3",{className:"font-semibold text-sm text-gray-900 font-poppins truncate",children:e.business_name||e.full_name||e.username||"User"}),e.username&&(0,zm.jsxs)("p",{className:"text-xs text-gray-500 font-poppins truncate",children:["@",e.username]})]})]},e.user_id))(e)):(0,zm.jsxs)("div",{className:"p-8 text-center text-gray-500 font-poppins",children:[(0,zm.jsx)(Th,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,zm.jsx)("p",{children:"No followers yet"})]})})]}),"following"===d&&(0,zm.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,zm.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,zm.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 font-poppins",children:["Following (",l.followingCount,")"]})}),(0,zm.jsx)("div",{className:"divide-y divide-gray-100",children:l.following.length>0?l.following.map(e=>(e=>(0,zm.jsxs)("div",{className:"flex items-center gap-3 p-2 border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{e.username?r("/profile/".concat(e.username)):r("/profile?user_id=".concat(e.user_id))},children:[(0,zm.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#6A00FF] to-purple-600 flex items-center justify-center border border-gray-200 flex-shrink-0",children:e.profile_image_url?(0,zm.jsx)("img",{src:e.profile_image_url,alt:e.full_name||e.username,className:"w-full h-full rounded-full object-cover"}):(0,zm.jsx)(Th,{className:"w-5 h-5 text-white"})}),(0,zm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,zm.jsx)("h3",{className:"font-semibold text-sm text-gray-900 font-poppins truncate",children:e.business_name||e.full_name||e.username||"User"}),e.username&&(0,zm.jsxs)("p",{className:"text-xs text-gray-500 font-poppins truncate",children:["@",e.username]})]})]},e.user_id))(e)):(0,zm.jsxs)("div",{className:"p-8 text-center text-gray-500 font-poppins",children:[(0,zm.jsx)(kh,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,zm.jsx)("p",{children:"Not following anyone yet"})]})})]})]})]})},Cx=()=>{const[e]=Re(),t=e.get("user_id"),s=te(),[r,n]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0);(0,a.useEffect)(()=>{t?l():(It.error("User ID required"),s("/"))},[t]);const l=async()=>{try{o(!0);const e=await ua.getFollowers(parseInt(t));e.ok&&n(e.followers||[])}catch(xf){console.error("Error loading followers:",xf),It.error("Failed to load followers")}finally{o(!1)}};return(0,zm.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,zm.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 py-4 sticky top-0 z-20",children:(0,zm.jsxs)("div",{className:"flex items-center gap-4 max-w-4xl mx-auto",children:[(0,zm.jsx)("button",{onClick:()=>s(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,zm.jsx)(jh,{className:"w-5 h-5 text-gray-900"})}),(0,zm.jsx)("h1",{className:"text-xl font-bold text-gray-900 font-poppins",children:"Followers"})]})}),(0,zm.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:i?(0,zm.jsx)("div",{className:"text-center py-8 text-gray-500 text-sm font-poppins",children:"Loading followers..."}):r.length>0?(0,zm.jsx)("div",{className:"space-y-1",children:r.map(e=>(0,zm.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2 border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[(0,zm.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#6A00FF] to-purple-600 flex items-center justify-center border border-gray-200 flex-shrink-0 cursor-pointer",onClick:()=>{e.username?s("/profile/".concat(e.username)):s("/profile?user_id=".concat(e.user_id))},children:e.profile_image_url?(0,zm.jsx)("img",{src:e.profile_image_url,alt:e.full_name||e.username,className:"w-full h-full rounded-full object-cover"}):e.business_name?(0,zm.jsx)("span",{className:"text-white text-sm font-poppins font-bold",children:e.business_name.charAt(0).toUpperCase()}):(0,zm.jsx)(hh,{className:"w-5 h-5 text-white"})}),(0,zm.jsxs)("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>{e.username?s("/profile/".concat(e.username)):s("/profile?user_id=".concat(e.user_id))},children:[(0,zm.jsx)("h3",{className:"font-semibold text-sm text-gray-900 font-poppins truncate",children:e.business_name||e.full_name||e.username||"User"}),e.username&&(0,zm.jsxs)("p",{className:"text-xs text-gray-500 font-poppins truncate",children:["@",e.username]}),e.provider_type&&!e.username&&(0,zm.jsx)("p",{className:"text-xs text-gray-500 font-poppins capitalize truncate",children:e.provider_type.toLowerCase()})]})]},e.user_id))}):(0,zm.jsxs)("div",{className:"text-center py-12",children:[(0,zm.jsx)(hh,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,zm.jsx)("p",{className:"text-gray-500 font-poppins",children:"No followers yet"})]})})]})},Ex=()=>{const[e]=Re(),t=e.get("user_id"),s=te(),{user:r}=Vm(),[n,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(new Set);(0,a.useEffect)(()=>{t?u():(It.error("User ID required"),s("/"))},[t]);const u=async()=>{try{l(!0);const e=await ua.getFollowing(parseInt(t));e.ok&&i(e.following||[])}catch(xf){console.error("Error loading following:",xf),It.error("Failed to load following")}finally{l(!1)}},p=r&&t&&Number(t)===Number(r.user_id);return(0,zm.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,zm.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 py-4 sticky top-0 z-20",children:(0,zm.jsxs)("div",{className:"flex items-center gap-4 max-w-4xl mx-auto",children:[(0,zm.jsx)("button",{onClick:()=>s(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,zm.jsx)(jh,{className:"w-5 h-5 text-gray-900"})}),(0,zm.jsx)("h1",{className:"text-xl font-bold text-gray-900 font-poppins",children:"Following"})]})}),(0,zm.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:o?(0,zm.jsx)("div",{className:"text-center py-8 text-gray-500 text-sm font-poppins",children:"Loading following..."}):n.length>0?(0,zm.jsx)("div",{className:"space-y-1",children:n.map(e=>(0,zm.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2 border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[(0,zm.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#6A00FF] to-purple-600 flex items-center justify-center border border-gray-200 flex-shrink-0 cursor-pointer",onClick:()=>{e.username?s("/profile/".concat(e.username)):s("/profile?user_id=".concat(e.user_id))},children:e.profile_image_url?(0,zm.jsx)("img",{src:e.profile_image_url,alt:e.full_name||e.username,className:"w-full h-full rounded-full object-cover"}):e.business_name?(0,zm.jsx)("span",{className:"text-white text-sm font-poppins font-bold",children:e.business_name.charAt(0).toUpperCase()}):(0,zm.jsx)(hh,{className:"w-5 h-5 text-white"})}),(0,zm.jsxs)("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>{e.username?s("/profile/".concat(e.username)):s("/profile?user_id=".concat(e.user_id))},children:[(0,zm.jsx)("h3",{className:"font-semibold text-sm text-gray-900 font-poppins truncate",children:e.business_name||e.full_name||e.username||"User"}),e.username&&(0,zm.jsxs)("p",{className:"text-xs text-gray-500 font-poppins truncate",children:["@",e.username]}),e.provider_type&&!e.username&&(0,zm.jsx)("p",{className:"text-xs text-gray-500 font-poppins capitalize truncate",children:e.provider_type.toLowerCase()})]}),p&&(0,zm.jsxs)("button",{onClick:s=>(async(e,s)=>{if(s&&s.stopPropagation(),r){if(t&&Number(t)===Number(r.user_id)){d(t=>new Set(t).add(e));try{await ua.unfollow(e),i(t=>t.filter(t=>t.user_id!==e)),It.success("Unfollowed")}catch(xf){var n,a;console.error("Error unfollowing:",xf),It.error((null===xf||void 0===xf||null===(n=xf.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Failed to unfollow")}finally{d(t=>{const s=new Set(t);return s.delete(e),s})}}}else It.error("Please log in to unfollow users")})(e.user_id,s),disabled:c.has(e.user_id),className:"px-2.5 py-1.5 text-xs font-poppins rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-700 transition-colors flex items-center gap-1.5 flex-shrink-0",children:[(0,zm.jsx)(_h,{className:"w-3.5 h-3.5"}),(0,zm.jsx)("span",{className:"hidden sm:inline",children:"Unfollow"})]})]},e.user_id))}):(0,zm.jsxs)("div",{className:"text-center py-12",children:[(0,zm.jsx)(hh,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,zm.jsx)("p",{className:"text-gray-500 font-poppins",children:"Not following anyone yet"})]})})]})},Px=()=>{const[e,t]=(0,a.useState)(null),[s,r]=(0,a.useState)(!0),[n,i]=(0,a.useState)("");(0,a.useEffect)(()=>{o()},[]);const o=async()=>{try{r(!0);const e=await ma();e.ok?t(e.data):i(e.message||"Failed to load dashboard data")}catch(e){i("Network error. Please try again.")}finally{r(!1)}},l=e=>{let{title:t,value:s,icon:r,color:n,subtitle:a,trend:i}=e;return(0,zm.jsx)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:scale-105 ".concat(n),children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{className:"flex-1",children:[(0,zm.jsx)("p",{className:"text-gray-600 text-sm font-semibold mb-2 uppercase tracking-wide",children:t}),(0,zm.jsx)("p",{className:"text-4xl font-bold text-gray-900 mb-2",children:s}),a&&(0,zm.jsx)("p",{className:"text-gray-500 text-sm leading-relaxed",children:a}),i&&(0,zm.jsxs)("div",{className:"flex items-center mt-3",children:[(0,zm.jsx)("span",{className:"text-sm font-semibold ".concat(i.positive?"text-green-600":"text-red-600"),children:i.value}),(0,zm.jsx)("span",{className:"text-gray-500 text-sm ml-2",children:"vs last month"})]})]}),(0,zm.jsx)("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:r})]})})},c=e=>{let{label:t,value:s,helper:r}=e;return(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-2xl p-4 border border-gray-100 hover:bg-white hover:shadow-lg transition-all duration-200",children:[(0,zm.jsx)("p",{className:"text-sm text-gray-500 font-semibold uppercase tracking-wide mb-1",children:t}),(0,zm.jsx)("p",{className:"text-3xl font-extrabold text-gray-900",children:s}),r&&(0,zm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:r})]})},d=e=>{var t;let{activity:s}=e;return(0,zm.jsxs)("div",{className:"flex items-center space-x-4 p-5 hover:bg-gray-50 rounded-xl transition-all duration-200 border border-transparent hover:border-gray-100",children:[(0,zm.jsx)("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center text-white text-sm font-bold shadow-md",children:(null===(t=s.user_name)||void 0===t?void 0:t.charAt(0))||"U"}),(0,zm.jsxs)("div",{className:"flex-1",children:[(0,zm.jsx)("p",{className:"text-gray-900 font-semibold text-base",children:s.action}),(0,zm.jsxs)("p",{className:"text-gray-500 text-sm mt-1",children:[s.user_name," \u2022 ",s.timestamp]})]}),(0,zm.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold ".concat("user"===s.type?"bg-blue-100 text-blue-800":"listing"===s.type?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"),children:s.type})]})};if(s)return(0,zm.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-20 h-20 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),(0,zm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Dashboard"}),(0,zm.jsx)("p",{className:"text-lg text-gray-600",children:"Fetching your platform data..."})]})});if(n)return(0,zm.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,zm.jsxs)("div",{className:"text-center max-w-md",children:[(0,zm.jsx)("div",{className:"w-20 h-20 bg-red-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,zm.jsx)("svg",{className:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,zm.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Error Loading Dashboard"}),(0,zm.jsx)("p",{className:"text-gray-600 mb-8 text-lg leading-relaxed",children:n}),(0,zm.jsx)("button",{onClick:o,className:"bg-blue-600 text-white px-8 py-4 rounded-xl hover:bg-blue-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105",children:"Try Again"})]})});const u=e||{total_users:0,users_by_type:{NORMAL:0,INFLUENCER:0,BRAND:0},pending_approvals:0,active_subscriptions:0,expired_subscriptions:0,total_listings:0,pending_listings:0,revenue:{total:0,subscriptions:0,uploads:0},recent_activities:[]};return(0,zm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,zm.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,zm.jsx)("div",{className:"px-6 py-8",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Dashboard"}),(0,zm.jsx)("p",{className:"text-gray-600 text-lg",children:"Welcome back! Here's what's happening with your platform."})]}),(0,zm.jsx)("div",{className:"flex items-center space-x-4",children:(0,zm.jsxs)("button",{onClick:o,className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-all duration-200 flex items-center space-x-3 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,zm.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,zm.jsx)("span",{className:"font-semibold",children:"Refresh"})]})})]})})}),(0,zm.jsxs)("div",{className:"px-6 py-8",children:[(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,zm.jsx)(l,{title:"Total Users",value:u.total_users.toLocaleString(),subtitle:"".concat(u.users_by_type.NORMAL," Normal, ").concat(u.users_by_type.INFLUENCER," Influencers, ").concat(u.users_by_type.BRAND," Brands"),icon:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),color:"bg-blue-50"}),(0,zm.jsx)(l,{title:"Pending Approvals",value:u.pending_approvals,subtitle:"Influencers & Brands awaiting review",icon:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"bg-yellow-50"}),(0,zm.jsx)(l,{title:"Active Subscriptions",value:u.active_subscriptions,subtitle:"".concat(u.expired_subscriptions," expired"),icon:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),color:"bg-green-50"}),(0,zm.jsx)(l,{title:"Total Listings",value:u.total_listings.toLocaleString(),subtitle:"".concat(u.pending_listings," under review"),icon:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),color:"bg-purple-50"})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[(0,zm.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[(0,zm.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Platform Snapshot"}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,zm.jsxs)("div",{className:"space-y-4",children:[(0,zm.jsx)(c,{label:"Normal Users",value:u.users_by_type.NORMAL.toLocaleString(),helper:"Registered shoppers & viewers"}),(0,zm.jsx)(c,{label:"Influencers",value:u.users_by_type.INFLUENCER.toLocaleString(),helper:"Creators approved on the platform"}),(0,zm.jsx)(c,{label:"Brands",value:u.users_by_type.BRAND.toLocaleString(),helper:"Business accounts with listings"})]}),(0,zm.jsxs)("div",{className:"space-y-4",children:[(0,zm.jsx)(c,{label:"Pending Approvals",value:u.pending_approvals.toLocaleString(),helper:"Provider applications awaiting review"}),(0,zm.jsx)(c,{label:"Active Subscriptions",value:u.active_subscriptions.toLocaleString(),helper:"".concat(u.expired_subscriptions," expired")}),(0,zm.jsx)(c,{label:"Listings In Review",value:u.pending_listings.toLocaleString(),helper:"".concat(u.total_listings.toLocaleString()," total published listings")})]})]})]}),(0,zm.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[(0,zm.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Quick Actions"}),(0,zm.jsxs)("div",{className:"space-y-4",children:[(0,zm.jsx)("button",{className:"w-full bg-blue-600 text-white py-3 px-6 rounded-xl hover:bg-blue-700 transition-all duration-200 text-left font-semibold shadow-md hover:shadow-lg transform hover:scale-105",children:"Review Pending Approvals"}),(0,zm.jsx)("button",{className:"w-full bg-green-600 text-white py-3 px-6 rounded-xl hover:bg-green-700 transition-all duration-200 text-left font-semibold shadow-md hover:shadow-lg transform hover:scale-105",children:"Manage Subscriptions"}),(0,zm.jsx)("button",{className:"w-full bg-purple-600 text-white py-3 px-6 rounded-xl hover:bg-purple-700 transition-all duration-200 text-left font-semibold shadow-md hover:shadow-lg transform hover:scale-105",children:"View Analytics"}),(0,zm.jsx)("button",{className:"w-full bg-yellow-600 text-white py-3 px-6 rounded-xl hover:bg-yellow-700 transition-all duration-200 text-left font-semibold shadow-md hover:shadow-lg transform hover:scale-105",children:"System Settings"})]})]})]}),(0,zm.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[(0,zm.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Recent Activity"}),(0,zm.jsx)("div",{className:"space-y-1",children:u.recent_activities&&u.recent_activities.length>0?u.recent_activities.map((e,t)=>(0,zm.jsx)(d,{activity:e},t)):(0,zm.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,zm.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-2xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,zm.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No recent activity to display"}),(0,zm.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Activity will appear here as users interact with the platform"})]})})]})]})]})},Ax=()=>{const[e,t]=(0,a.useState)(null),[s,r]=(0,a.useState)(!0),[n,i]=(0,a.useState)(""),[o,l]=(0,a.useState)("overview"),[c,d]=(0,a.useState)("30d");(0,a.useEffect)(()=>{u()},[c]);const u=async()=>{try{r(!0);const e=await xa(c);e.ok?t(e.data):i(e.message||"Failed to load reports data")}catch(e){i("Network error. Please try again.")}finally{r(!1)}},p=async()=>{try{r(!0);const e=await fa();e.ok?(console.log("Database test successful:",e.data),i(""),await u()):i("Database test failed: ".concat(e.message))}catch(e){i("Database test error: ".concat(e.message))}finally{r(!1)}},m=async()=>{try{r(!0);const e=await ga();e.ok?(t(e.data),i("")):i("Simple reports failed: ".concat(e.message))}catch(e){i("Simple reports error: ".concat(e.message))}finally{r(!1)}},h=e=>{let{title:t,value:s,icon:r,color:n,subtitle:a,trend:i,format:o="number"}=e;return(0,zm.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 ".concat(n),children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{className:"flex-1",children:[(0,zm.jsx)("p",{className:"text-gray-600 text-sm font-semibold mb-2 uppercase tracking-wide",children:t}),(0,zm.jsx)("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:"currency"===o?"$".concat(s.toLocaleString()):"percentage"===o?"".concat(s,"%"):s.toLocaleString()}),a&&(0,zm.jsx)("p",{className:"text-gray-500 text-sm leading-relaxed",children:a}),i&&(0,zm.jsxs)("div",{className:"flex items-center mt-3",children:[(0,zm.jsxs)("span",{className:"text-sm font-semibold ".concat(i.positive?"text-green-600":"text-red-600"),children:[i.positive?"+":"",i.value,"%"]}),(0,zm.jsx)("span",{className:"text-gray-500 text-sm ml-2",children:"vs last period"})]})]}),(0,zm.jsx)("div",{className:"w-14 h-14 bg-blue-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:r})]})})},x=e=>{let{title:t,children:s,className:r=""}=e;return(0,zm.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 ".concat(r),children:[(0,zm.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:t}),s]})},f=e=>{let{id:t,label:s,active:r,onClick:n}=e;return(0,zm.jsx)("button",{onClick:()=>n(t),className:"px-6 py-3 rounded-xl font-semibold transition-all duration-200 ".concat(r?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:s})},g=()=>(0,zm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,zm.jsx)("span",{className:"text-gray-600 font-medium",children:"Period:"}),(0,zm.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,zm.jsx)("option",{value:"7d",children:"Last 7 days"}),(0,zm.jsx)("option",{value:"30d",children:"Last 30 days"}),(0,zm.jsx)("option",{value:"90d",children:"Last 90 days"}),(0,zm.jsx)("option",{value:"1y",children:"Last year"})]})]});if(s)return(0,zm.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-20 h-20 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),(0,zm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Reports"}),(0,zm.jsx)("p",{className:"text-lg text-gray-600",children:"Analyzing platform data..."})]})});if(n)return(0,zm.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,zm.jsxs)("div",{className:"text-center max-w-md",children:[(0,zm.jsx)("div",{className:"w-20 h-20 bg-red-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,zm.jsx)("svg",{className:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,zm.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Error Loading Reports"}),(0,zm.jsx)("p",{className:"text-gray-600 mb-8 text-lg leading-relaxed",children:n}),(0,zm.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,zm.jsx)("button",{onClick:u,className:"bg-blue-600 text-white px-8 py-4 rounded-xl hover:bg-blue-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105",children:"Try Again"}),(0,zm.jsx)("button",{onClick:p,className:"bg-green-600 text-white px-8 py-4 rounded-xl hover:bg-green-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105",children:"Test Database"}),(0,zm.jsx)("button",{onClick:m,className:"bg-purple-600 text-white px-8 py-4 rounded-xl hover:bg-purple-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105",children:"Load Simple Data"})]})]})});const b=e||{user_growth:{daily:[],weekly:[],monthly:[]},active_influencers:0,inactive_influencers:0,brand_spending:{total:0,average:0,trends:[]},top_influencers:[],revenue_trends:{total:0,subscriptions:0,uploads:0,trends:[]},promotion_success:{total_promotions:0,successful:0,rate:0}},y=()=>(0,zm.jsxs)("div",{className:"space-y-8",children:[(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,zm.jsx)(h,{title:"Total Revenue",value:b.revenue_trends.total,format:"currency",subtitle:"All time earnings",icon:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),color:"bg-green-50"}),(0,zm.jsx)(h,{title:"Active Influencers",value:b.active_influencers,subtitle:"".concat(b.inactive_influencers," inactive"),icon:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),color:"bg-blue-50"}),(0,zm.jsx)(h,{title:"Brand Spending",value:b.brand_spending.total,format:"currency",subtitle:"Avg: $".concat(b.brand_spending.average.toLocaleString()),icon:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),color:"bg-purple-50"}),(0,zm.jsx)(h,{title:"Success Rate",value:b.promotion_success.rate,format:"percentage",subtitle:"".concat(b.promotion_success.successful,"/").concat(b.promotion_success.total_promotions," promotions"),icon:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"bg-yellow-50"})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,zm.jsx)(x,{title:"User Growth Trend",children:(0,zm.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-xl",children:(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-blue-100 rounded-2xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,zm.jsx)("p",{className:"text-gray-600 font-medium",children:"Growth Chart"}),(0,zm.jsx)("p",{className:"text-sm text-gray-500",children:"Visual representation of user growth over time"})]})})}),(0,zm.jsx)(x,{title:"Revenue Breakdown",children:(0,zm.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-xl",children:(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-2xl flex items-center justify-center",children:(0,zm.jsxs)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]})}),(0,zm.jsx)("p",{className:"text-gray-600 font-medium",children:"Revenue Pie Chart"}),(0,zm.jsx)("p",{className:"text-sm text-gray-500",children:"Breakdown by subscription and upload fees"})]})})})]})]});return(0,zm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,zm.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,zm.jsx)("div",{className:"px-6 py-8",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Reports & Analytics"}),(0,zm.jsx)("p",{className:"text-gray-600 text-lg",children:"Platform insights and growth patterns"})]}),(0,zm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,zm.jsx)(g,{}),(0,zm.jsxs)("button",{onClick:u,className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-all duration-200 flex items-center space-x-3 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,zm.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,zm.jsx)("span",{className:"font-semibold",children:"Refresh"})]})]})]})})}),(0,zm.jsxs)("div",{className:"px-6 py-8",children:[(0,zm.jsxs)("div",{className:"flex flex-wrap gap-4 mb-8",children:[(0,zm.jsx)(f,{id:"overview",label:"Overview",active:"overview"===o,onClick:l}),(0,zm.jsx)(f,{id:"users",label:"User Growth",active:"users"===o,onClick:l}),(0,zm.jsx)(f,{id:"influencers",label:"Influencers",active:"influencers"===o,onClick:l}),(0,zm.jsx)(f,{id:"brands",label:"Brand Spending",active:"brands"===o,onClick:l}),(0,zm.jsx)(f,{id:"revenue",label:"Revenue",active:"revenue"===o,onClick:l}),(0,zm.jsx)(f,{id:"promotions",label:"Promotions",active:"promotions"===o,onClick:l})]}),(()=>{switch(o){case"overview":default:return y();case"users":return(0,zm.jsx)("div",{className:"space-y-8",children:(0,zm.jsxs)(x,{title:"User Growth Analytics",className:"col-span-full",children:[(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,zm.jsxs)("div",{className:"text-center p-6 bg-blue-50 rounded-2xl",children:[(0,zm.jsx)("p",{className:"text-3xl font-bold text-blue-600 mb-2",children:b.user_growth.daily.reduce((e,t)=>e+t.count,0)}),(0,zm.jsx)("p",{className:"text-blue-700 font-semibold",children:"Daily Growth"}),(0,zm.jsx)("p",{className:"text-sm text-blue-600 mt-2",children:"Last 7 days"})]}),(0,zm.jsxs)("div",{className:"text-center p-6 bg-green-50 rounded-2xl",children:[(0,zm.jsx)("p",{className:"text-3xl font-bold text-green-600 mb-2",children:b.user_growth.weekly.reduce((e,t)=>e+t.count,0)}),(0,zm.jsx)("p",{className:"text-green-700 font-semibold",children:"Weekly Growth"}),(0,zm.jsx)("p",{className:"text-sm text-green-600 mt-2",children:"Last 4 weeks"})]}),(0,zm.jsxs)("div",{className:"text-center p-6 bg-purple-50 rounded-2xl",children:[(0,zm.jsx)("p",{className:"text-3xl font-bold text-purple-600 mb-2",children:b.user_growth.monthly.reduce((e,t)=>e+t.count,0)}),(0,zm.jsx)("p",{className:"text-purple-700 font-semibold",children:"Monthly Growth"}),(0,zm.jsx)("p",{className:"text-sm text-purple-600 mt-2",children:"Last 12 months"})]})]}),(0,zm.jsx)("div",{className:"h-80 bg-gray-50 rounded-xl flex items-center justify-center",children:(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 bg-blue-100 rounded-2xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-10 h-10 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,zm.jsx)("p",{className:"text-xl font-semibold text-gray-700 mb-2",children:"User Growth Chart"}),(0,zm.jsx)("p",{className:"text-gray-500",children:"Interactive chart showing user registration trends"})]})})]})});case"influencers":return(0,zm.jsx)("div",{className:"space-y-8",children:(0,zm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,zm.jsx)(x,{title:"Influencer Activity Status",children:(0,zm.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-xl",children:(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-32 h-32 mx-auto mb-4 relative",children:(0,zm.jsx)("div",{className:"w-32 h-32 rounded-full bg-blue-200 flex items-center justify-center",children:(0,zm.jsx)("div",{className:"w-24 h-24 rounded-full bg-blue-600 flex items-center justify-center",children:(0,zm.jsxs)("span",{className:"text-white font-bold text-lg",children:[Math.round(b.active_influencers/(b.active_influencers+b.inactive_influencers)*100),"%"]})})})}),(0,zm.jsx)("p",{className:"text-gray-600 font-medium",children:"Active Influencers"}),(0,zm.jsxs)("p",{className:"text-sm text-gray-500",children:[b.active_influencers," out of ",b.active_influencers+b.inactive_influencers]})]})})}),(0,zm.jsx)(x,{title:"Top Performing Influencers",children:(0,zm.jsx)("div",{className:"space-y-4",children:b.top_influencers.slice(0,5).map((e,t)=>(0,zm.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[(0,zm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,zm.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:t+1}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"font-semibold text-gray-900",children:e.name}),(0,zm.jsxs)("p",{className:"text-sm text-gray-500",children:[e.listing_count," listings"]})]})]}),(0,zm.jsxs)("div",{className:"text-right",children:[(0,zm.jsxs)("p",{className:"font-bold text-green-600",children:["$",e.revenue.toLocaleString()]}),(0,zm.jsxs)("p",{className:"text-sm text-gray-500",children:[e.engagement_rate,"% engagement"]})]})]},t))})})]})});case"brands":return(0,zm.jsx)("div",{className:"space-y-8",children:(0,zm.jsxs)(x,{title:"Brand Spending Analysis",children:[(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,zm.jsxs)("div",{className:"text-center p-6 bg-purple-50 rounded-2xl",children:[(0,zm.jsxs)("p",{className:"text-3xl font-bold text-purple-600 mb-2",children:["$",b.brand_spending.total.toLocaleString()]}),(0,zm.jsx)("p",{className:"text-purple-700 font-semibold",children:"Total Spending"}),(0,zm.jsx)("p",{className:"text-sm text-purple-600 mt-2",children:"All time"})]}),(0,zm.jsxs)("div",{className:"text-center p-6 bg-blue-50 rounded-2xl",children:[(0,zm.jsxs)("p",{className:"text-3xl font-bold text-blue-600 mb-2",children:["$",b.brand_spending.average.toLocaleString()]}),(0,zm.jsx)("p",{className:"text-blue-700 font-semibold",children:"Average per Brand"}),(0,zm.jsx)("p",{className:"text-sm text-blue-600 mt-2",children:"Monthly average"})]}),(0,zm.jsxs)("div",{className:"text-center p-6 bg-green-50 rounded-2xl",children:[(0,zm.jsx)("p",{className:"text-3xl font-bold text-green-600 mb-2",children:"+12%"}),(0,zm.jsx)("p",{className:"text-green-700 font-semibold",children:"Growth Rate"}),(0,zm.jsx)("p",{className:"text-sm text-green-600 mt-2",children:"vs last period"})]})]}),(0,zm.jsx)("div",{className:"h-80 bg-gray-50 rounded-xl flex items-center justify-center",children:(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 bg-purple-100 rounded-2xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-10 h-10 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,zm.jsx)("p",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Brand Spending Trends"}),(0,zm.jsx)("p",{className:"text-gray-500",children:"Chart showing brand investment patterns over time"})]})})]})});case"revenue":return(0,zm.jsx)("div",{className:"space-y-8",children:(0,zm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,zm.jsx)(x,{title:"Revenue Trends",children:(0,zm.jsxs)("div",{className:"space-y-6",children:[(0,zm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,zm.jsxs)("div",{className:"p-4 bg-green-50 rounded-xl",children:[(0,zm.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",b.revenue_trends.total.toLocaleString()]}),(0,zm.jsx)("p",{className:"text-green-700 font-semibold text-sm",children:"Total Revenue"})]}),(0,zm.jsxs)("div",{className:"p-4 bg-blue-50 rounded-xl",children:[(0,zm.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:["$",b.revenue_trends.subscriptions.toLocaleString()]}),(0,zm.jsx)("p",{className:"text-blue-700 font-semibold text-sm",children:"Subscriptions"})]})]}),(0,zm.jsx)("div",{className:"h-48 bg-gray-50 rounded-xl flex items-center justify-center",children:(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-2xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,zm.jsx)("p",{className:"text-gray-600 font-medium",children:"Revenue Chart"})]})})]})}),(0,zm.jsx)(x,{title:"Revenue Sources",children:(0,zm.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-xl",children:(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 bg-yellow-100 rounded-2xl flex items-center justify-center",children:(0,zm.jsxs)("svg",{className:"w-10 h-10 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]})}),(0,zm.jsx)("p",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Revenue Distribution"}),(0,zm.jsx)("p",{className:"text-gray-500",children:"Breakdown by subscription and upload fees"})]})})})]})});case"promotions":return(0,zm.jsx)("div",{className:"space-y-8",children:(0,zm.jsxs)(x,{title:"Promotion Success Analysis",children:[(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,zm.jsxs)("div",{className:"text-center p-6 bg-green-50 rounded-2xl",children:[(0,zm.jsxs)("p",{className:"text-3xl font-bold text-green-600 mb-2",children:[b.promotion_success.rate,"%"]}),(0,zm.jsx)("p",{className:"text-green-700 font-semibold",children:"Success Rate"}),(0,zm.jsx)("p",{className:"text-sm text-green-600 mt-2",children:"Overall performance"})]}),(0,zm.jsxs)("div",{className:"text-center p-6 bg-blue-50 rounded-2xl",children:[(0,zm.jsx)("p",{className:"text-3xl font-bold text-blue-600 mb-2",children:b.promotion_success.successful}),(0,zm.jsx)("p",{className:"text-blue-700 font-semibold",children:"Successful"}),(0,zm.jsx)("p",{className:"text-sm text-blue-600 mt-2",children:"Promotions completed"})]}),(0,zm.jsxs)("div",{className:"text-center p-6 bg-red-50 rounded-2xl",children:[(0,zm.jsx)("p",{className:"text-3xl font-bold text-red-600 mb-2",children:b.promotion_success.total_promotions-b.promotion_success.successful}),(0,zm.jsx)("p",{className:"text-red-700 font-semibold",children:"Failed"}),(0,zm.jsx)("p",{className:"text-sm text-red-600 mt-2",children:"Promotions unsuccessful"})]})]}),(0,zm.jsx)("div",{className:"h-80 bg-gray-50 rounded-xl flex items-center justify-center",children:(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 bg-yellow-100 rounded-2xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-10 h-10 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,zm.jsx)("p",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Promotion Performance"}),(0,zm.jsx)("p",{className:"text-gray-500",children:"Success rates and performance metrics over time"})]})})]})})}})()]})]})},Tx=a.memo(e=>{let{label:t,type:s="text",value:r,onChange:n,placeholder:i,required:o=!1}=e;const l=(0,a.useCallback)(e=>{n(e.target.value)},[n]);return(0,zm.jsxs)("div",{className:"space-y-2",children:[(0,zm.jsxs)("label",{className:"block text-sm font-semibold text-gray-700",children:[t," ",o&&(0,zm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,zm.jsx)("input",{type:s,value:r||"",onChange:l,placeholder:i,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-gray-900"})]})}),Ix=a.memo(e=>{let{label:t,value:s,onChange:r,placeholder:n,rows:i=4}=e;const o=(0,a.useCallback)(e=>{r(e.target.value)},[r]);return(0,zm.jsxs)("div",{className:"space-y-2",children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:t}),(0,zm.jsx)("textarea",{value:s||"",onChange:o,placeholder:n,rows:i,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 resize-none text-gray-900"})]})}),Lx=a.memo(e=>{let{label:t,value:s,onChange:r}=e;const[n,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)(s||""),c=(0,a.useRef)(null);(0,a.useEffect)(()=>{l(s||"")},[s]);const d=(0,a.useCallback)(async e=>{var t;const s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!s)return;if(["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(s.type))if(s.size>20971520)It.error("File size too large. Maximum size is 20MB.");else try{i(!0);const e=await Hn(s);e.ok&&e.url?(r(e.url),l(e.url),It.success("Image uploaded successfully")):It.error(e.message||"Failed to upload image")}catch(xf){var n,a;console.error("Upload error:",xf),It.error((null===(n=xf.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Failed to upload image")}finally{i(!1),c.current&&(c.current.value="")}else It.error("Invalid file type. Please upload a JPG, PNG, GIF, or WebP image.")},[r]),u=(0,a.useCallback)(e=>{const t=e.target.value;r(t),l(t)},[r]),p=(0,a.useCallback)(()=>{r(""),l(""),c.current&&(c.current.value="")},[r]);return(0,zm.jsxs)("div",{className:"space-y-2",children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:t}),o&&(0,zm.jsxs)("div",{className:"relative w-full h-48 mb-3 border border-gray-300 rounded-xl overflow-hidden bg-gray-50",children:[(0,zm.jsx)("img",{src:o,alt:"Category preview",className:"w-full h-full object-contain",onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}),(0,zm.jsx)("div",{className:"hidden absolute inset-0 items-center justify-center bg-gray-100",children:(0,zm.jsxs)("div",{className:"text-center text-gray-500",children:[(0,zm.jsx)(Wh,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,zm.jsx)("p",{className:"text-sm",children:"Failed to load image"})]})}),(0,zm.jsx)("button",{type:"button",onClick:p,className:"absolute top-2 right-2 p-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",title:"Remove image",children:(0,zm.jsx)(uh,{className:"w-4 h-4"})})]}),(0,zm.jsxs)("div",{className:"flex items-center gap-3",children:[(0,zm.jsxs)("button",{type:"button",onClick:()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.click()},disabled:n,className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium text-sm",children:[(0,zm.jsx)(fx,{className:"w-4 h-4"}),n?"Uploading...":"Upload Image"]}),(0,zm.jsx)("input",{ref:c,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:d,className:"hidden"}),(0,zm.jsx)("span",{className:"text-sm text-gray-500",children:"or enter URL"})]}),(0,zm.jsx)("input",{type:"url",value:s||"",onChange:u,placeholder:"https://example.com/category.jpg",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-gray-900"}),(0,zm.jsx)("p",{className:"text-xs text-gray-500",children:"Upload an image file or paste an ImageBB/CDN URL. Supported formats: JPG, PNG, GIF, WebP (max 20MB)"})]})}),Fx=a.memo(e=>{let{label:t,value:s,onChange:r,options:n,required:i=!1}=e;const o=(0,a.useCallback)(e=>{r(e.target.value)},[r]);return(0,zm.jsxs)("div",{className:"space-y-2",children:[(0,zm.jsxs)("label",{className:"block text-sm font-semibold text-gray-700",children:[t," ",i&&(0,zm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,zm.jsx)("select",{value:s||"",onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-gray-900",children:n.map(e=>(0,zm.jsx)("option",{value:e.value,className:"text-gray-900",children:e.label},e.value))})]})}),Rx=a.memo(e=>{let{onClick:t,disabled:s,loading:r=!1,children:n}=e;return(0,zm.jsx)("button",{onClick:t,disabled:s||r,className:"px-8 py-3 rounded-xl font-semibold transition-all duration-200 ".concat(s||r?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 shadow-lg hover:shadow-xl transform hover:scale-105"),children:r?"Saving...":n})}),Dx=a.memo(e=>{let{id:t,label:s,active:r,onClick:n}=e;return(0,zm.jsx)("button",{onClick:()=>n(t),className:"px-6 py-3 rounded-xl font-semibold transition-all duration-200 ".concat(r?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"),children:s})}),Ox={category_name:"",slug:"",description:"",image_url:"",parent_category_id:"",display_order:0,is_active:!0},Mx=a.memo(e=>{let{data:t,onSave:s,saving:r,onChange:n}=e;return(0,zm.jsx)("div",{className:"space-y-8",children:(0,zm.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[(0,zm.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"General Platform Settings"}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,zm.jsx)(Tx,{label:"Platform Name",value:t.platform_name,onChange:e=>n("platform_name",e),placeholder:"Enter platform name",required:!0}),(0,zm.jsx)(Tx,{label:"Contact Email",type:"email",value:t.contact_email,onChange:e=>n("contact_email",e),placeholder:"admin@example.com",required:!0}),(0,zm.jsx)(Tx,{label:"Support Phone",value:t.support_phone,onChange:e=>n("support_phone",e),placeholder:"+1-234-567-8900"}),(0,zm.jsx)(Fx,{label:"Timezone",value:t.timezone,onChange:e=>n("timezone",e),options:[{value:"UTC",label:"UTC"},{value:"America/New_York",label:"Eastern Time"},{value:"America/Chicago",label:"Central Time"},{value:"America/Denver",label:"Mountain Time"},{value:"America/Los_Angeles",label:"Pacific Time"},{value:"Europe/London",label:"London"},{value:"Asia/Tokyo",label:"Tokyo"},{value:"Asia/Kolkata",label:"India Standard Time"}]}),(0,zm.jsx)(Fx,{label:"Currency",value:t.currency,onChange:e=>n("currency",e),options:[{value:"USD",label:"US Dollar ($)"},{value:"EUR",label:"Euro (\u20ac)"},{value:"GBP",label:"British Pound (\xa3)"},{value:"INR",label:"Indian Rupee (\u20b9)"},{value:"JPY",label:"Japanese Yen (\xa5)"}]}),(0,zm.jsx)(Fx,{label:"Default Language",value:t.language,onChange:e=>n("language",e),options:[{value:"en",label:"English"},{value:"es",label:"Spanish"},{value:"fr",label:"French"},{value:"de",label:"German"},{value:"hi",label:"Hindi"},{value:"ja",label:"Japanese"}]})]}),(0,zm.jsx)(Ix,{label:"Platform Description",value:t.platform_description,onChange:e=>n("platform_description",e),placeholder:"Brief description of your platform",rows:3}),(0,zm.jsx)("div",{className:"mt-6",children:(0,zm.jsx)(Rx,{onClick:()=>s("general",t),loading:r,children:"Save General Settings"})})]})})}),Ux=a.memo(e=>{let{data:t,onSave:s,saving:r,onChange:n}=e;return(0,zm.jsx)("div",{className:"space-y-8",children:(0,zm.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[(0,zm.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Platform Branding"}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,zm.jsx)("div",{className:"md:col-span-1",children:(0,zm.jsx)(Lx,{label:"Logo",value:t.logo_url,onChange:e=>n("logo_url",e)})}),(0,zm.jsx)("div",{className:"md:col-span-1",children:(0,zm.jsx)(Lx,{label:"Favicon",value:t.favicon_url,onChange:e=>n("favicon_url",e)})}),(0,zm.jsxs)("div",{className:"space-y-2",children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Primary Color"}),(0,zm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,zm.jsx)("input",{type:"color",value:t.primary_color,onChange:e=>n("primary_color",e.target.value),className:"w-12 h-12 border border-gray-300 rounded-lg cursor-pointer"}),(0,zm.jsx)("input",{type:"text",value:t.primary_color,onChange:e=>n("primary_color",e.target.value),className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",placeholder:"#2563eb"})]})]}),(0,zm.jsxs)("div",{className:"space-y-2",children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Secondary Color"}),(0,zm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,zm.jsx)("input",{type:"color",value:t.secondary_color,onChange:e=>n("secondary_color",e.target.value),className:"w-12 h-12 border border-gray-300 rounded-lg cursor-pointer"}),(0,zm.jsx)("input",{type:"text",value:t.secondary_color,onChange:e=>n("secondary_color",e.target.value),className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",placeholder:"#7c3aed"})]})]}),(0,zm.jsxs)("div",{className:"space-y-2",children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Accent Color"}),(0,zm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,zm.jsx)("input",{type:"color",value:t.accent_color,onChange:e=>n("accent_color",e.target.value),className:"w-12 h-12 border border-gray-300 rounded-lg cursor-pointer"}),(0,zm.jsx)("input",{type:"text",value:t.accent_color,onChange:e=>n("accent_color",e.target.value),className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",placeholder:"#f59e0b"})]})]})]}),(0,zm.jsx)(Ix,{label:"Custom CSS",value:t.custom_css,onChange:e=>n("custom_css",e),placeholder:"/* Custom CSS styles */",rows:6}),(0,zm.jsx)("div",{className:"mt-6",children:(0,zm.jsx)(Rx,{onClick:()=>s("branding",t),loading:r,children:"Save Branding Settings"})})]})})}),zx=a.memo(e=>{let{data:t,onSave:s,saving:r,onChange:n}=e;return(0,zm.jsx)("div",{className:"space-y-8",children:(0,zm.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[(0,zm.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Notification Settings"}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-xl",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h4",{className:"font-semibold text-gray-900",children:"Email Notifications"}),(0,zm.jsx)("p",{className:"text-sm text-gray-600",children:"Send email notifications"})]}),(0,zm.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,zm.jsx)("input",{type:"checkbox",checked:t.email_enabled,onChange:e=>n("email_enabled",e.target.checked),className:"sr-only peer"}),(0,zm.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,zm.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-xl",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h4",{className:"font-semibold text-gray-900",children:"SMS Notifications"}),(0,zm.jsx)("p",{className:"text-sm text-gray-600",children:"Send SMS notifications"})]}),(0,zm.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,zm.jsx)("input",{type:"checkbox",checked:t.sms_enabled,onChange:e=>n("sms_enabled",e.target.checked),className:"sr-only peer"}),(0,zm.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,zm.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-xl",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h4",{className:"font-semibold text-gray-900",children:"Push Notifications"}),(0,zm.jsx)("p",{className:"text-sm text-gray-600",children:"Send push notifications"})]}),(0,zm.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,zm.jsx)("input",{type:"checkbox",checked:t.push_enabled,onChange:e=>n("push_enabled",e.target.checked),className:"sr-only peer"}),(0,zm.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),(0,zm.jsxs)("div",{className:"space-y-6",children:[(0,zm.jsx)(Ix,{label:"Welcome Email Template",value:t.welcome_email_template,onChange:e=>n("welcome_email_template",e),placeholder:"Welcome to GetNayi! Start exploring amazing products and services.",rows:4}),(0,zm.jsx)(Ix,{label:"Payment Confirmation Template",value:t.payment_confirmation_template,onChange:e=>n("payment_confirmation_template",e),placeholder:"Your payment has been confirmed. Thank you for your subscription!",rows:4}),(0,zm.jsx)(Ix,{label:"Listing Approval Template",value:t.listing_approval_template,onChange:e=>n("listing_approval_template",e),placeholder:"Great news! Your listing has been approved and is now live on the platform.",rows:4})]}),(0,zm.jsx)("div",{className:"mt-6",children:(0,zm.jsx)(Rx,{onClick:()=>s("notifications",t),loading:r,children:"Save Notification Settings"})})]})})}),Bx=a.memo(e=>{var t,s;let{data:r,onSave:n,saving:i,onChange:o,onCreateAdmin:l,onEditRole:c,onDeleteRole:d,onShowAddRoleModal:u}=e;const[p,m]=(0,a.useState)(""),[h,x]=(0,a.useState)([]),[f,g]=(0,a.useState)(!1),[b,y]=(0,a.useState)(null),v=(0,a.useRef)(null),j=async e=>{g(!0);try{const t=await ha(e);null!==t&&void 0!==t&&t.ok?x(t.data||[]):(It.error((null===t||void 0===t?void 0:t.message)||"Failed to search users"),x([]))}catch(t){console.error("Admin user search error:",t),It.error("Failed to search users"),x([])}finally{g(!1)}};return(0,zm.jsxs)("div",{className:"space-y-8",children:[(0,zm.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[(0,zm.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Admin Roles & Permissions"}),(0,zm.jsxs)("div",{className:"space-y-6",children:[r.admin_roles.map(e=>(0,zm.jsxs)("div",{className:"border border-gray-200 rounded-xl p-6",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,zm.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,zm.jsxs)("div",{className:"flex space-x-2",children:[(0,zm.jsx)("button",{onClick:()=>c(e),className:"px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:"Edit"}),"Super Admin"!==e.name&&(0,zm.jsx)("button",{onClick:()=>d(e.id),className:"px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Delete"})]})]}),(0,zm.jsx)("div",{className:"flex flex-wrap gap-2",children:e.permissions.map((e,t)=>(0,zm.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:e},t))})]},e.id)),(0,zm.jsx)("button",{onClick:u,className:"w-full py-4 border-2 border-dashed border-gray-300 rounded-xl text-gray-600 hover:border-blue-500 hover:text-blue-600 transition-colors",children:"+ Add New Role"})]})]}),(0,zm.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[(0,zm.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Create New Admin"}),(0,zm.jsxs)("div",{className:"space-y-4",children:[(0,zm.jsxs)("div",{className:"space-y-2",children:[(0,zm.jsxs)("label",{className:"block text-sm font-semibold text-gray-700",children:["Find Existing User ",(0,zm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,zm.jsx)("input",{type:"text",value:p,onChange:e=>(e=>{m(e),v.current&&clearTimeout(v.current);const t=e.trim();t.length<2?x([]):v.current=setTimeout(()=>j(t),400)})(e.target.value),placeholder:"Search by name or phone number",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-gray-900"}),(0,zm.jsx)("p",{className:"text-xs text-gray-500",children:"Enter at least 2 characters to search existing users."})]}),f&&(0,zm.jsx)("div",{className:"text-sm text-gray-500",children:"Searching users..."}),!f&&h.length>0&&(0,zm.jsx)("div",{className:"border border-gray-200 rounded-xl divide-y",children:h.map(e=>(0,zm.jsxs)("button",{type:"button",onClick:()=>y(e),className:"w-full flex items-center justify-between px-4 py-3 text-left hover:bg-blue-50 transition-colors ".concat((null===b||void 0===b?void 0:b.user_id)===e.user_id?"bg-blue-50 border-l-4 border-blue-500":""),children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"font-semibold text-gray-900",children:e.full_name||"Unnamed User"}),(0,zm.jsx)("p",{className:"text-sm text-gray-600",children:e.phone}),e.email&&(0,zm.jsx)("p",{className:"text-xs text-gray-500",children:e.email})]}),(0,zm.jsx)("span",{className:"text-sm text-blue-600 font-semibold",children:(null===b||void 0===b?void 0:b.user_id)===e.user_id?"Selected":"Select"})]},e.user_id))}),b&&(0,zm.jsxs)("div",{className:"border border-blue-200 bg-blue-50 rounded-xl p-4 flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-blue-900 font-semibold",children:b.full_name||"Unnamed User"}),(0,zm.jsx)("p",{className:"text-blue-800 text-sm",children:b.phone}),b.email&&(0,zm.jsx)("p",{className:"text-blue-800 text-sm",children:b.email})]}),(0,zm.jsx)("button",{type:"button",onClick:()=>y(null),className:"text-sm text-blue-600 hover:text-blue-800 font-semibold",children:"Change"})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,zm.jsxs)("div",{className:"space-y-2",children:[(0,zm.jsxs)("label",{className:"block text-sm font-semibold text-gray-700",children:["Admin Role ",(0,zm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,zm.jsxs)("select",{value:(null===(t=r.newAdmin)||void 0===t?void 0:t.role_id)||"",onChange:e=>o("newAdmin","role_id",parseInt(e.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-gray-900",children:[(0,zm.jsx)("option",{value:"",children:"Select a role"}),(r.admin_roles||[]).map(e=>(0,zm.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,zm.jsxs)("div",{className:"space-y-2",children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Selected User Details"}),b?(0,zm.jsxs)("div",{className:"border border-gray-200 rounded-xl p-4 bg-gray-50 text-sm text-gray-700",children:[(0,zm.jsxs)("p",{children:[(0,zm.jsx)("span",{className:"font-semibold",children:"Name:"})," ",b.full_name||"Unnamed User"]}),(0,zm.jsxs)("p",{children:[(0,zm.jsx)("span",{className:"font-semibold",children:"Phone:"})," ",b.phone]}),(0,zm.jsxs)("p",{children:[(0,zm.jsx)("span",{className:"font-semibold",children:"Email:"})," ",b.email||"Not provided"]})]}):(0,zm.jsx)("div",{className:"border border-dashed border-gray-300 rounded-xl p-4 text-sm text-gray-500 bg-gray-50",children:"Select a user to view their contact information."})]})]})]}),(0,zm.jsx)("div",{className:"mt-6",children:(0,zm.jsx)("button",{onClick:async()=>{var e;if(!b)return void It.error("Select a user to convert to admin");if(null===(e=r.newAdmin)||void 0===e||!e.role_id)return void It.error("Select an admin role");const t={mobile:b.phone,full_name:b.full_name||"User",email:b.email,role_id:r.newAdmin.role_id};await l(t)&&(y(null),x([]),m(""))},disabled:i||!b||!(null!==(s=r.newAdmin)&&void 0!==s&&s.role_id),className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Creating...":"Convert to Admin"})})]}),(0,zm.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[(0,zm.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"User Permissions"}),(0,zm.jsxs)("div",{className:"space-y-4",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h4",{className:"font-semibold text-gray-900",children:"Upload Videos"}),(0,zm.jsx)("p",{className:"text-sm text-gray-600",children:"Allow users to upload videos"})]}),(0,zm.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,zm.jsx)("input",{type:"checkbox",checked:r.user_permissions.can_upload_videos,onChange:e=>o("user_permissions","can_upload_videos",e.target.checked),className:"sr-only peer"}),(0,zm.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h4",{className:"font-semibold text-gray-900",children:"Create Listings"}),(0,zm.jsx)("p",{className:"text-sm text-gray-600",children:"Allow users to create listings"})]}),(0,zm.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,zm.jsx)("input",{type:"checkbox",checked:r.user_permissions.can_create_listings,onChange:e=>o("user_permissions","can_create_listings",e.target.checked),className:"sr-only peer"}),(0,zm.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h4",{className:"font-semibold text-gray-900",children:"Contact Support"}),(0,zm.jsx)("p",{className:"text-sm text-gray-600",children:"Allow users to contact support"})]}),(0,zm.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,zm.jsx)("input",{type:"checkbox",checked:r.user_permissions.can_contact_support,onChange:e=>o("user_permissions","can_contact_support",e.target.checked),className:"sr-only peer"}),(0,zm.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h4",{className:"font-semibold text-gray-900",children:"View Analytics"}),(0,zm.jsx)("p",{className:"text-sm text-gray-600",children:"Allow users to view analytics"})]}),(0,zm.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,zm.jsx)("input",{type:"checkbox",checked:r.user_permissions.can_view_analytics,onChange:e=>o("user_permissions","can_view_analytics",e.target.checked),className:"sr-only peer"}),(0,zm.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),(0,zm.jsx)("div",{className:"mt-6",children:(0,zm.jsx)(Rx,{onClick:()=>n("permissions",r),loading:i,children:"Save Permission Settings"})})]})]})}),Vx=a.memo(e=>{let{show:t,editingRole:s,newRole:r,onClose:n,onSave:a,saving:i,onChange:o}=e;return t?(0,zm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,zm.jsxs)("div",{className:"bg-white rounded-2xl p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,zm.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:s?"Edit Role":"Add New Role"}),(0,zm.jsxs)("div",{className:"space-y-6",children:[(0,zm.jsx)(Tx,{label:"Role Name",value:r.name,onChange:e=>o("name",e),placeholder:"Role Name",required:!0}),(0,zm.jsxs)("div",{className:"space-y-3",children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Permissions"}),(0,zm.jsx)("div",{className:"grid grid-cols-2 gap-3",children:["all","moderate_content","view_reports","manage_listings","view_users","view_support","respond_tickets","manage_settings","manage_roles","view_analytics","manage_payments","manage_subscriptions"].map(e=>(0,zm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,zm.jsx)("input",{type:"checkbox",id:e,checked:r.permissions.includes(e),onChange:t=>{t.target.checked?o("permissions",[...r.permissions,e]):o("permissions",r.permissions.filter(t=>t!==e))},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,zm.jsx)("label",{htmlFor:e,className:"text-sm text-gray-700",children:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())})]},e))})]})]}),(0,zm.jsxs)("div",{className:"flex justify-end space-x-4 mt-8",children:[(0,zm.jsx)("button",{onClick:n,className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,zm.jsx)(Rx,{onClick:a,disabled:!r.name||0===r.permissions.length,loading:i,children:s?"Update Role":"Create Role"})]})]})}):null}),Hx=a.memo(e=>{let{state:t,onFieldChange:s,onSubmit:r,onEdit:n,onCancelEdit:i,refreshCategories:o}=e;const{categories:l,form:c,loading:d,saving:u,editingCategoryId:p}=t,m=(0,a.useMemo)(()=>[{value:"",label:"None"},...l.map(e=>({value:e.category_id,label:e.category_name}))],[l]),h=a.useRef(null);return a.useEffect(()=>{p&&h.current&&setTimeout(()=>{var e;null===(e=h.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100)},[p]),(0,zm.jsxs)("div",{className:"space-y-8",children:[(0,zm.jsxs)("div",{ref:h,className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Category Management"}),(0,zm.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Add new categories or update existing ones"})]}),(0,zm.jsx)("button",{onClick:o,className:"px-4 py-2 text-sm font-semibold text-blue-600 border border-blue-100 rounded-xl hover:bg-blue-50 transition-colors",disabled:d,children:d?"Refreshing...":"Refresh"})]}),t.error&&(0,zm.jsx)("div",{className:"mb-6 p-3 rounded-xl bg-red-50 text-sm text-red-600 border border-red-100",children:t.error}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,zm.jsxs)("div",{className:"lg:col-span-1 space-y-4",children:[(0,zm.jsx)("div",{className:"p-4 border border-gray-200 rounded-xl bg-gray-50",children:(0,zm.jsx)("p",{className:"text-sm text-gray-600",children:p?"Updating an existing category. Make changes and click save.":"Fill out the form to create a new category."})}),(0,zm.jsxs)("div",{className:"space-y-4",children:[(0,zm.jsx)(Tx,{label:"Category Name",value:c.category_name,onChange:e=>s("category_name",e),required:!0}),(0,zm.jsx)(Tx,{label:"Slug",value:c.slug,onChange:e=>s("slug",e.toLowerCase().replace(/\s+/g,"-")),required:!0}),(0,zm.jsx)(Ix,{label:"Description",value:c.description,onChange:e=>s("description",e),rows:3})]})]}),(0,zm.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,zm.jsx)("div",{className:"md:col-span-2",children:(0,zm.jsx)(Lx,{label:"Category Image",value:c.image_url,onChange:e=>s("image_url",e)})}),(0,zm.jsxs)("div",{className:"space-y-2",children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Parent Category"}),(0,zm.jsx)("select",{value:c.parent_category_id||"",onChange:e=>s("parent_category_id",e.target.value||""),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:m.map(e=>(0,zm.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,zm.jsx)(Tx,{label:"Display Order",type:"number",value:c.display_order,onChange:e=>s("display_order",Number(e))}),(0,zm.jsxs)("div",{className:"space-y-2",children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Status"}),(0,zm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,zm.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,zm.jsx)("input",{type:"checkbox",checked:c.is_active,onChange:e=>s("is_active",e.target.checked),className:"sr-only peer"}),(0,zm.jsx)("div",{className:"relative w-11 h-6 rounded-full peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 transition-colors duration-200 ".concat(c.is_active?"bg-blue-600":"bg-gray-200"),children:(0,zm.jsx)("div",{className:"absolute top-[2px] bg-white border-gray-300 rounded-full h-5 w-5 border shadow-md transition-all duration-200 ease-in-out ".concat(c.is_active?"left-[22px]":"left-[2px]")})})]}),(0,zm.jsx)("span",{className:"text-sm font-medium ".concat(c.is_active?"text-green-600":"text-gray-500"),children:c.is_active?"Active":"Inactive"})]})]})]}),(0,zm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,zm.jsx)(Rx,{onClick:r,disabled:!c.category_name||!c.slug,loading:u,children:p?"Update Category":"Add Category"}),p&&(0,zm.jsx)("button",{onClick:i,className:"px-4 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})]}),(0,zm.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,zm.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[(0,zm.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:"Existing Categories"}),(0,zm.jsxs)("div",{className:"text-sm text-gray-500",children:[l.length," categories"]})]}),(0,zm.jsx)("div",{className:"divide-y divide-gray-100",children:0===l.length?(0,zm.jsx)("div",{className:"text-center py-10 text-gray-500 text-sm",children:"No categories found. Create one using the form above."}):l.map(e=>(0,zm.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[(0,zm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,zm.jsxs)("p",{className:"text-sm font-semibold text-gray-900",children:[e.category_name,!e.is_active&&(0,zm.jsx)("span",{className:"ml-2 text-xs font-semibold text-red-500",children:"Inactive"})]}),(0,zm.jsxs)("p",{className:"text-xs text-gray-500",children:["Slug: ",e.slug," \u2022 Display Order: ",e.display_order]})]}),(0,zm.jsx)("button",{onClick:()=>n(e),className:"ml-4 text-sm font-semibold text-blue-600 hover:text-blue-800",children:"Edit"})]},e.category_id))})]})]})}),Wx=()=>{const[e,t]=(0,a.useState)(null),[s,r]=(0,a.useState)(!0),[n,i]=(0,a.useState)(""),[o,l]=(0,a.useState)("general"),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(""),[m,h]=(0,a.useState)(!1),[x,f]=(0,a.useState)(null),[g,b]=(0,a.useState)({name:"",permissions:[]}),[y,v]=(0,a.useState)({categories:[],loading:!1,error:null,hasFetched:!1,form:Be({},Ox),editingCategoryId:null,saving:!1}),j=(0,a.useMemo)(()=>({general:{platform_name:"GetNayi",platform_description:"Social Commerce Platform",contact_email:"admin@getnayi.com",support_phone:"+1-234-567-8900",timezone:"UTC",currency:"USD",language:"en"},branding:{logo_url:"",favicon_url:"",primary_color:"#2563eb",secondary_color:"#7c3aed",accent_color:"#f59e0b",custom_css:""},notifications:{email_enabled:!0,sms_enabled:!1,push_enabled:!0,welcome_email_template:"Welcome to GetNayi!",payment_confirmation_template:"Payment confirmed",listing_approval_template:"Your listing has been approved"},permissions:{admin_roles:[{id:1,name:"Super Admin",permissions:["all","dashboard","reports","settings","user_management","influencer_management","brand_management","video_management","subscription_management","promotion_management","payment_management","notification_management","cms_management"],super_admin_mobile:"8571991890"},{id:2,name:"Content Moderator",permissions:["dashboard","reports","video_management","promotion_management","notification_management","moderate_content","view_reports","manage_listings"]},{id:3,name:"Support Agent",permissions:["dashboard","user_management","notification_management","payment_management","view_users","view_support","respond_tickets"]}],user_permissions:{can_upload_videos:!0,can_create_listings:!0,can_contact_support:!0,can_view_analytics:!1},newAdmin:{role_id:""}}}),[]),w=(0,a.useMemo)(()=>{var t,s,r,n;const a=e||j;return{general:Be({},a.general||j.general),branding:Be({},a.branding||j.branding),notifications:Be({},a.notifications||j.notifications),permissions:{admin_roles:(null===(t=a.permissions)||void 0===t?void 0:t.admin_roles)||j.permissions.admin_roles||[],user_permissions:Be({},(null===(s=a.permissions)||void 0===s?void 0:s.user_permissions)||j.permissions.user_permissions||{}),newAdmin:{role_id:(null===(r=a.permissions)||void 0===r||null===(n=r.newAdmin)||void 0===n?void 0:n.role_id)||""}}}},[e,j]);(0,a.useEffect)(()=>{N()},[]);const N=async()=>{try{r(!0);const e=await ba();e.ok?t(e.data):i(e.message||"Failed to load settings data")}catch(e){i("Network error. Please try again.")}finally{r(!1)}},_=async(e,t)=>{try{d(!0),p("");const s=await ya(e,t);s.ok?(p("Settings saved successfully!"),setTimeout(()=>p(""),3e3)):i(s.message||"Failed to save settings")}catch(s){i("Network error. Please try again.")}finally{d(!1)}},k=async e=>{if(!e||!e.mobile||!e.full_name||!e.role_id)return i("Select a user and admin role."),!1;try{d(!0),p("");const s=await va(e);return s.ok?(p("Admin created successfully!"),setTimeout(()=>p(""),3e3),t(e=>Be(Be({},e),{},{permissions:Be(Be({},e.permissions),{},{newAdmin:{role_id:""}})})),!0):(i(s.message||"Failed to create admin"),!1)}catch(s){return s.response&&401===s.response.status?i("Authentication required. Please log in again."):s.response&&403===s.response.status?i("Admin access required. You do not have permission to create admins."):s.response&&s.response.data&&s.response.data.message?i(s.response.data.message):i("Network error. Please try again."),!1}finally{d(!1)}},S=e=>{f(e),b({name:e.name,permissions:[...e.permissions]}),h(!0)},C=async e=>{if(window.confirm("Are you sure you want to delete this role?"))try{d(!0);const t=await Na(e);t.ok?(p("Role deleted successfully!"),setTimeout(()=>p(""),3e3),N()):i(t.message||"Failed to delete role")}catch(t){i("Network error. Please try again.")}finally{d(!1)}},E=(0,a.useCallback)((e,s,r)=>{t(t=>{const n=t||j;var a,i;return Be(Be({},n),{},"newAdmin"===e?{permissions:Be(Be({},n.permissions||{}),{},{newAdmin:Be(Be({},(null===(a=n.permissions)||void 0===a?void 0:a.newAdmin)||{}),{},{[s]:r})})}:"user_permissions"===e?{permissions:Be(Be({},n.permissions||{}),{},{user_permissions:Be(Be({},(null===(i=n.permissions)||void 0===i?void 0:i.user_permissions)||{}),{},{[s]:r})})}:{[e]:Be(Be({},n[e]||{}),{},{[s]:r})})})},[j]),P=(0,a.useCallback)((e,t)=>{b(s=>Be(Be({},s),{},{[e]:t}))},[]),A=(0,a.useCallback)(async()=>{v(e=>Be(Be({},e),{},{loading:!0,error:null}));try{var e;const t=await Fn(),s=(null===t||void 0===t?void 0:t.categories)||(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.categories)||(null===t||void 0===t?void 0:t.data)||[];v(e=>Be(Be({},e),{},{categories:Array.isArray(s)?s:[],loading:!1,error:null,hasFetched:!0}))}catch(t){v(e=>Be(Be({},e),{},{loading:!1,error:"Failed to load categories",hasFetched:!0}))}},[]),T=(0,a.useCallback)((e,t)=>{v(s=>Be(Be({},s),{},{form:Be(Be({},s.form),{},{[e]:t})}))},[]),I=(0,a.useCallback)(()=>{v(e=>Be(Be({},e),{},{form:Be({},Ox),editingCategoryId:null,saving:!1}))},[]),L=(0,a.useCallback)(e=>{v(t=>{var s,r;return Be(Be({},t),{},{editingCategoryId:e.category_id,form:{category_name:e.category_name||"",slug:e.slug||"",description:e.description||"",image_url:e.image_url||"",parent_category_id:null!==(s=e.parent_category_id)&&void 0!==s?s:"",display_order:null!==(r=e.display_order)&&void 0!==r?r:0,is_active:Boolean(e.is_active)}})})},[]),F=(0,a.useCallback)(async()=>{v(e=>Be(Be({},e),{},{saving:!0}));const e=y.form,t={category_name:(e.category_name||"").trim(),slug:(e.slug||"").trim(),description:e.description||null,image_url:e.image_url||null,parent_category_id:e.parent_category_id?Number(e.parent_category_id):null,display_order:Number(e.display_order)||0,is_active:Boolean(e.is_active)};if(!t.category_name||!t.slug)return It.error("Category name and slug are required"),void v(e=>Be(Be({},e),{},{saving:!1}));try{y.editingCategoryId?(await Dn(y.editingCategoryId,t),It.success("Category updated")):(await Rn(t),It.success("Category created")),await A(),I()}catch(n){var s,r;const e=(null===n||void 0===n||null===(s=n.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message)||"Failed to save category";It.error(e)}finally{v(e=>Be(Be({},e),{},{saving:!1}))}},[y.form,y.editingCategoryId,A,I]);if((0,a.useEffect)(()=>{"categories"!==o||y.loading||y.hasFetched||A()},[o,y.loading,y.hasFetched,A]),s)return(0,zm.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-20 h-20 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),(0,zm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Settings"}),(0,zm.jsx)("p",{className:"text-lg text-gray-600",children:"Fetching configuration data..."})]})});if(n)return(0,zm.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,zm.jsxs)("div",{className:"text-center max-w-md",children:[(0,zm.jsx)("div",{className:"w-20 h-20 bg-red-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,zm.jsx)("svg",{className:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,zm.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Error Loading Settings"}),(0,zm.jsx)("p",{className:"text-gray-600 mb-8 text-lg leading-relaxed",children:n}),(0,zm.jsx)("button",{onClick:N,className:"bg-blue-600 text-white px-8 py-4 rounded-xl hover:bg-blue-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105",children:"Try Again"})]})});return(0,zm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,zm.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,zm.jsx)("div",{className:"px-6 py-8",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Settings & Configuration"}),(0,zm.jsx)("p",{className:"text-xl text-gray-600",children:"Manage platform settings and configurations"})]}),u&&(0,zm.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-6 py-3 rounded-xl",children:u})]})})}),(0,zm.jsxs)("div",{className:"px-6 py-8",children:[(0,zm.jsxs)("div",{className:"flex flex-wrap gap-4 mb-8",children:[(0,zm.jsx)(Dx,{id:"general",label:"General",active:"general"===o,onClick:l}),(0,zm.jsx)(Dx,{id:"branding",label:"Branding",active:"branding"===o,onClick:l}),(0,zm.jsx)(Dx,{id:"notifications",label:"Notifications",active:"notifications"===o,onClick:l}),(0,zm.jsx)(Dx,{id:"permissions",label:"Permissions",active:"permissions"===o,onClick:l}),(0,zm.jsx)(Dx,{id:"categories",label:"Categories",active:"categories"===o,onClick:l})]}),(()=>{switch(o){case"general":default:return(0,zm.jsx)(Mx,{data:w.general,onSave:_,saving:c,onChange:(e,t)=>E("general",e,t)});case"branding":return(0,zm.jsx)(Ux,{data:w.branding,onSave:_,saving:c,onChange:(e,t)=>E("branding",e,t)});case"notifications":return(0,zm.jsx)(zx,{data:w.notifications,onSave:_,saving:c,onChange:(e,t)=>E("notifications",e,t)});case"permissions":return(0,zm.jsx)(Bx,{data:w.permissions,onSave:_,saving:c,onChange:E,onCreateAdmin:k,onEditRole:S,onDeleteRole:C,onShowAddRoleModal:()=>h(!0)});case"categories":return(0,zm.jsx)(Hx,{state:y,onFieldChange:T,onSubmit:F,onEdit:L,onCancelEdit:I,refreshCategories:A})}})()]}),(0,zm.jsx)(Vx,{show:m,editingRole:x,newRole:g,onClose:()=>{h(!1),f(null),b({name:"",permissions:[]})},onSave:async()=>{try{d(!0),p("");const e=x?await wa(x.id,g):await ja(g);e.ok?(p(x?"Role updated successfully!":"Role created successfully!"),setTimeout(()=>p(""),3e3),h(!1),f(null),b({name:"",permissions:[]}),N()):i(e.message||"Failed to save role")}catch(e){i("Network error. Please try again.")}finally{d(!1)}},saving:c,onChange:P})]})},qx=()=>{const[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)(!0),[n,i]=(0,a.useState)(""),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)("ALL"),[u,p]=(0,a.useState)("ALL"),[m,h]=(0,a.useState)("created_at"),[x,f]=(0,a.useState)("desc"),[g,b]=(0,a.useState)(null),[y,v]=(0,a.useState)(!1),[j,w]=(0,a.useState)(null),[N,_]=(0,a.useState)(!1),[k,S]=(0,a.useState)([]),[C,E]=(0,a.useState)(!1),[P,A]=(0,a.useState)(null),[T,I]=(0,a.useState)(!1);(0,a.useEffect)(()=>{L()},[o,c,u,m,x]);const L=async()=>{try{r(!0);const e=await _a({search:o,role:c,status:u,sort_by:m,sort_order:x});e.ok?t(e.data.users||[]):i(e.message||"Failed to load users")}catch(e){i("Network error. Please try again.")}finally{r(!1)}},F=async(e,t)=>{try{w(e);const s=await Sa(e,t);s.ok?(await L(),g&&g.id===e&&b(Be(Be({},g),{},{status:t})),i("")):403===s.status?i("Cannot modify admin user status. Admin accounts are protected."):i(s.message||"Failed to update user status")}catch(s){s.response&&403===s.response.status?i("Cannot modify admin user status. Admin accounts are protected."):s.response&&s.response.data&&s.response.data.message?i(s.response.data.message):i("Network error. Please try again.")}finally{w(null)}},R=async e=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{w(e);const t=await Ca(e);if(t.ok)It.success("User deleted successfully"),await L(),v(!1),b(null),i("");else{i("");const e=t.message||"Failed to delete user";403===t.status||e.includes("admin")||e.includes("protected")?It.error("Cannot delete admin users. Admin accounts are protected."):It.error(e)}}catch(t){if(i(""),t.response&&403===t.response.status)It.error("Cannot delete admin users. Admin accounts are protected.");else if(t.response&&t.response.data&&t.response.data.message){const e=t.response.data.message;e.includes("admin")||e.includes("protected")?It.error("Cannot delete admin users. Admin accounts are protected."):It.error(e)}else It.error("Network error. Please try again.")}finally{w(null)}},D=e=>{switch(e){case"ADMIN":return"bg-red-100 text-red-800";case"INFLUENCER":return"bg-purple-100 text-purple-800";case"BRAND":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},O=e=>{switch(e){case"ACTIVE":return"bg-green-100 text-green-800";case"SUSPENDED":return"bg-yellow-100 text-yellow-800";case"DELETED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},M=e.filter(e=>{var t,s,r;const n=(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null===(s=e.email)||void 0===s?void 0:s.toLowerCase().includes(o.toLowerCase()))||(null===(r=e.phone)||void 0===r?void 0:r.includes(o)),a="ALL"===c||e.user_type===c,i="ALL"===u||e.status===u;return n&&a&&i});return s?(0,zm.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-20 h-20 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),(0,zm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Users"}),(0,zm.jsx)("p",{className:"text-lg text-gray-600",children:"Fetching user data..."})]})}):(0,zm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,zm.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,zm.jsx)("div",{className:"px-6 py-8",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"User Management"}),(0,zm.jsx)("p",{className:"text-gray-600 text-lg",children:"Manage all registered users and their accounts"})]}),(0,zm.jsx)("div",{className:"flex items-center space-x-4",children:(0,zm.jsxs)("button",{onClick:L,className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-all duration-200 flex items-center space-x-3 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,zm.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,zm.jsx)("span",{className:"font-semibold",children:"Refresh"})]})})]})})}),(0,zm.jsxs)("div",{className:"px-6 py-8",children:[(0,zm.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 mb-8",children:(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,zm.jsxs)("div",{className:"lg:col-span-2",children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Search Users"}),(0,zm.jsxs)("div",{className:"relative",children:[(0,zm.jsx)("input",{type:"text",placeholder:"Search by name, email, or phone...",value:o,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900"}),(0,zm.jsx)("svg",{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role"}),(0,zm.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",children:[(0,zm.jsx)("option",{value:"ALL",children:"All Roles"}),(0,zm.jsx)("option",{value:"NORMAL",children:"Normal"}),(0,zm.jsx)("option",{value:"INFLUENCER",children:"Influencer"}),(0,zm.jsx)("option",{value:"BRAND",children:"Brand"}),(0,zm.jsx)("option",{value:"ADMIN",children:"Admin"})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),(0,zm.jsxs)("select",{value:u,onChange:e=>p(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",children:[(0,zm.jsx)("option",{value:"ALL",children:"All Status"}),(0,zm.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,zm.jsx)("option",{value:"SUSPENDED",children:"Suspended"}),(0,zm.jsx)("option",{value:"DELETED",children:"Deleted"})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Sort By"}),(0,zm.jsxs)("select",{value:"".concat(m,"-").concat(x),onChange:e=>{const[t,s]=e.target.value.split("-");h(t),f(s)},className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",children:[(0,zm.jsx)("option",{value:"created_at-desc",children:"Newest First"}),(0,zm.jsx)("option",{value:"created_at-asc",children:"Oldest First"}),(0,zm.jsx)("option",{value:"name-asc",children:"Name A-Z"}),(0,zm.jsx)("option",{value:"name-desc",children:"Name Z-A"}),(0,zm.jsx)("option",{value:"email-asc",children:"Email A-Z"}),(0,zm.jsx)("option",{value:"email-desc",children:"Email Z-A"})]})]})]})}),n&&(0,zm.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:(0,zm.jsxs)("div",{className:"flex items-center",children:[(0,zm.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,zm.jsx)("p",{className:"text-red-800 font-medium",children:n})]})}),(0,zm.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,zm.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,zm.jsxs)("h3",{className:"text-xl font-bold text-gray-900",children:["Users (",M.length,")"]})}),0===M.length?(0,zm.jsxs)("div",{className:"text-center py-12",children:[(0,zm.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-2xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),(0,zm.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No users found"}),(0,zm.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Try adjusting your search or filter criteria"})]}):(0,zm.jsx)("div",{className:"overflow-x-auto",children:(0,zm.jsxs)("table",{className:"w-full",children:[(0,zm.jsx)("thead",{className:"bg-gray-50",children:(0,zm.jsxs)("tr",{children:[(0,zm.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"User"}),(0,zm.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Role"}),(0,zm.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Status"}),(0,zm.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Joined"}),(0,zm.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Actions"})]})}),(0,zm.jsx)("tbody",{className:"divide-y divide-gray-200",children:M.map(e=>{var t;return(0,zm.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,zm.jsx)("td",{className:"px-6 py-4",children:(0,zm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,zm.jsx)("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center text-white text-sm font-bold shadow-md",children:(null===(t=e.name)||void 0===t?void 0:t.charAt(0))||"U"}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-gray-900 font-semibold text-base",children:e.name||"No Name"}),(0,zm.jsx)("p",{className:"text-gray-500 text-sm",children:e.email}),e.phone&&(0,zm.jsx)("p",{className:"text-gray-500 text-sm",children:e.phone})]})]})}),(0,zm.jsx)("td",{className:"px-6 py-4",children:(0,zm.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold ".concat(D(e.user_type)),children:e.user_type||"NORMAL"})}),(0,zm.jsx)("td",{className:"px-6 py-4",children:(0,zm.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold ".concat(O(e.status)),children:e.status||"ACTIVE"})}),(0,zm.jsx)("td",{className:"px-6 py-4 text-gray-600 text-sm",children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"}),(0,zm.jsx)("td",{className:"px-6 py-4",children:(0,zm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,zm.jsx)("button",{onClick:()=>(async e=>{try{const t=await ka(e.id);t.ok?(b(t.data),v(!0)):i(t.message||"Failed to load user details")}catch(t){i("Network error. Please try again.")}})(e),className:"bg-blue-600 text-white px-3 py-1.5 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"View"}),"ADMIN"!==e.status&&"DELETED"!==e.status&&("ACTIVE"===e.status?(0,zm.jsx)("button",{onClick:()=>F(e.id,"SUSPENDED"),disabled:j===e.id,className:"bg-yellow-600 text-white px-3 py-1.5 rounded-lg hover:bg-yellow-700 transition-colors text-sm font-medium disabled:opacity-50",children:j===e.id?"...":"Suspend"}):"SUSPENDED"===e.status?(0,zm.jsx)("button",{onClick:()=>F(e.id,"ACTIVE"),disabled:j===e.id,className:"bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 transition-colors text-sm font-medium disabled:opacity-50",children:j===e.id?"...":"Activate"}):null),"DELETED"!==e.status&&(0,zm.jsx)("button",{onClick:()=>R(e.id),disabled:j===e.id,className:"bg-red-600 text-white px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors text-sm font-medium disabled:opacity-50",children:j===e.id?"...":"Delete"})]})})]},e.id)})})]})})]})]}),y&&g&&(0,zm.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,zm.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,zm.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>v(!1)}),(0,zm.jsx)("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:(0,zm.jsxs)("div",{className:"bg-white px-6 py-8",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,zm.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"User Details"}),(0,zm.jsx)("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,zm.jsx)("div",{className:"space-y-6",children:(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile Information"}),(0,zm.jsxs)("div",{className:"space-y-3",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,zm.jsx)("p",{className:"text-gray-900",children:g.name||"Not provided"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,zm.jsx)("p",{className:"text-gray-900",children:g.email})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),(0,zm.jsx)("p",{className:"text-gray-900",children:g.phone||"Not provided"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"User Type"}),(0,zm.jsx)("span",{className:"inline-block px-3 py-1.5 rounded-full text-xs font-semibold ".concat(D(g.user_type)),children:g.user_type||"NORMAL"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,zm.jsx)("span",{className:"inline-block px-3 py-1.5 rounded-full text-xs font-semibold ".concat(O(g.status)),children:g.status||"ACTIVE"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Joined"}),(0,zm.jsx)("p",{className:"text-gray-900",children:g.created_at?new Date(g.created_at).toLocaleString():"N/A"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subscription Status"}),(0,zm.jsxs)("div",{className:"flex items-center gap-3",children:[(0,zm.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold ".concat(g.is_subscribed?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:g.is_subscribed?"Subscribed":"Not Subscribed"}),g.subscription_expiration&&(0,zm.jsxs)("span",{className:"text-sm text-gray-600 flex items-center gap-1",children:[(0,zm.jsx)(wx,{className:"w-4 h-4"}),"Expires: ",new Date(g.subscription_expiration).toLocaleDateString()]})]}),(0,zm.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,zm.jsxs)("button",{onClick:async()=>{A(null),await(async()=>{try{E(!0);const t=await Ba();var e;t.ok?S((null===(e=t.data)||void 0===e?void 0:e.plans)||[]):It.error("Failed to load subscription plans")}catch(t){It.error("Failed to load subscription plans")}finally{E(!1)}})(),_(!0)},className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors text-sm font-medium flex items-center gap-2",children:[(0,zm.jsx)(yx,{className:"w-4 h-4"}),g.is_subscribed?"Change Subscription":"Assign Subscription"]}),g.is_subscribed&&(0,zm.jsxs)("button",{onClick:async()=>{if(null!==g&&void 0!==g&&g.email)if(null!==g&&void 0!==g&&g.is_subscribed){if(window.confirm("Are you sure you want to remove the subscription from ".concat(g.email,"?")))try{I(!0);const e=await Pa(g.email);if(e.ok){It.success("Subscription removed successfully");const e=await ka(g.id);e.ok&&b(e.data)}else It.error(e.message||"Failed to remove subscription")}catch(s){var e,t;It.error((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to remove subscription")}finally{I(!1)}}else It.error("User does not have an active subscription");else It.error("User email not found")},disabled:T,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors text-sm font-medium flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,zm.jsx)(Gh,{className:"w-4 h-4"}),T?"Removing...":"Remove Subscription"]})]})]})]})]})}),(0,zm.jsx)("div",{className:"space-y-6",children:(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Statistics"}),(0,zm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,zm.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4",children:[(0,zm.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:g.total_uploads||0}),(0,zm.jsx)("p",{className:"text-blue-700 text-sm font-medium",children:"Total Uploads"})]}),(0,zm.jsxs)("div",{className:"bg-green-50 rounded-xl p-4",children:[(0,zm.jsx)("p",{className:"text-2xl font-bold text-green-600",children:g.total_likes||0}),(0,zm.jsx)("p",{className:"text-green-700 text-sm font-medium",children:"Total Likes"})]}),(0,zm.jsxs)("div",{className:"bg-purple-50 rounded-xl p-4",children:[(0,zm.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:g.is_subscribed?"Yes":"No"}),(0,zm.jsx)("p",{className:"text-purple-700 text-sm font-medium",children:"Subscribed"})]}),(0,zm.jsxs)("div",{className:"bg-yellow-50 rounded-xl p-4",children:[(0,zm.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:g.total_views||0}),(0,zm.jsx)("p",{className:"text-yellow-700 text-sm font-medium",children:"Total Views"})]})]})]})})]}),(0,zm.jsxs)("div",{className:"flex items-center justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:["ADMIN"!==g.status&&"DELETED"!==g.status&&("ACTIVE"===g.status?(0,zm.jsx)("button",{onClick:()=>F(g.id,"SUSPENDED"),disabled:j===g.id,className:"bg-yellow-600 text-white px-6 py-3 rounded-xl hover:bg-yellow-700 transition-colors font-semibold disabled:opacity-50",children:j===g.id?"Processing...":"Suspend User"}):"SUSPENDED"===g.status?(0,zm.jsx)("button",{onClick:()=>F(g.id,"ACTIVE"),disabled:j===g.id,className:"bg-green-600 text-white px-6 py-3 rounded-xl hover:bg-green-700 transition-colors font-semibold disabled:opacity-50",children:j===g.id?"Processing...":"Activate User"}):null),"DELETED"!==g.status&&(0,zm.jsx)("button",{onClick:()=>R(g.id),disabled:j===g.id,className:"bg-red-600 text-white px-6 py-3 rounded-xl hover:bg-red-700 transition-colors font-semibold disabled:opacity-50",children:j===g.id?"Processing...":"Delete User"})]})]})})]})}),N&&g&&(0,zm.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,zm.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,zm.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>_(!1)}),(0,zm.jsx)("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:(0,zm.jsxs)("div",{className:"bg-white px-6 py-8",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Assign Subscription"}),(0,zm.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["User: ",g.email]})]}),(0,zm.jsx)("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-gray-600",children:(0,zm.jsx)(uh,{className:"w-6 h-6"})})]}),C?(0,zm.jsxs)("div",{className:"text-center py-8",children:[(0,zm.jsx)("div",{className:"w-12 h-12 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),(0,zm.jsx)("p",{className:"text-gray-600",children:"Loading subscription plans..."})]}):0===k.length?(0,zm.jsx)("div",{className:"text-center py-8",children:(0,zm.jsx)("p",{className:"text-gray-600",children:"No subscription plans available"})}):(0,zm.jsx)("div",{className:"space-y-4",children:(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select Subscription Plan"}),(0,zm.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:k.map(e=>(0,zm.jsx)("div",{onClick:()=>A(e.plan_id),className:"p-4 border-2 rounded-xl cursor-pointer transition-all ".concat(P===e.plan_id?"border-purple-600 bg-purple-50":"border-gray-200 hover:border-gray-300"),children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{className:"flex-1",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,zm.jsx)("h4",{className:"font-semibold text-gray-900",children:e.plan_name}),(0,zm.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium ".concat("YEARLY"===e.plan_type?"bg-green-100 text-green-800":"MONTHLY"===e.plan_type?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:e.plan_type})]}),e.plan_description&&(0,zm.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.plan_description}),(0,zm.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,zm.jsxs)("span",{className:"font-semibold text-gray-900",children:["$",parseFloat(e.price).toFixed(2)]}),(0,zm.jsxs)("span",{children:[e.duration_days," days"]})]})]}),(0,zm.jsx)("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center ".concat(P===e.plan_id?"border-purple-600 bg-purple-600":"border-gray-300"),children:P===e.plan_id&&(0,zm.jsx)("div",{className:"w-3 h-3 rounded-full bg-white"})})]})},e.plan_id))})]})}),(0,zm.jsxs)("div",{className:"flex items-center justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:[(0,zm.jsx)("button",{onClick:()=>_(!1),className:"px-6 py-3 rounded-xl border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),(0,zm.jsx)("button",{onClick:async()=>{if(P)if(null!==g&&void 0!==g&&g.email)try{I(!0);const e=await Ea(g.email,P);if(e.ok){It.success("Subscription assigned successfully"),_(!1);const e=await ka(g.id);e.ok&&b(e.data)}else It.error(e.message||"Failed to assign subscription")}catch(s){var e,t;It.error((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to assign subscription")}finally{I(!1)}else It.error("User email not found");else It.error("Please select a subscription plan")},disabled:!P||T,className:"px-6 py-3 rounded-xl bg-purple-600 text-white hover:bg-purple-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:T?(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Assigning..."]}):(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)(yx,{className:"w-4 h-4"}),"Assign Subscription"]})})]})]})})]})})]})},Gx=()=>{const[e,t]=(0,a.useState)("pending"),[s,r]=(0,a.useState)([]),[n,i]=(0,a.useState)([]),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[u,p]=(0,a.useState)(""),[m,h]=(0,a.useState)(null),[x,f]=(0,a.useState)(!1),[g,b]=(0,a.useState)(null),[y,v]=(0,a.useState)("");(0,a.useEffect)(()=>{j()},[]);const j=async()=>{try{d(!0);const e=await Aa();if(e.ok){const t=e.data;r(t.influencers||[]),i(t.pending||[]),l(t.approved||[])}else p(e.message||"Failed to load influencers")}catch(e){p("Network error. Please try again.")}finally{d(!1)}},w=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{b(e);r&&({action:t,reason:s}.request_id=r);const n=await Ia(e,t,s,r);n.ok?(await j(),m&&m.id===e&&(f(!1),h(null))):p(n.message||"Failed to update influencer status")}catch(n){p("Network error. Please try again.")}finally{b(null)}},N=e=>{switch(e){case"APPROVED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"REJECTED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},_=e=>y?e.filter(e=>{var t,s,r;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(y.toLowerCase()))||(null===(s=e.email)||void 0===s?void 0:s.toLowerCase().includes(y.toLowerCase()))||(null===(r=e.business_name)||void 0===r?void 0:r.toLowerCase().includes(y.toLowerCase()))}):e,k=e=>{var t,s;let{influencer:r,showActions:n=!0}=e;return(0,zm.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300",children:(0,zm.jsxs)("div",{className:"flex items-start justify-between",children:[(0,zm.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,zm.jsx)("div",{className:"w-16 h-16 bg-purple-600 rounded-2xl flex items-center justify-center text-white text-lg font-bold shadow-md",children:(null===(t=r.name)||void 0===t?void 0:t.charAt(0))||"I"}),(0,zm.jsxs)("div",{className:"flex-1",children:[(0,zm.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:r.name||"No Name"}),(0,zm.jsx)("p",{className:"text-gray-600 mb-2",children:r.email}),r.business_name&&(0,zm.jsx)("p",{className:"text-gray-500 text-sm mb-3",children:r.business_name}),(0,zm.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,zm.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold ".concat(N(r.status)),children:r.status||"PENDING"}),(0,zm.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold ".concat((a=r.subscription,a&&a.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800")),children:null!==(s=r.subscription)&&void 0!==s&&s.is_active?"Active Subscription":"No Subscription"})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:r.total_videos||0}),(0,zm.jsx)("p",{className:"text-xs text-gray-500",children:"Videos"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:r.total_engagement||0}),(0,zm.jsx)("p",{className:"text-xs text-gray-500",children:"Engagement"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",r.total_earnings||0]}),(0,zm.jsx)("p",{className:"text-xs text-gray-500",children:"Earnings"})]})]})]})]}),(0,zm.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,zm.jsx)("button",{onClick:()=>(async e=>{try{const t=await Ta(e.id);t.ok?(h(t.data),f(!0)):p(t.message||"Failed to load influencer details")}catch(t){p("Network error. Please try again.")}})(r),className:"bg-blue-600 text-white px-4 py-2 rounded-xl hover:bg-blue-700 transition-colors text-sm font-medium",children:"View Details"}),n&&"PENDING"===r.status&&(0,zm.jsxs)("div",{className:"flex space-x-2",children:[(0,zm.jsx)("button",{onClick:()=>w(r.id,"approve","",r.request_id||null),disabled:g===r.id,className:"bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 transition-colors text-xs font-medium disabled:opacity-50",children:g===r.id?"...":"Approve"}),(0,zm.jsx)("button",{onClick:()=>{const e=prompt("Rejection reason (optional):");null!==e&&w(r.id,"reject",e,r.request_id||null)},disabled:g===r.id,className:"bg-red-600 text-white px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors text-xs font-medium disabled:opacity-50",children:g===r.id?"...":"Reject"})]})]})]})});var a};return c?(0,zm.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-20 h-20 border-4 border-gray-200 border-t-purple-600 rounded-full animate-spin mx-auto mb-6"}),(0,zm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Influencers"}),(0,zm.jsx)("p",{className:"text-lg text-gray-600",children:"Fetching influencer data..."})]})}):(0,zm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,zm.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,zm.jsx)("div",{className:"px-6 py-8",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Influencer Management"}),(0,zm.jsx)("p",{className:"text-gray-600 text-lg",children:"Manage influencer approvals, subscriptions, and performance"})]}),(0,zm.jsx)("div",{className:"flex items-center space-x-4",children:(0,zm.jsxs)("button",{onClick:j,className:"bg-purple-600 text-white px-6 py-3 rounded-xl hover:bg-purple-700 transition-all duration-200 flex items-center space-x-3 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,zm.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,zm.jsx)("span",{className:"font-semibold",children:"Refresh"})]})})]})})}),(0,zm.jsxs)("div",{className:"px-6 py-8",children:[(0,zm.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 mb-8",children:(0,zm.jsxs)("div",{className:"relative",children:[(0,zm.jsx)("input",{type:"text",placeholder:"Search influencers by name, email, or business name...",value:y,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-900"}),(0,zm.jsx)("svg",{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),u&&(0,zm.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:(0,zm.jsxs)("div",{className:"flex items-center",children:[(0,zm.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,zm.jsx)("p",{className:"text-red-800 font-medium",children:u})]})}),(0,zm.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden mb-8",children:[(0,zm.jsx)("div",{className:"border-b border-gray-200",children:(0,zm.jsxs)("nav",{className:"flex",children:[(0,zm.jsxs)("button",{onClick:()=>t("pending"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("pending"===e?"bg-purple-600 text-white border-b-2 border-purple-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Pending Approval (",_(n).length,")"]}),(0,zm.jsxs)("button",{onClick:()=>t("approved"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("approved"===e?"bg-purple-600 text-white border-b-2 border-purple-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Approved Influencers (",_(o).length,")"]}),(0,zm.jsxs)("button",{onClick:()=>t("all"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("all"===e?"bg-purple-600 text-white border-b-2 border-purple-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["All Influencers (",_(s).length,")"]})]})}),(0,zm.jsxs)("div",{className:"p-6",children:["pending"===e&&(0,zm.jsx)("div",{className:"space-y-6",children:0===_(n).length?(0,zm.jsxs)("div",{className:"text-center py-12",children:[(0,zm.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-2xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),(0,zm.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No pending influencers"}),(0,zm.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"All influencer applications have been processed"})]}):_(n).map(e=>(0,zm.jsx)(k,{influencer:e,showActions:!0},e.id))}),"approved"===e&&(0,zm.jsx)("div",{className:"space-y-6",children:0===_(o).length?(0,zm.jsxs)("div",{className:"text-center py-12",children:[(0,zm.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-2xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),(0,zm.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No approved influencers"}),(0,zm.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Approved influencers will appear here"})]}):_(o).map(e=>(0,zm.jsx)(k,{influencer:e,showActions:!1},e.id))}),"all"===e&&(0,zm.jsx)("div",{className:"space-y-6",children:0===_(s).length?(0,zm.jsxs)("div",{className:"text-center py-12",children:[(0,zm.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-2xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),(0,zm.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No influencers found"}),(0,zm.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Try adjusting your search criteria"})]}):_(s).map(e=>(0,zm.jsx)(k,{influencer:e,showActions:!1},e.id))})]})]})]}),x&&m&&(0,zm.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,zm.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,zm.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>f(!1)}),(0,zm.jsx)("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:(0,zm.jsxs)("div",{className:"bg-white px-6 py-8",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,zm.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Influencer Details"}),(0,zm.jsx)("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,zm.jsx)("div",{className:"space-y-6",children:(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile Information"}),(0,zm.jsxs)("div",{className:"space-y-3",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,zm.jsx)("p",{className:"text-gray-900",children:m.name||"Not provided"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,zm.jsx)("p",{className:"text-gray-900",children:m.email})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Business Name"}),(0,zm.jsx)("p",{className:"text-gray-900",children:m.business_name||"Not provided"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,zm.jsx)("span",{className:"inline-block px-3 py-1.5 rounded-full text-xs font-semibold ".concat(N(m.status)),children:m.status||"PENDING"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Applied"}),(0,zm.jsx)("p",{className:"text-gray-900",children:m.created_at?new Date(m.created_at).toLocaleString():"N/A"})]})]})]})}),(0,zm.jsx)("div",{className:"space-y-6",children:(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Statistics"}),(0,zm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,zm.jsxs)("div",{className:"bg-purple-50 rounded-xl p-4",children:[(0,zm.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:m.total_videos||0}),(0,zm.jsx)("p",{className:"text-purple-700 text-sm font-medium",children:"Total Videos"})]}),(0,zm.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4",children:[(0,zm.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:m.total_engagement||0}),(0,zm.jsx)("p",{className:"text-blue-700 text-sm font-medium",children:"Total Engagement"})]}),(0,zm.jsxs)("div",{className:"bg-green-50 rounded-xl p-4",children:[(0,zm.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",m.total_earnings||0]}),(0,zm.jsx)("p",{className:"text-green-700 text-sm font-medium",children:"Total Earnings"})]}),(0,zm.jsxs)("div",{className:"bg-yellow-50 rounded-xl p-4",children:[(0,zm.jsxs)("p",{className:"text-2xl font-bold text-yellow-600",children:[m.avg_engagement_rate||0,"%"]}),(0,zm.jsx)("p",{className:"text-yellow-700 text-sm font-medium",children:"Avg Engagement Rate"})]})]})]})})]}),(0,zm.jsx)("div",{className:"flex items-center justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:"PENDING"===m.status&&(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)("button",{onClick:()=>w(m.id,"approve","",m.request_id||null),disabled:g===m.id,className:"bg-green-600 text-white px-6 py-3 rounded-xl hover:bg-green-700 transition-colors font-semibold disabled:opacity-50",children:g===m.id?"Processing...":"Approve Influencer"}),(0,zm.jsx)("button",{onClick:()=>{const e=prompt("Rejection reason (optional):");null!==e&&w(m.id,"reject",e,m.request_id||null)},disabled:g===m.id,className:"bg-red-600 text-white px-6 py-3 rounded-xl hover:bg-red-700 transition-colors font-semibold disabled:opacity-50",children:g===m.id?"Processing...":"Reject Influencer"})]})})]})})]})})]})},Kx=()=>{const[e,t]=(0,a.useState)("pending"),[s,r]=(0,a.useState)([]),[n,i]=(0,a.useState)([]),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[u,p]=(0,a.useState)(""),[m,h]=(0,a.useState)(null),[x,f]=(0,a.useState)(!1),[g,b]=(0,a.useState)(null),[y,v]=(0,a.useState)("");(0,a.useEffect)(()=>{j()},[]);const j=async()=>{try{d(!0);const e=await La();if(e.ok){const t=e.data;r(t.brands||[]),i(t.pending||[]),l(t.approved||[])}else p(e.message||"Failed to load brands")}catch(e){p("Network error. Please try again.")}finally{d(!1)}},w=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{b(e);const n=await Ra(e,t,s,r);n.ok?(await j(),m&&m.id===e&&(f(!1),h(null))):p(n.message||"Failed to update brand status")}catch(n){p("Network error. Please try again.")}finally{b(null)}},N=async function(e,t,s){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";try{b("".concat(e,"-").concat(t));const n=await Da(t,s,r);n.ok?await j():p(n.message||"Failed to update video status")}catch(n){p("Network error. Please try again.")}finally{b(null)}},_=e=>{switch(e){case"APPROVED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"REJECTED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},k=e=>{switch(e){case"APPROVED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"FLAGGED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},S=e=>y?e.filter(e=>{var t,s,r;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(y.toLowerCase()))||(null===(s=e.email)||void 0===s?void 0:s.toLowerCase().includes(y.toLowerCase()))||(null===(r=e.business_name)||void 0===r?void 0:r.toLowerCase().includes(y.toLowerCase()))}):e,C=e=>{var t;let{brand:s,showActions:r=!0}=e;return(0,zm.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300",children:(0,zm.jsxs)("div",{className:"flex items-start justify-between",children:[(0,zm.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,zm.jsx)("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center text-white text-lg font-bold shadow-md",children:(null===(t=s.name)||void 0===t?void 0:t.charAt(0))||"B"}),(0,zm.jsxs)("div",{className:"flex-1",children:[(0,zm.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:s.name||"No Name"}),(0,zm.jsx)("p",{className:"text-gray-600 mb-2",children:s.email}),s.business_name&&(0,zm.jsx)("p",{className:"text-gray-500 text-sm mb-3",children:s.business_name}),(0,zm.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,zm.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold ".concat(_(s.status)),children:s.status||"PENDING"}),(0,zm.jsxs)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:[s.upload_limit||3," Uploads Remaining"]})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-center",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:s.total_videos||0}),(0,zm.jsx)("p",{className:"text-xs text-gray-500",children:"Total Videos"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-2xl font-bold text-green-600",children:s.approved_videos||0}),(0,zm.jsx)("p",{className:"text-xs text-gray-500",children:"Approved"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-2xl font-bold text-red-600",children:s.flagged_videos||0}),(0,zm.jsx)("p",{className:"text-xs text-gray-500",children:"Flagged"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:["$",s.total_payments||0]}),(0,zm.jsx)("p",{className:"text-xs text-gray-500",children:"Payments"})]})]})]})]}),(0,zm.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,zm.jsx)("button",{onClick:()=>(async e=>{try{const t=await Fa(e.id);t.ok?(h(t.data),f(!0)):p(t.message||"Failed to load brand details")}catch(t){p("Network error. Please try again.")}})(s),className:"bg-blue-600 text-white px-4 py-2 rounded-xl hover:bg-blue-700 transition-colors text-sm font-medium",children:"View Details"}),r&&"PENDING"===s.status&&(0,zm.jsxs)("div",{className:"flex space-x-2",children:[(0,zm.jsx)("button",{onClick:()=>w(s.id,"approve","",s.request_id||null),disabled:g===s.id,className:"bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 transition-colors text-xs font-medium disabled:opacity-50",children:g===s.id?"...":"Approve"}),(0,zm.jsx)("button",{onClick:()=>{const e=prompt("Rejection reason (optional):");null!==e&&w(s.id,"reject",e,s.request_id||null)},disabled:g===s.id,className:"bg-red-600 text-white px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors text-xs font-medium disabled:opacity-50",children:g===s.id?"...":"Reject"})]})]})]})})};return c?(0,zm.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-20 h-20 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),(0,zm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Brands"}),(0,zm.jsx)("p",{className:"text-lg text-gray-600",children:"Fetching brand data..."})]})}):(0,zm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,zm.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,zm.jsx)("div",{className:"px-6 py-8",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Brand Management"}),(0,zm.jsx)("p",{className:"text-gray-600 text-lg",children:"Manage brand approvals, video uploads, and payment tracking"})]}),(0,zm.jsx)("div",{className:"flex items-center space-x-4",children:(0,zm.jsxs)("button",{onClick:j,className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-all duration-200 flex items-center space-x-3 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,zm.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,zm.jsx)("span",{className:"font-semibold",children:"Refresh"})]})})]})})}),(0,zm.jsxs)("div",{className:"px-6 py-8",children:[(0,zm.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 mb-8",children:(0,zm.jsxs)("div",{className:"relative",children:[(0,zm.jsx)("input",{type:"text",placeholder:"Search brands by name, email, or business name...",value:y,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900"}),(0,zm.jsx)("svg",{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),u&&(0,zm.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:(0,zm.jsxs)("div",{className:"flex items-center",children:[(0,zm.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,zm.jsx)("p",{className:"text-red-800 font-medium",children:u})]})}),(0,zm.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden mb-8",children:[(0,zm.jsx)("div",{className:"border-b border-gray-200",children:(0,zm.jsxs)("nav",{className:"flex",children:[(0,zm.jsxs)("button",{onClick:()=>t("pending"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("pending"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Pending Approval (",S(n).length,")"]}),(0,zm.jsxs)("button",{onClick:()=>t("approved"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("approved"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Approved Brands (",S(o).length,")"]}),(0,zm.jsxs)("button",{onClick:()=>t("all"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("all"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["All Brands (",S(s).length,")"]})]})}),(0,zm.jsxs)("div",{className:"p-6",children:["pending"===e&&(0,zm.jsx)("div",{className:"space-y-6",children:0===S(n).length?(0,zm.jsxs)("div",{className:"text-center py-12",children:[(0,zm.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-2xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,zm.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No pending brands"}),(0,zm.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"All brand applications have been processed"})]}):S(n).map(e=>(0,zm.jsx)(C,{brand:e,showActions:!0},e.id))}),"approved"===e&&(0,zm.jsx)("div",{className:"space-y-6",children:0===S(o).length?(0,zm.jsxs)("div",{className:"text-center py-12",children:[(0,zm.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-2xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,zm.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No approved brands"}),(0,zm.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Approved brands will appear here"})]}):S(o).map(e=>(0,zm.jsx)(C,{brand:e,showActions:!1},e.id))}),"all"===e&&(0,zm.jsx)("div",{className:"space-y-6",children:0===S(s).length?(0,zm.jsxs)("div",{className:"text-center py-12",children:[(0,zm.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-2xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,zm.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No brands found"}),(0,zm.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Try adjusting your search criteria"})]}):S(s).map(e=>(0,zm.jsx)(C,{brand:e,showActions:!1},e.id))})]})]})]}),x&&m&&(0,zm.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,zm.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,zm.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>f(!1)}),(0,zm.jsx)("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-6xl sm:w-full",children:(0,zm.jsxs)("div",{className:"bg-white px-6 py-8",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,zm.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Brand Details"}),(0,zm.jsx)("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,zm.jsx)("div",{className:"space-y-6",children:(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Brand Information"}),(0,zm.jsxs)("div",{className:"space-y-3",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,zm.jsx)("p",{className:"text-gray-900",children:m.name||"Not provided"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,zm.jsx)("p",{className:"text-gray-900",children:m.email})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Business Name"}),(0,zm.jsx)("p",{className:"text-gray-900",children:m.business_name||"Not provided"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,zm.jsx)("span",{className:"inline-block px-3 py-1.5 rounded-full text-xs font-semibold ".concat(_(m.status)),children:m.status||"PENDING"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Upload Limit"}),(0,zm.jsxs)("p",{className:"text-gray-900",children:[m.upload_limit||3," videos remaining"]})]})]})]})}),(0,zm.jsx)("div",{className:"space-y-6",children:(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Brand Statistics"}),(0,zm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,zm.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4",children:[(0,zm.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:m.total_videos||0}),(0,zm.jsx)("p",{className:"text-blue-700 text-sm font-medium",children:"Total Videos"})]}),(0,zm.jsxs)("div",{className:"bg-green-50 rounded-xl p-4",children:[(0,zm.jsx)("p",{className:"text-2xl font-bold text-green-600",children:m.approved_videos||0}),(0,zm.jsx)("p",{className:"text-green-700 text-sm font-medium",children:"Approved"})]}),(0,zm.jsxs)("div",{className:"bg-red-50 rounded-xl p-4",children:[(0,zm.jsx)("p",{className:"text-2xl font-bold text-red-600",children:m.flagged_videos||0}),(0,zm.jsx)("p",{className:"text-red-700 text-sm font-medium",children:"Flagged"})]}),(0,zm.jsxs)("div",{className:"bg-purple-50 rounded-xl p-4",children:[(0,zm.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:["$",m.total_payments||0]}),(0,zm.jsx)("p",{className:"text-purple-700 text-sm font-medium",children:"Total Payments"})]})]})]})})]}),m.videos&&m.videos.length>0&&(0,zm.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[(0,zm.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Video Uploads"}),(0,zm.jsx)("div",{className:"space-y-4",children:m.videos.map(e=>(0,zm.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[(0,zm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,zm.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"font-medium text-gray-900",children:e.product_name}),(0,zm.jsxs)("p",{className:"text-sm text-gray-500",children:["$",e.price," \u2022 ",e.created_at]})]})]}),(0,zm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,zm.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold ".concat(k(e.status)),children:e.status||"PENDING"}),"PENDING"===e.status&&(0,zm.jsxs)("div",{className:"flex space-x-2",children:[(0,zm.jsx)("button",{onClick:()=>N(m.id,e.id,"approve"),disabled:g==="".concat(m.id,"-").concat(e.id),className:"bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 transition-colors text-xs font-medium disabled:opacity-50",children:"Approve"}),(0,zm.jsx)("button",{onClick:()=>{const t=prompt("Flag reason:");t&&N(m.id,e.id,"flag",t)},disabled:g==="".concat(m.id,"-").concat(e.id),className:"bg-red-600 text-white px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors text-xs font-medium disabled:opacity-50",children:"Flag"})]})]})]},e.id))})]}),(0,zm.jsx)("div",{className:"flex items-center justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:"PENDING"===m.status&&(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)("button",{onClick:()=>w(m.id,"approve","",m.request_id||null),disabled:g===m.id,className:"bg-green-600 text-white px-6 py-3 rounded-xl hover:bg-green-700 transition-colors font-semibold disabled:opacity-50",children:g===m.id?"Processing...":"Approve Brand"}),(0,zm.jsx)("button",{onClick:()=>{const e=prompt("Rejection reason (optional):");null!==e&&w(m.id,"reject",e,m.request_id||null)},disabled:g===m.id,className:"bg-red-600 text-white px-6 py-3 rounded-xl hover:bg-red-700 transition-colors font-semibold disabled:opacity-50",children:g===m.id?"Processing...":"Reject Brand"})]})})]})})]})})]})},$x=()=>{var e,t,s;const[r,n]=(0,a.useState)("pending"),[i,o]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[p,m]=(0,a.useState)([]),[h,x]=(0,a.useState)(!0),[f,g]=(0,a.useState)(""),[b,y]=(0,a.useState)(null),[v,j]=(0,a.useState)(!1),[w,N]=(0,a.useState)(null),[_,k]=(0,a.useState)("");(0,a.useEffect)(()=>{S()},[r]);const S=async()=>{try{x(!0);const e="all"===r?null:r.toUpperCase(),t=await Ma({status:e});if(t.ok){const e=t.listings||[];console.log("Fetched listings:",e.length,"total"),console.log("Sample listing:",e[0]),o(e),c(e.filter(e=>"PENDING"===(e.status||"PENDING"))),u(e.filter(e=>"APPROVED"===(e.status||"PENDING"))),m(e.filter(e=>"REJECTED"===(e.status||"PENDING")))}else g(t.message||"Failed to load listings")}catch(e){g("Network error. Please try again.")}finally{x(!1)}},C=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{N(e),g("");const r=await za(e,t,s);r.ok?(await S(),b&&b.request_id===e&&(j(!1),y(null))):g(r.message||"Failed to update listing status")}catch(a){var r,n;console.error("Approval error:",a);const e=(null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||a.message||"Network error. Please try again.";g(e)}finally{N(null)}},E=e=>{switch(e){case"APPROVED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"REJECTED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},P=e=>_?e.filter(e=>{var t,s,r;return e.products&&Array.isArray(e.products)?e.products.some(e=>{var t,s,r;return(null===(t=e.product_name)||void 0===t?void 0:t.toLowerCase().includes(_.toLowerCase()))||(null===(s=e.user_name)||void 0===s?void 0:s.toLowerCase().includes(_.toLowerCase()))||(null===(r=e.provider_name)||void 0===r?void 0:r.toLowerCase().includes(_.toLowerCase()))}):(null===(t=e.product_name)||void 0===t?void 0:t.toLowerCase().includes(_.toLowerCase()))||(null===(s=e.user_name)||void 0===s?void 0:s.toLowerCase().includes(_.toLowerCase()))||(null===(r=e.provider_name)||void 0===r?void 0:r.toLowerCase().includes(_.toLowerCase()))}):e,A=()=>{switch(r){case"pending":return P(l);case"approved":return P(d);case"rejected":return P(p);default:return P(i)}},T=e=>{var t;let{listing:s,showActions:r=!0}=e;const n=s.products&&Array.isArray(s.products),a=n?s.products[0]:s,i=(null===(t=s.video)||void 0===t?void 0:t.thumbnail_url)||s.thumbnail_url,o=s.first_request_id||s.request_id,l=s.product_count||1;return(0,zm.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300",children:(0,zm.jsxs)("div",{className:"flex items-start justify-between",children:[(0,zm.jsxs)("div",{className:"flex items-start space-x-4 flex-1",children:[i?(0,zm.jsx)("img",{src:i,alt:"Video thumbnail",className:"w-20 h-20 object-cover rounded-xl"}):(0,zm.jsx)("div",{className:"w-20 h-20 bg-purple-100 rounded-xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-10 h-10 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,zm.jsxs)("div",{className:"flex-1",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,zm.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:n?"".concat(l," Product").concat(l>1?"s":""):a.product_name||"No Name"}),n&&(0,zm.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-purple-100 text-purple-800",children:"Video Group"})]}),n&&s.products&&(0,zm.jsxs)("div",{className:"mb-2",children:[(0,zm.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Products:"}),(0,zm.jsxs)("div",{className:"flex flex-wrap gap-2",children:[s.products.slice(0,3).map((e,t)=>(0,zm.jsx)("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:e.product_name},t)),s.products.length>3&&(0,zm.jsxs)("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:["+",s.products.length-3," more"]})]})]}),!n&&(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)("p",{className:"text-gray-600 mb-2",children:a.user_name||"Unknown User"}),a.provider_name&&(0,zm.jsxs)("p",{className:"text-gray-500 text-sm mb-3",children:["Provider: ",a.provider_name]})]}),(0,zm.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,zm.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold ".concat(E(s.status||a.status)),children:s.status||a.status||"PENDING"}),!n&&(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:a.type||"PRODUCT"}),(0,zm.jsxs)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold bg-gray-100 text-gray-800",children:["\u20b9",Number(a.price||0).toLocaleString()]})]})]}),!n&&a.description&&(0,zm.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:a.description})]})]}),(0,zm.jsxs)("div",{className:"flex flex-col space-y-2 ml-4",children:[(0,zm.jsx)("button",{onClick:()=>(async e=>{try{const t=e.first_request_id||e.request_id,s=await Ua(t);s.ok?(y(s.data),j(!0)):g(s.message||"Failed to load listing details")}catch(t){g("Network error. Please try again.")}})(s),className:"bg-blue-600 text-white px-4 py-2 rounded-xl hover:bg-blue-700 transition-colors text-sm font-medium",children:"View Details"}),r&&"PENDING"===(s.status||a.status)&&(0,zm.jsxs)("div",{className:"flex space-x-2",children:[(0,zm.jsx)("button",{onClick:()=>C(o,"approve"),disabled:w===o,className:"bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 transition-colors text-xs font-medium disabled:opacity-50",children:w===o?"...":"Approve All"}),(0,zm.jsx)("button",{onClick:()=>{const e=prompt("Rejection reason (optional):");null!==e&&C(o,"reject",e)},disabled:w===o,className:"bg-red-600 text-white px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors text-xs font-medium disabled:opacity-50",children:w===o?"...":"Reject"})]})]})]})})};return h?(0,zm.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-20 h-20 border-4 border-gray-200 border-t-purple-600 rounded-full animate-spin mx-auto mb-6"}),(0,zm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Listings"}),(0,zm.jsx)("p",{className:"text-lg text-gray-600",children:"Fetching listing requests..."})]})}):(0,zm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,zm.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,zm.jsx)("div",{className:"px-6 py-8",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Listing Management"}),(0,zm.jsx)("p",{className:"text-gray-600 text-lg",children:"Review and approve listing requests"})]}),(0,zm.jsxs)("button",{onClick:S,className:"bg-purple-600 text-white px-6 py-3 rounded-xl hover:bg-purple-700 transition-all duration-200 flex items-center space-x-3 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,zm.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,zm.jsx)("span",{className:"font-semibold",children:"Refresh"})]})]})})}),(0,zm.jsxs)("div",{className:"px-6 py-8",children:[(0,zm.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 mb-8",children:(0,zm.jsxs)("div",{className:"relative",children:[(0,zm.jsx)("input",{type:"text",placeholder:"Search listings by name, user, or provider...",value:_,onChange:e=>k(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-900"}),(0,zm.jsx)("svg",{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),f&&(0,zm.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:(0,zm.jsxs)("div",{className:"flex items-center",children:[(0,zm.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,zm.jsx)("p",{className:"text-red-800",children:f})]})}),(0,zm.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 mb-8",children:(0,zm.jsx)("div",{className:"flex space-x-1 p-2",children:["pending","approved","rejected","all"].map(e=>(0,zm.jsxs)("button",{onClick:()=>n(e),className:"flex-1 py-3 px-4 rounded-xl font-semibold transition-all ".concat(r===e?"bg-purple-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100"),children:[e.charAt(0).toUpperCase()+e.slice(1)," (",A().length,")"]},e))})}),(0,zm.jsx)("div",{className:"space-y-6",children:0===A().length?(0,zm.jsxs)("div",{className:"bg-white rounded-2xl p-12 text-center shadow-lg border border-gray-100",children:[(0,zm.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-2xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,zm.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No listings found"}),(0,zm.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:['There are no listings with status "',r,'"']})]}):A().map((e,t)=>(0,zm.jsx)(T,{listing:e},e.first_request_id||e.request_id||e.group_key||t))})]}),v&&b&&(0,zm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,zm.jsxs)("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,zm.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Listing Details"}),(0,zm.jsx)("button",{onClick:()=>{j(!1),y(null)},className:"text-gray-400 hover:text-gray-600",children:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,zm.jsxs)("div",{className:"p-6 space-y-6",children:[(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,zm.jsxs)("div",{className:"md:col-span-1",children:[(0,zm.jsx)("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:null!==(e=b.video)&&void 0!==e&&e.video_url?(0,zm.jsx)("video",{src:b.video.video_url,poster:b.video.thumbnail_url,controls:!0,className:"w-full h-48 object-cover bg-black"}):null!==(t=b.video)&&void 0!==t&&t.thumbnail_url?(0,zm.jsx)("img",{src:b.video.thumbnail_url,alt:"Video thumbnail",className:"w-full h-48 object-cover bg-gray-100"}):(0,zm.jsx)("div",{className:"w-full h-48 bg-gray-100 flex items-center justify-center text-gray-500",children:"No video preview"})}),(0,zm.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsx)("span",{className:"text-sm text-gray-500",children:"Request ID"}),(0,zm.jsx)("span",{className:"text-sm font-medium text-gray-900",children:b.request_id})]}),(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsx)("span",{className:"text-sm text-gray-500",children:"Status"}),(0,zm.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold ".concat(E(b.status||"PENDING")),children:b.status||"PENDING"})]}),(null===(s=b.video)||void 0===s?void 0:s.video_status)&&(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsx)("span",{className:"text-sm text-gray-500",children:"Video Status"}),(0,zm.jsx)("span",{className:"text-sm font-medium text-gray-900",children:b.video.video_status})]}),b.created_at&&(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsx)("span",{className:"text-sm text-gray-500",children:"Created"}),(0,zm.jsx)("span",{className:"text-sm font-medium text-gray-900",children:new Date(b.created_at).toLocaleString()})]})]})]}),(0,zm.jsx)("div",{className:"md:col-span-2",children:(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.user&&(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,zm.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:"User"}),(0,zm.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:b.user.full_name||b.user_name}),(0,zm.jsx)("div",{className:"text-sm text-gray-700",children:b.user.email}),b.user.phone&&(0,zm.jsx)("div",{className:"text-sm text-gray-700",children:b.user.phone})]}),b.provider&&(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,zm.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:"Provider"}),(0,zm.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:b.provider.business_name||b.provider_name}),b.provider.provider_type&&(0,zm.jsxs)("div",{className:"text-sm text-gray-700",children:["Type: ",b.provider.provider_type]})]})]})})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Products in this request"}),Array.isArray(b.products)&&b.products.length>0?(0,zm.jsx)("div",{className:"space-y-3",children:b.products.map((e,t)=>(0,zm.jsx)("div",{className:"border border-gray-200 rounded-xl p-4",children:(0,zm.jsxs)("div",{className:"flex items-start gap-4",children:[(0,zm.jsx)("div",{className:"w-20 h-20 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:e.thumbnail?(0,zm.jsx)("img",{src:e.thumbnail,alt:e.product_name,className:"w-full h-full object-cover"}):(0,zm.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:"No thumbnail"})}),(0,zm.jsxs)("div",{className:"flex-1",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,zm.jsx)("div",{className:"text-base font-semibold text-gray-900",children:e.product_name}),(0,zm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zm.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:e.type}),null!=e.price&&(0,zm.jsxs)("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold bg-gray-100 text-gray-800",children:["\u20b9",Number(e.price||0).toLocaleString()]})]})]}),e.description&&(0,zm.jsx)("p",{className:"text-sm text-gray-700 mb-1",children:e.description}),(0,zm.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.category_name&&(0,zm.jsxs)("span",{children:["Category: ",e.category_name]}),e.link&&(0,zm.jsx)("a",{href:e.link,className:"text-blue-600 hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Link"})]})]})]})},e.product_id||t))}):(0,zm.jsx)("div",{className:"text-sm text-gray-600",children:"No products found for this request."})]}),"PENDING"===(b.status||"PENDING")&&(0,zm.jsxs)("div",{className:"flex space-x-3 pt-4 border-t",children:[(0,zm.jsx)("button",{onClick:()=>C(b.request_id,"approve"),disabled:w===b.request_id,className:"flex-1 bg-green-600 text-white px-6 py-3 rounded-xl hover:bg-green-700 transition-colors font-semibold disabled:opacity-50",children:w===b.request_id?"Processing...":"Approve All"}),(0,zm.jsx)("button",{onClick:()=>{const e=prompt("Rejection reason (optional):");null!==e&&C(b.request_id,"reject",e)},disabled:w===b.request_id,className:"flex-1 bg-red-600 text-white px-6 py-3 rounded-xl hover:bg-red-700 transition-colors font-semibold disabled:opacity-50",children:w===b.request_id?"Processing...":"Reject"})]})]})]})})]})},Yx=e=>{let{onClose:t,onSuccess:s}=e;const[r,n]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(null),[p,m]=(0,a.useState)(null),[h,x]=(0,a.useState)(""),[f,g]=(0,a.useState)(null),[b,y]=(0,a.useState)(null),[v,j]=(0,a.useState)(null),[w,N]=(0,a.useState)("PLATFORM_PROMO"),[_,k]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),[E,P]=(0,a.useState)(!1),[A,T]=(0,a.useState)([{type:"PRODUCT",product_name:"",price:"",description:"",link:"",category_id:"",thumbnail:"",thumbnailPreview:null,uploadingThumbnail:!1,coupons:[],couponCodeInput:"",couponDescriptionInput:""}]),[I,L]=(0,a.useState)({}),[F,R]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{try{o(!0);const e=await Ln();n(e.categories||[])}catch(xf){console.error("Failed to load categories",xf),n([])}finally{o(!1)}})()},[]);const D=(e,t,s)=>{T(r=>{const n=[...r];return n[e]=Be(Be({},n[e]),{},{[t]:s}),n}),L(s=>{const r=Be({},s);return delete r["product_".concat(e,"_").concat(t)],r})},O=async(e,t)=>{if(v)return v;P(!0);try{const s=await Wn({video_url:e||l,thumbnail_url:t||h,video_category:w});if(s.ok&&s.video_id)return j(s.video_id),s.video_id;throw new Error(s.error||s.message||"Failed to create video")}finally{P(!1)}},M=(0,a.useMemo)(()=>(r||[]).map(e=>({value:e.category_id,label:e.category_name})),[r]);return(0,zm.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl sm:max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Upload Admin Video & Products"}),(0,zm.jsx)("p",{className:"text-sm text-gray-500",children:"Admins can upload platform content with up to 10 associated products."})]}),(0,zm.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:(0,zm.jsx)(uh,{className:"w-6 h-6"})})]}),(0,zm.jsxs)("div",{className:"p-6 space-y-8",children:[(0,zm.jsxs)("section",{className:"space-y-4",children:[(0,zm.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[(0,zm.jsx)(Vh,{className:"w-5 h-5 text-blue-600"}),"Video & Thumbnail"]}),(0,zm.jsx)("p",{className:"text-sm text-gray-500",children:"Upload a short-form video (max 30s, 25MB). Add a high-quality thumbnail to feature your video."}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,zm.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-2xl p-6 flex flex-col items-center justify-center text-center",children:d?(0,zm.jsxs)("div",{className:"w-full",children:[(0,zm.jsx)("video",{src:d,className:"w-full rounded-xl mb-4",controls:!0}),(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsx)("span",{className:"text-sm text-gray-600 truncate",children:l}),(0,zm.jsx)("button",{onClick:()=>{d&&URL.revokeObjectURL(d),c(""),m(null),u(null),j(null)},className:"text-red-500 hover:text-red-700 text-sm font-semibold",children:"Remove"})]})]}):(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)(fx,{className:"w-12 h-12 text-gray-400 mb-4"}),(0,zm.jsx)("p",{className:"text-gray-600 font-semibold mb-2",children:"Drag & drop video here"}),(0,zm.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"or click to browse"}),(0,zm.jsxs)("label",{className:"cursor-pointer bg-blue-50 text-blue-600 px-4 py-2 rounded-xl hover:bg-blue-100 font-semibold text-sm inline-flex items-center gap-2",children:[(0,zm.jsx)("input",{type:"file",accept:"video/*",className:"hidden",onChange:e=>(async e=>{var t;if(!e)return;if(e.size>26214400)return void It.error("Video file too large. Maximum size is ".concat(25,"MB"));const s=["mp4","mov","avi","webm","mkv"],r=null===(t=e.name.split(".").pop())||void 0===t?void 0:t.toLowerCase();if(!s.includes(r))return void It.error("Invalid file type. Allowed formats: ".concat(s.join(", ")));const n=URL.createObjectURL(e),a=document.createElement("video"),i=new Promise((e,t)=>{a.preload="metadata",a.onloadedmetadata=()=>{const s=a.duration;URL.revokeObjectURL(n),s&&s>30?t(new Error("Video can be maximum 30 seconds long")):e()},a.onerror=()=>{URL.revokeObjectURL(n),e()},a.src=n});try{await i}catch(p){return void It.error(p.message)}k(!0),L(e=>Be(Be({},e),{},{video:null}));try{const t=await Vn(e);if(!t.ok||!t.url)throw new Error(t.message||"Upload failed");d&&URL.revokeObjectURL(d),c(t.url),m(t.success_token||null),u(URL.createObjectURL(e)),h&&b&&await O(t.url,h),It.success("Video uploaded successfully")}catch(xf){var o,l;console.error("Video upload error:",xf),It.error((null===(o=xf.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.message)||xf.message||"Failed to upload video")}finally{k(!1)}})(e.target.files[0])}),_?"Uploading...":"Select Video"]}),I.video&&(0,zm.jsx)("p",{className:"text-sm text-red-500 mt-3",children:I.video})]})}),(0,zm.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-2xl p-6 flex flex-col items-center justify-center text-center",children:f?(0,zm.jsxs)("div",{className:"w-full",children:[(0,zm.jsx)("img",{src:f,alt:"Thumbnail",className:"w-full rounded-xl mb-4"}),(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsx)("span",{className:"text-sm text-gray-600 truncate",children:h}),(0,zm.jsx)("button",{onClick:()=>{f&&URL.revokeObjectURL(f),x(""),y(null),g(null),j(null)},className:"text-red-500 hover:text-red-700 text-sm font-semibold",children:"Remove"})]})]}):(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)(Wh,{className:"w-12 h-12 text-gray-400 mb-4"}),(0,zm.jsx)("p",{className:"text-gray-600 font-semibold mb-2",children:"Upload Thumbnail"}),(0,zm.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"JPG, PNG or WEBP (max 20MB)"}),(0,zm.jsxs)("label",{className:"cursor-pointer bg-purple-50 text-purple-600 px-4 py-2 rounded-xl hover:bg-purple-100 font-semibold text-sm inline-flex items-center gap-2",children:[(0,zm.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>(async e=>{var t;if(!e)return;if(e.size>20971520)return void It.error("Image too large. Maximum size is ".concat(20,"MB"));const s=["jpg","jpeg","png","gif","webp"],r=null===(t=e.name.split(".").pop())||void 0===t?void 0:t.toLowerCase();if(s.includes(r)){C(!0),L(e=>Be(Be({},e),{},{thumbnail:null}));try{const t=await Hn(e);if(!t.ok||!t.url)throw new Error(t.message||"Upload failed");f&&URL.revokeObjectURL(f),x(t.url),y(t.success_token||null),g(URL.createObjectURL(e)),l&&p&&await O(l,t.url),It.success("Thumbnail uploaded successfully")}catch(xf){var n,a;console.error("Thumbnail upload error:",xf),It.error((null===(n=xf.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||xf.message||"Failed to upload thumbnail")}finally{C(!1)}}else It.error("Invalid file type. Allowed: ".concat(s.join(", ")))})(e.target.files[0])}),S?"Uploading...":"Select Image"]}),I.thumbnail&&(0,zm.jsx)("p",{className:"text-sm text-red-500 mt-3",children:I.thumbnail})]})})]}),(0,zm.jsx)("div",{className:"flex items-center space-x-4",children:(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Video Category"}),(0,zm.jsxs)("select",{value:w,onChange:e=>N(e.target.value),className:"mt-1 w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",children:[(0,zm.jsx)("option",{value:"PLATFORM_PROMO",children:"Platform Promo"}),(0,zm.jsx)("option",{value:"PROMOTION",children:"Promotion"}),(0,zm.jsx)("option",{value:"BRAND_ADS",children:"Brand Ads"}),(0,zm.jsx)("option",{value:"USER_CONTENT",children:"User Content"})]})]})})]}),(0,zm.jsxs)("section",{className:"space-y-4",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:"Products & Offers"}),(0,zm.jsx)("p",{className:"text-sm text-gray-500",children:"Link up to 10 products to this video. Each product can include coupons."})]}),(0,zm.jsxs)("button",{onClick:()=>{A.length>=10?It.error("Maximum ".concat(10," products allowed")):T(e=>[...e,{type:"PRODUCT",product_name:"",price:"",description:"",link:"",category_id:"",thumbnail:"",thumbnailPreview:null,uploadingThumbnail:!1,coupons:[],couponCodeInput:"",couponDescriptionInput:""}])},disabled:A.length>=10,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-40",children:[(0,zm.jsx)(qh,{className:"w-4 h-4"}),"Add Product"]})]}),(0,zm.jsx)("div",{className:"space-y-6",children:A.map((e,t)=>(0,zm.jsxs)("div",{className:"border border-gray-200 rounded-2xl p-5 space-y-4",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("h5",{className:"text-md font-semibold text-gray-900",children:["Product #",t+1]}),A.length>1&&(0,zm.jsxs)("button",{onClick:()=>(e=>{1!==A.length?T(t=>{const s=[...t],r=s[e];return r.thumbnailPreview&&URL.revokeObjectURL(r.thumbnailPreview),s.splice(e,1),s}):It.error("At least one product is required")})(t),className:"text-red-500 hover:text-red-700 flex items-center gap-1 text-sm font-semibold",children:[(0,zm.jsx)(Gh,{className:"w-4 h-4"}),"Remove"]})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Product Name"}),(0,zm.jsx)("input",{type:"text",value:e.product_name,onChange:e=>D(t,"product_name",e.target.value),className:"mt-1 w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"Product title"}),I["product_".concat(t,"_product_name")]&&(0,zm.jsx)("p",{className:"text-sm text-red-500 mt-1",children:I["product_".concat(t,"_product_name")]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Price"}),(0,zm.jsx)("input",{type:"number",min:"0",step:"0.01",value:e.price,onChange:e=>D(t,"price",e.target.value),className:"mt-1 w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"0.00"}),I["product_".concat(t,"_price")]&&(0,zm.jsx)("p",{className:"text-sm text-red-500 mt-1",children:I["product_".concat(t,"_price")]})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Description"}),(0,zm.jsx)("textarea",{rows:3,value:e.description,onChange:e=>D(t,"description",e.target.value),className:"mt-1 w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"Describe the offer, variants, benefits..."}),I["product_".concat(t,"_description")]&&(0,zm.jsx)("p",{className:"text-sm text-red-500 mt-1",children:I["product_".concat(t,"_description")]})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Product Link (optional)"}),(0,zm.jsx)("input",{type:"url",value:e.link,onChange:e=>D(t,"link",e.target.value),className:"mt-1 w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"https://"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Category"}),(0,zm.jsxs)("select",{value:e.category_id||"",onChange:e=>D(t,"category_id",e.target.value),className:"mt-1 w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",children:[(0,zm.jsx)("option",{value:"",children:"Select category"}),M.map(e=>(0,zm.jsx)("option",{value:e.value,children:e.label},e.value))]}),i&&(0,zm.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Loading categories..."})]})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,zm.jsx)("div",{className:"border-2 border-dashed border-gray-200 rounded-xl p-4 text-center",children:e.thumbnailPreview?(0,zm.jsxs)("div",{children:[(0,zm.jsx)("img",{src:e.thumbnailPreview,alt:"Product",className:"w-full h-40 object-cover rounded-lg mb-3"}),(0,zm.jsx)("button",{type:"button",onClick:()=>{e.thumbnailPreview&&URL.revokeObjectURL(e.thumbnailPreview),D(t,"thumbnail",""),D(t,"thumbnailPreview",null)},className:"text-sm text-red-500 font-semibold",children:"Remove Thumbnail"})]}):(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)(Wh,{className:"w-8 h-8 text-gray-400 mx-auto mb-3"}),(0,zm.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"Product thumbnail (optional)"}),(0,zm.jsxs)("label",{className:"cursor-pointer bg-gray-100 text-gray-700 px-4 py-2 rounded-xl hover:bg-gray-200 text-sm font-semibold inline-flex items-center gap-2",children:[(0,zm.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>(async(e,t)=>{var s;if(!e)return;const r=["jpg","jpeg","png","gif","webp"],n=null===(s=e.name.split(".").pop())||void 0===s?void 0:s.toLowerCase();if(r.includes(n)){T(e=>{const s=[...e];return s[t]=Be(Be({},s[t]),{},{uploadingThumbnail:!0}),s});try{const s=await Hn(e);if(!s.ok||!s.url)throw new Error(s.message||"Upload failed");T(r=>{const n=[...r];return n[t].thumbnailPreview&&URL.revokeObjectURL(n[t].thumbnailPreview),n[t]=Be(Be({},n[t]),{},{thumbnail:s.url,thumbnailPreview:URL.createObjectURL(e),thumbnailUploadToken:s.success_token||null,uploadingThumbnail:!1}),n}),It.success("Product thumbnail uploaded")}catch(xf){var a,i;console.error("Product thumbnail upload error:",xf),It.error((null===(a=xf.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message)||xf.message||"Failed to upload product thumbnail"),T(e=>{const s=[...e];return s[t]=Be(Be({},s[t]),{},{uploadingThumbnail:!1}),s})}}else It.error("Invalid file type. Allowed: ".concat(r.join(", ")))})(e.target.files[0],t)}),e.uploadingThumbnail?"Uploading...":"Upload Image"]})]})}),(0,zm.jsxs)("div",{children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,zm.jsxs)("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[(0,zm.jsx)(Kh,{className:"w-4 h-4 text-yellow-500"}),"Coupons"]}),(0,zm.jsxs)("span",{className:"text-xs text-gray-500",children:[e.coupons.length,"/",5]})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[(0,zm.jsx)("input",{type:"text",value:e.couponCodeInput,onChange:e=>D(t,"couponCodeInput",e.target.value.toUpperCase()),placeholder:"CODE10",className:"px-3 py-2 border border-gray-300 rounded-lg text-sm"}),(0,zm.jsx)("input",{type:"text",value:e.couponDescriptionInput,onChange:e=>D(t,"couponDescriptionInput",e.target.value),placeholder:"Description",className:"px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),(0,zm.jsx)("button",{type:"button",onClick:()=>(e=>{const t=A[e],s=(t.couponCodeInput||"").trim().toUpperCase();if(!s)return void It.error("Coupon code required");if(t.coupons.length>=5)return void It.error("Maximum ".concat(5," coupons per product"));const r=(t.couponDescriptionInput||"").trim();T(t=>{const n=[...t];return n[e]=Be(Be({},n[e]),{},{coupons:[...n[e].coupons,{code:s,description:r}],couponCodeInput:"",couponDescriptionInput:""}),n})})(t),className:"w-full text-sm bg-blue-50 text-blue-600 px-3 py-2 rounded-lg font-semibold hover:bg-blue-100 transition",children:"Add Coupon"}),(0,zm.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:e.coupons.map((e,s)=>(0,zm.jsxs)("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-100 text-blue-800 text-xs font-semibold",children:[e.code,(0,zm.jsx)("button",{type:"button",onClick:()=>{return e=t,r=s,void T(t=>{const s=[...t];return s[e]=Be(Be({},s[e]),{},{coupons:s[e].coupons.filter((e,t)=>t!==r)}),s});var e,r},className:"text-blue-600 hover:text-blue-800",children:(0,zm.jsx)(uh,{className:"w-3 h-3"})})]},e.code+s))})]})]})]},t))})]}),(0,zm.jsxs)("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-gray-200",children:[(0,zm.jsx)("button",{onClick:t,className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),(0,zm.jsx)("button",{onClick:async()=>{if((()=>{const e={};return l||(e.video="Video is required"),h||(e.thumbnail="Thumbnail is required"),L(t=>Be(Be({},t),e)),0===Object.keys(e).length})()&&(()=>{const e={};return A.forEach((t,s)=>{var r,n;null!==(r=t.product_name)&&void 0!==r&&r.trim()||(e["product_".concat(s,"_product_name")]="Name is required"),null!==(n=t.description)&&void 0!==n&&n.trim()||(e["product_".concat(s,"_description")]="Description is required"),(!t.price||Number(t.price)<=0)&&(e["product_".concat(s,"_price")]="Valid price required")}),L(t=>Be(Be({},t),e)),0===Object.keys(e).length})()){R(!0);try{const e={video_id:await O(),products:A.map(e=>({type:"PRODUCT",product_name:e.product_name,price:e.price,description:e.description,link:e.link||"",category_id:e.category_id||null,thumbnail:e.thumbnail||"",coupons:e.coupons||[]}))},t=await Kn(e);if(!t.ok)throw new Error(t.error||t.message||"Failed to create listing");It.success("Admin listing created successfully!"),s&&s()}catch(xf){console.error("Admin listing error:",xf),It.error(xf.message||"Failed to publish listing")}finally{R(!1)}}else It.error("Please fix the highlighted fields")},disabled:F||E,className:"px-6 py-3 rounded-xl bg-green-600 text-white font-semibold hover:bg-green-700 transition-colors disabled:opacity-50",children:F?"Publishing...":"Publish Listing"})]})]})]})},Jx=()=>{const[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)(!0),[n,i]=(0,a.useState)(""),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1);(0,a.useEffect)(()=>{u()},[]);const u=async()=>{try{r(!0);const e=await Oa();e.ok?(t(e.data.admin_videos||[]),i("")):i(e.message||"Failed to load admin videos")}catch(e){i("Network error. Please try again.")}finally{r(!1)}},p=(0,a.useMemo)(()=>{const t=o.trim().toLowerCase();return t?e.filter(e=>{const s=(e.product_name||"").toLowerCase(),r=(e.description||"").toLowerCase(),n=(e.uploader_name||"").toLowerCase();return s.includes(t)||r.includes(t)||n.includes(t)}):e},[e,o]),m=(0,a.useMemo)(()=>{if(0===e.length)return null;const t=e.reduce((e,t)=>e?new Date(t.created_at)>new Date(e.created_at)?t:e:t,null);return null!==t&&void 0!==t&&t.created_at?new Date(t.created_at):null},[e]),h=(0,a.useMemo)(()=>{if(0===e.length)return 0;return e.reduce((e,t)=>e+(Number(t.price)||0),0)/e.length},[e]),x=e=>{const t=Number(e);return Number.isNaN(t)?e||"\u2014":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}).format(t)},f=e=>{let{video:t}=e;return(0,zm.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-100 flex flex-col md:flex-row gap-6",children:[(0,zm.jsx)("div",{className:"w-full md:w-56 h-56 bg-gray-100 rounded-xl overflow-hidden flex items-center justify-center",children:t.thumbnail_url?(0,zm.jsx)("img",{src:t.thumbnail_url,alt:t.product_name,className:"w-full h-full object-cover"}):(0,zm.jsx)(Vh,{className:"w-12 h-12 text-gray-300"})}),(0,zm.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,zm.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-xs font-semibold uppercase text-blue-500 mb-1",children:"Admin Listing"}),(0,zm.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:t.product_name||"Untitled Video"}),(0,zm.jsxs)("p",{className:"text-sm text-gray-500",children:["Uploaded by ",t.uploader_name||"Admin"," \u2022 ",new Date(t.created_at).toLocaleDateString()]})]}),(0,zm.jsxs)("div",{className:"text-right",children:[(0,zm.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:x(t.price)}),(0,zm.jsx)("p",{className:"text-xs font-medium text-gray-500",children:t.video_category||"PLATFORM_PROMO"})]})]}),t.description&&(0,zm.jsx)("p",{className:"text-gray-600",children:t.description}),(0,zm.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,zm.jsxs)("div",{className:"rounded-xl bg-blue-50 p-4 text-center",children:[(0,zm.jsx)("p",{className:"text-xl font-bold text-blue-600",children:t.view_count||0}),(0,zm.jsx)("p",{className:"text-xs font-semibold text-blue-800 uppercase tracking-wide",children:"Views"})]}),(0,zm.jsxs)("div",{className:"rounded-xl bg-red-50 p-4 text-center",children:[(0,zm.jsx)("p",{className:"text-xl font-bold text-red-600",children:t.like_count||0}),(0,zm.jsx)("p",{className:"text-xs font-semibold text-red-800 uppercase tracking-wide",children:"Likes"})]}),(0,zm.jsxs)("div",{className:"rounded-xl bg-purple-50 p-4 text-center",children:[(0,zm.jsx)("p",{className:"text-xl font-bold text-purple-600",children:t.love_count||0}),(0,zm.jsx)("p",{className:"text-xs font-semibold text-purple-800 uppercase tracking-wide",children:"Loves"})]}),(0,zm.jsxs)("div",{className:"rounded-xl bg-green-50 p-4 text-center",children:[(0,zm.jsx)("p",{className:"text-xl font-bold text-green-600",children:t.click_count||0}),(0,zm.jsx)("p",{className:"text-xs font-semibold text-green-800 uppercase tracking-wide",children:"Clicks"})]})]}),t.video_url&&(0,zm.jsx)("a",{href:t.video_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm font-semibold text-blue-600 hover:text-blue-800",children:"View Video"})]})]})};return(0,zm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,zm.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,zm.jsx)("div",{className:"px-6 py-8",children:(0,zm.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Video Management"}),(0,zm.jsx)("p",{className:"text-gray-600 text-lg",children:"Upload, curate, and organize platform-produced videos."})]}),(0,zm.jsxs)("div",{className:"flex items-center gap-3",children:[(0,zm.jsx)("button",{onClick:u,className:"px-5 py-3 rounded-xl border border-gray-300 text-gray-700 hover:bg-gray-50 font-semibold shadow-sm",children:"Refresh"}),(0,zm.jsxs)("button",{onClick:()=>d(!0),className:"px-6 py-3 rounded-xl bg-green-600 text-white font-semibold hover:bg-green-700 shadow-lg flex items-center gap-2",children:[(0,zm.jsx)(fx,{className:"w-5 h-5"}),"Upload Video"]})]})]})})}),(0,zm.jsxs)("div",{className:"px-6 py-8 space-y-6",children:[n&&(0,zm.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-2xl",children:n}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,zm.jsxs)("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow",children:[(0,zm.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Total Admin Videos"}),(0,zm.jsx)("p",{className:"text-4xl font-bold text-gray-900",children:e.length})]}),(0,zm.jsxs)("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow",children:[(0,zm.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Average Price"}),(0,zm.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:x(h)})]}),(0,zm.jsxs)("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow",children:[(0,zm.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Last Published"}),(0,zm.jsx)("p",{className:"text-lg font-bold text-gray-900",children:m?m.toLocaleString():"\u2014"})]})]}),(0,zm.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-gray-100 shadow flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,zm.jsxs)("div",{className:"relative flex-1",children:[(0,zm.jsx)("input",{type:"text",placeholder:"Search admin videos by name, description, or uploader...",value:o,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900"}),(0,zm.jsx)("svg",{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),(0,zm.jsxs)("p",{className:"text-sm text-gray-500",children:[p.length," result(s)"]})]}),s?(0,zm.jsx)("div",{className:"bg-white rounded-2xl p-12 border border-gray-100 shadow flex items-center justify-center",children:(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-16 h-16 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),(0,zm.jsx)("p",{className:"font-semibold text-gray-700",children:"Loading admin videos..."})]})}):0===p.length?(0,zm.jsxs)("div",{className:"bg-white rounded-2xl p-12 border border-gray-100 shadow text-center text-gray-500",children:[(0,zm.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:(0,zm.jsx)(Vh,{className:"w-8 h-8 text-gray-400"})}),(0,zm.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No admin videos yet"}),(0,zm.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Use the upload button above to publish your first admin listing."}),(0,zm.jsx)("button",{onClick:()=>d(!0),className:"px-5 py-2 rounded-xl bg-blue-600 text-white font-semibold hover:bg-blue-700",children:"Upload Now"})]}):(0,zm.jsx)("div",{className:"space-y-4",children:p.map(e=>(0,zm.jsx)(f,{video:e},e.id))})]}),c&&(0,zm.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,zm.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,zm.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>d(!1)}),(0,zm.jsx)("div",{className:"inline-block align-bottom bg-transparent text-left overflow-hidden transform transition-all sm:my-8 sm:align-middle sm:max-w-5xl sm:w-full",children:(0,zm.jsx)(Yx,{onClose:()=>d(!1),onSuccess:()=>{d(!1),u()}})})]})})]})},Qx=()=>{const[e,t]=(0,a.useState)("plans"),[s,r]=(0,a.useState)(!0),[n,i]=(0,a.useState)(""),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(null),[m,h]=(0,a.useState)({plan_name:"",plan_description:"",plan_type:"MONTHLY",price:"",duration_days:"",features:"",is_active:!0}),[x,f]=(0,a.useState)([]),[g,b]=(0,a.useState)(!1),[y,v]=(0,a.useState)(null),[j,w]=(0,a.useState)({coupon_code:"",coupon_name:"",discount_type:"PERCENTAGE",discount_value:"",usage_limit:"",valid_from:"",valid_until:"",is_active:!0}),[N,_]=(0,a.useState)([]),[k,S]=(0,a.useState)("ALL"),[C,E]=(0,a.useState)([]);(0,a.useEffect)(()=>{P()},[]);const P=async()=>{try{r(!0),await Promise.all([A(),T(),I(),L()])}catch(e){i("Failed to load subscription data")}finally{r(!1)}},A=async()=>{try{const e=await Ba();e.ok&&l(e.data.plans||[])}catch(e){console.error("Failed to fetch plans:",e)}},T=async()=>{try{const e=await Wa();e.ok&&f(e.data.coupons||[])}catch(e){console.error("Failed to fetch coupons:",e)}},I=async()=>{try{const e=await Ka();e.ok&&_(e.data.transactions||[])}catch(e){console.error("Failed to fetch transactions:",e)}},L=async()=>{try{const e=await $a();e.ok&&E(e.data.alerts||[])}catch(e){console.error("Failed to fetch alerts:",e)}},F=e=>{switch(e){case"COMPLETED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"FAILED":return"bg-red-100 text-red-800";case"REFUNDED":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},R=e=>{switch(e){case"MONTHLY":return"bg-blue-100 text-blue-800";case"YEARLY":return"bg-green-100 text-green-800";case"INFLUENCER":return"bg-purple-100 text-purple-800";case"BRAND":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},D=N.filter(e=>"ALL"===k||e.payment_status===k);return s?(0,zm.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-20 h-20 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),(0,zm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Subscription Data"}),(0,zm.jsx)("p",{className:"text-lg text-gray-600",children:"Fetching subscription information..."})]})}):(0,zm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,zm.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,zm.jsx)("div",{className:"px-6 py-8",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Subscription Management"}),(0,zm.jsx)("p",{className:"text-gray-600 text-lg",children:"Manage subscription plans, coupons, and transactions"})]}),(0,zm.jsxs)("button",{onClick:P,className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-all duration-200 flex items-center space-x-3 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,zm.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,zm.jsx)("span",{className:"font-semibold",children:"Refresh"})]})]})})}),(0,zm.jsxs)("div",{className:"px-6 py-8",children:[n&&(0,zm.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:(0,zm.jsxs)("div",{className:"flex items-center",children:[(0,zm.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,zm.jsx)("p",{className:"text-red-800 font-medium",children:n})]})}),(0,zm.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden mb-8",children:[(0,zm.jsx)("div",{className:"border-b border-gray-200",children:(0,zm.jsxs)("nav",{className:"flex",children:[(0,zm.jsxs)("button",{onClick:()=>t("plans"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("plans"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Subscription Plans (",o.length,")"]}),(0,zm.jsxs)("button",{onClick:()=>t("coupons"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("coupons"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Discount Coupons (",x.length,")"]}),(0,zm.jsxs)("button",{onClick:()=>t("transactions"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("transactions"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Transactions (",N.length,")"]}),(0,zm.jsxs)("button",{onClick:()=>t("alerts"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("alerts"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Alerts (",C.length,")"]})]})}),(0,zm.jsxs)("div",{className:"p-6",children:["plans"===e&&(0,zm.jsxs)("div",{children:[(0,zm.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,zm.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Subscription Plans"}),(0,zm.jsx)("button",{onClick:()=>{p(null),h({plan_name:"",plan_description:"",plan_type:"MONTHLY",price:"",duration_days:"",features:"",is_active:!0}),d(!0)},className:"bg-green-600 text-white px-4 py-2 rounded-xl hover:bg-green-700 transition-colors",children:"Add New Plan"})]}),(0,zm.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(e=>(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[(0,zm.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,zm.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.plan_name}),(0,zm.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(R(e.plan_type)),children:e.plan_type})]}),(0,zm.jsx)("p",{className:"text-gray-600 mb-4",children:e.plan_description}),(0,zm.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,zm.jsxs)("span",{className:"text-2xl font-bold text-blue-600",children:["$",e.price]}),(0,zm.jsxs)("span",{className:"text-sm text-gray-500",children:[e.duration_days," days"]})]}),(0,zm.jsxs)("div",{className:"flex justify-between",children:[(0,zm.jsx)("button",{onClick:()=>(e=>{p(e),h({plan_name:e.plan_name,plan_description:e.plan_description,plan_type:e.plan_type,price:e.price,duration_days:e.duration_days,features:"string"===typeof e.features?e.features:JSON.stringify(e.features,null,2),is_active:e.is_active}),d(!0)})(e),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Edit"}),(0,zm.jsx)("span",{className:"text-sm ".concat(e.is_active?"text-green-600":"text-red-600"),children:e.is_active?"Active":"Inactive"})]})]},e.plan_id))})]}),"coupons"===e&&(0,zm.jsxs)("div",{children:[(0,zm.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,zm.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Discount Coupons"}),(0,zm.jsx)("button",{onClick:()=>{v(null),w({coupon_code:"",coupon_name:"",discount_type:"PERCENTAGE",discount_value:"",usage_limit:"",valid_from:"",valid_until:"",is_active:!0}),b(!0)},className:"bg-green-600 text-white px-4 py-2 rounded-xl hover:bg-green-700 transition-colors",children:"Add New Coupon"})]}),(0,zm.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(e=>(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[(0,zm.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,zm.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.coupon_name}),(0,zm.jsx)("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-medium",children:e.coupon_code})]}),(0,zm.jsxs)("div",{className:"mb-4",children:[(0,zm.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,zm.jsx)("span",{className:"text-sm text-gray-600",children:"Discount:"}),(0,zm.jsx)("span",{className:"font-semibold text-gray-900",children:"PERCENTAGE"===e.discount_type?"".concat(e.discount_value,"%"):"\u20b9".concat(Number(e.discount_value).toFixed(2))})]}),(0,zm.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,zm.jsx)("span",{className:"text-sm text-gray-600",children:"Usage:"}),(0,zm.jsxs)("span",{className:"text-sm text-gray-900",children:[e.used_count,"/",e.usage_limit||"\u221e"]})]}),(0,zm.jsxs)("div",{className:"flex justify-between items-center",children:[(0,zm.jsx)("span",{className:"text-sm text-gray-600",children:"Valid Until:"}),(0,zm.jsx)("span",{className:"text-sm text-gray-900",children:new Date(e.valid_until).toLocaleDateString()})]})]}),(0,zm.jsxs)("div",{className:"flex justify-between",children:[(0,zm.jsx)("button",{onClick:()=>(e=>{v(e),w({coupon_code:e.coupon_code,coupon_name:e.coupon_name,discount_type:e.discount_type,discount_value:e.discount_value,usage_limit:e.usage_limit,valid_from:e.valid_from?e.valid_from.split("T")[0]:"",valid_until:e.valid_until?e.valid_until.split("T")[0]:"",is_active:e.is_active}),b(!0)})(e),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Edit"}),(0,zm.jsx)("span",{className:"text-sm ".concat(e.is_active?"text-green-600":"text-red-600"),children:e.is_active?"Active":"Inactive"})]})]},e.coupon_id))})]}),"transactions"===e&&(0,zm.jsxs)("div",{children:[(0,zm.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,zm.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Transaction Logs"}),(0,zm.jsxs)("select",{value:k,onChange:e=>S(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,zm.jsx)("option",{value:"ALL",children:"All Status"}),(0,zm.jsx)("option",{value:"COMPLETED",children:"Completed"}),(0,zm.jsx)("option",{value:"PENDING",children:"Pending"}),(0,zm.jsx)("option",{value:"FAILED",children:"Failed"}),(0,zm.jsx)("option",{value:"REFUNDED",children:"Refunded"})]})]}),(0,zm.jsx)("div",{className:"overflow-x-auto",children:(0,zm.jsxs)("table",{className:"w-full",children:[(0,zm.jsx)("thead",{children:(0,zm.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,zm.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"User"}),(0,zm.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Plan"}),(0,zm.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Amount"}),(0,zm.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),(0,zm.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Date"})]})}),(0,zm.jsx)("tbody",{children:D.map(e=>(0,zm.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,zm.jsx)("td",{className:"py-3 px-4",children:e.user_name}),(0,zm.jsx)("td",{className:"py-3 px-4",children:e.plan_name}),(0,zm.jsx)("td",{className:"py-3 px-4",children:(0,zm.jsxs)("div",{children:[(0,zm.jsxs)("div",{className:"font-semibold",children:["$",e.final_amount]}),e.discount_amount>0&&(0,zm.jsxs)("div",{className:"text-sm text-green-600",children:["-$",e.discount_amount," discount"]})]})}),(0,zm.jsx)("td",{className:"py-3 px-4",children:(0,zm.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(F(e.payment_status)),children:e.payment_status})}),(0,zm.jsx)("td",{className:"py-3 px-4",children:new Date(e.created_at).toLocaleDateString()})]},e.transaction_id))})]})})]}),"alerts"===e&&(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Subscription Alerts"}),(0,zm.jsx)("div",{className:"space-y-4",children:C.map(e=>(0,zm.jsx)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:(0,zm.jsxs)("div",{className:"flex justify-between items-start",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h4",{className:"font-semibold text-gray-900",children:e.alert_type.replace("_"," ")}),(0,zm.jsx)("p",{className:"text-gray-600 mt-1",children:e.alert_message}),(0,zm.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["User: ",e.user_name]})]}),(0,zm.jsxs)("div",{className:"text-right",children:[(0,zm.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.is_sent?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.is_sent?"Sent":"Pending"}),(0,zm.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:new Date(e.created_at).toLocaleDateString()})]})]})},e.alert_id))})]})]})]})]}),c&&(0,zm.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,zm.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,zm.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>d(!1)}),(0,zm.jsx)("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:(0,zm.jsxs)("div",{className:"bg-white px-6 py-8",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,zm.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:u?"Edit Subscription Plan":"Add New Subscription Plan"}),(0,zm.jsx)("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,zm.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=u?await Ha(u.plan_id,m):await Va(m);e.ok?(await A(),d(!1),p(null),h({plan_name:"",plan_description:"",plan_type:"MONTHLY",price:"",duration_days:"",features:"",is_active:!0})):i(e.message||"Failed to save plan")}catch(t){i("Network error. Please try again.")}},className:"space-y-6",children:[(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plan Name *"}),(0,zm.jsx)("input",{type:"text",required:!0,value:m.plan_name,onChange:e=>h(Be(Be({},m),{},{plan_name:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"Enter plan name"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plan Type *"}),(0,zm.jsxs)("select",{required:!0,value:m.plan_type,onChange:e=>h(Be(Be({},m),{},{plan_type:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",children:[(0,zm.jsx)("option",{value:"MONTHLY",children:"Monthly"}),(0,zm.jsx)("option",{value:"YEARLY",children:"Yearly"}),(0,zm.jsx)("option",{value:"INFLUENCER",children:"Influencer"}),(0,zm.jsx)("option",{value:"BRAND",children:"Brand"})]})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,zm.jsx)("textarea",{required:!0,rows:3,value:m.plan_description,onChange:e=>h(Be(Be({},m),{},{plan_description:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"Enter plan description"})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price ($) *"}),(0,zm.jsx)("input",{type:"number",required:!0,min:"0",step:"0.01",value:m.price,onChange:e=>h(Be(Be({},m),{},{price:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"Enter price"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (Days) *"}),(0,zm.jsx)("input",{type:"number",required:!0,min:"1",value:m.duration_days,onChange:e=>h(Be(Be({},m),{},{duration_days:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"Enter duration in days"})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Features (JSON)"}),(0,zm.jsx)("textarea",{rows:4,value:m.features,onChange:e=>h(Be(Be({},m),{},{features:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:'{"videos_per_month": 10, "storage_gb": 5, "support": "email"}'})]}),(0,zm.jsxs)("div",{className:"flex items-center",children:[(0,zm.jsx)("input",{type:"checkbox",id:"is_active",checked:m.is_active,onChange:e=>h(Be(Be({},m),{},{is_active:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,zm.jsx)("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active Plan"})]}),(0,zm.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,zm.jsx)("button",{type:"button",onClick:()=>d(!1),className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),(0,zm.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-colors font-semibold",children:u?"Update Plan":"Create Plan"})]})]})]})})]})}),g&&(0,zm.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,zm.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,zm.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>b(!1)}),(0,zm.jsx)("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:(0,zm.jsxs)("div",{className:"bg-white px-6 py-8",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,zm.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:y?"Edit Discount Coupon":"Add New Discount Coupon"}),(0,zm.jsx)("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,zm.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=y?await Ga(y.coupon_id,j):await qa(j);e.ok?(await T(),b(!1),v(null),w({coupon_code:"",coupon_name:"",discount_type:"PERCENTAGE",discount_value:"",usage_limit:"",valid_from:"",valid_until:"",is_active:!0})):i(e.message||"Failed to save coupon")}catch(t){i("Network error. Please try again.")}},className:"space-y-6",children:[(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Coupon Code *"}),(0,zm.jsx)("input",{type:"text",required:!0,value:j.coupon_code,onChange:e=>w(Be(Be({},j),{},{coupon_code:e.target.value.toUpperCase()})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"WELCOME10"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Coupon Name *"}),(0,zm.jsx)("input",{type:"text",required:!0,value:j.coupon_name,onChange:e=>w(Be(Be({},j),{},{coupon_name:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"Welcome Discount"})]})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Type *"}),(0,zm.jsxs)("select",{required:!0,value:j.discount_type,onChange:e=>w(Be(Be({},j),{},{discount_type:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",children:[(0,zm.jsx)("option",{value:"PERCENTAGE",children:"Percentage"}),(0,zm.jsx)("option",{value:"FIXED_AMOUNT",children:"Fixed Amount"})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Value *"}),(0,zm.jsx)("input",{type:"number",required:!0,min:"0",step:"0.01",value:j.discount_value,onChange:e=>w(Be(Be({},j),{},{discount_value:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"10"})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Usage Limit"}),(0,zm.jsx)("input",{type:"number",min:"1",value:j.usage_limit,onChange:e=>w(Be(Be({},j),{},{usage_limit:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"Leave blank for unlimited"})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valid From *"}),(0,zm.jsx)("input",{type:"date",required:!0,value:j.valid_from,onChange:e=>w(Be(Be({},j),{},{valid_from:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valid Until *"}),(0,zm.jsx)("input",{type:"date",required:!0,value:j.valid_until,onChange:e=>w(Be(Be({},j),{},{valid_until:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900"})]})]}),(0,zm.jsxs)("div",{className:"flex items-center",children:[(0,zm.jsx)("input",{type:"checkbox",id:"coupon_is_active",checked:j.is_active,onChange:e=>w(Be(Be({},j),{},{is_active:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,zm.jsx)("label",{htmlFor:"coupon_is_active",className:"ml-2 block text-sm text-gray-900",children:"Active Coupon"})]}),(0,zm.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,zm.jsx)("button",{type:"button",onClick:()=>b(!1),className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),(0,zm.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-colors font-semibold",children:y?"Update Coupon":"Create Coupon"})]})]})]})})]})})]})},Xx=()=>{const[e,t]=(0,a.useState)("pending"),[s,r]=(0,a.useState)(!0),[n,i]=(0,a.useState)(""),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(null),[m,h]=(0,a.useState)({status:"APPROVED",admin_remarks:"",concession_amount:"",concession_type:"DISCOUNT"}),[x,f]=(0,a.useState)({total_submissions:0,pending_count:0,approved_count:0,rejected_count:0,total_concessions:0});(0,a.useEffect)(()=>{g()},[]);const g=async()=>{try{r(!0),await Promise.all([b(),y()])}catch(e){i("Failed to load promotion data")}finally{r(!1)}},b=async()=>{try{const e=await Ya();e.ok&&l(e.data.submissions||[])}catch(e){console.error("Failed to fetch submissions:",e)}},y=async()=>{try{const e=await Qa();e.ok&&f(e.data.analytics||x)}catch(e){console.error("Failed to fetch analytics:",e)}},v=e=>{switch(e){case"APPROVED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"REJECTED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},j=e=>({INSTAGRAM:"\ud83d\udcf7",FACEBOOK:"\ud83d\udcd8",TWITTER:"\ud83d\udc26",TIKTOK:"\ud83c\udfb5",YOUTUBE:"\ud83d\udcfa",LINKEDIN:"\ud83d\udcbc",OTHER:"\ud83c\udf10"}[e]||"\ud83c\udf10"),w=e=>({POST:"\ud83d\udcdd",VIDEO:"\ud83c\udfa5",STORY:"\ud83d\udcd6",REEL:"\ud83c\udfac"}[e]||"\ud83d\udcdd"),N=o.filter(t=>"all"===e||t.status===e.toUpperCase());return s?(0,zm.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-20 h-20 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),(0,zm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Promotion Data"}),(0,zm.jsx)("p",{className:"text-lg text-gray-600",children:"Fetching promotion submissions..."})]})}):(0,zm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,zm.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,zm.jsx)("div",{className:"px-6 py-8",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Promotion Approval System"}),(0,zm.jsx)("p",{className:"text-gray-600 text-lg",children:"Review and approve influencer promotion submissions"})]}),(0,zm.jsxs)("button",{onClick:g,className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-all duration-200 flex items-center space-x-3 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,zm.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,zm.jsx)("span",{className:"font-semibold",children:"Refresh"})]})]})})}),(0,zm.jsxs)("div",{className:"px-6 py-8",children:[n&&(0,zm.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:(0,zm.jsxs)("div",{className:"flex items-center",children:[(0,zm.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,zm.jsx)("p",{className:"text-red-800 font-medium",children:n})]})}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[(0,zm.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Submissions"}),(0,zm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:x.total_submissions})]}),(0,zm.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})}),(0,zm.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending Review"}),(0,zm.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:x.pending_count})]}),(0,zm.jsx)("div",{className:"w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,zm.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),(0,zm.jsx)("p",{className:"text-2xl font-bold text-green-600",children:x.approved_count})]}),(0,zm.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,zm.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Rejected"}),(0,zm.jsx)("p",{className:"text-2xl font-bold text-red-600",children:x.rejected_count})]}),(0,zm.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,zm.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Concessions"}),(0,zm.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:["\u20b9",x.total_concessions]})]}),(0,zm.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]})})]}),(0,zm.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,zm.jsx)("div",{className:"border-b border-gray-200",children:(0,zm.jsxs)("nav",{className:"flex",children:[(0,zm.jsxs)("button",{onClick:()=>t("pending"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("pending"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Pending Review (",x.pending_count,")"]}),(0,zm.jsxs)("button",{onClick:()=>t("approved"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("approved"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Approved (",x.approved_count,")"]}),(0,zm.jsxs)("button",{onClick:()=>t("rejected"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("rejected"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Rejected (",x.rejected_count,")"]}),(0,zm.jsxs)("button",{onClick:()=>t("all"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("all"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["All Submissions (",x.total_submissions,")"]})]})}),(0,zm.jsx)("div",{className:"p-6",children:(0,zm.jsx)("div",{className:"space-y-4",children:0===N.length?(0,zm.jsxs)("div",{className:"text-center py-12",children:[(0,zm.jsx)("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,zm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No submissions found"}),(0,zm.jsx)("p",{className:"text-gray-600",children:"No promotion submissions match the current filter."})]}):N.map(e=>(0,zm.jsx)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:(0,zm.jsxs)("div",{className:"flex items-start justify-between",children:[(0,zm.jsxs)("div",{className:"flex-1",children:[(0,zm.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,zm.jsx)("span",{className:"text-2xl",children:j(e.platform)}),(0,zm.jsx)("span",{className:"text-lg",children:w(e.submission_type)}),(0,zm.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.user_name}),(0,zm.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(v(e.status)),children:e.status})]}),(0,zm.jsx)("p",{className:"text-gray-600 mb-3",children:e.content_description}),(0,zm.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-500 mb-3",children:[(0,zm.jsxs)("span",{children:["Platform: ",e.platform]}),(0,zm.jsxs)("span",{children:["Type: ",e.submission_type]}),(0,zm.jsxs)("span",{children:["Submitted: ",new Date(e.submission_date).toLocaleDateString()]})]}),e.engagement_metrics&&(0,zm.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,zm.jsx)("span",{className:"text-gray-600",children:"Engagement:"}),e.engagement_metrics.likes&&(0,zm.jsxs)("span",{className:"text-red-600",children:["\u2764\ufe0f ",e.engagement_metrics.likes]}),e.engagement_metrics.comments&&(0,zm.jsxs)("span",{className:"text-blue-600",children:["\ud83d\udcac ",e.engagement_metrics.comments]}),e.engagement_metrics.shares&&(0,zm.jsxs)("span",{className:"text-green-600",children:["\ud83d\udd04 ",e.engagement_metrics.shares]}),e.engagement_metrics.reach&&(0,zm.jsxs)("span",{className:"text-purple-600",children:["\ud83d\udc41\ufe0f ",e.engagement_metrics.reach]})]}),e.admin_remarks&&(0,zm.jsx)("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:(0,zm.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,zm.jsx)("strong",{children:"Admin Remarks:"})," ",e.admin_remarks]})}),e.concession_amount>0&&(0,zm.jsx)("div",{className:"mt-3 p-3 bg-green-50 rounded-lg",children:(0,zm.jsxs)("p",{className:"text-sm text-green-800",children:[(0,zm.jsx)("strong",{children:"Concession:"})," \u20b9",e.concession_amount," (",e.concession_type,")"]})})]}),(0,zm.jsxs)("div",{className:"flex flex-col space-y-2 ml-4",children:[(0,zm.jsx)("a",{href:e.content_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Content"}),e.screenshot_url&&(0,zm.jsx)("a",{href:e.screenshot_url,target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"View Screenshot"}),"PENDING"===e.status&&(0,zm.jsx)("button",{onClick:()=>(e=>{p(e),h({status:"APPROVED",admin_remarks:"",concession_amount:"",concession_type:"DISCOUNT"}),d(!0)})(e),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Review"})]})]})},e.submission_id))})})]})]}),c&&u&&(0,zm.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,zm.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,zm.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>d(!1)}),(0,zm.jsx)("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:(0,zm.jsxs)("div",{className:"bg-white px-6 py-8",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,zm.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Review Promotion Submission"}),(0,zm.jsx)("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,zm.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl",children:[(0,zm.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Submission Details"}),(0,zm.jsx)("p",{className:"text-gray-600 mb-2",children:u.content_description}),(0,zm.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,zm.jsxs)("span",{children:[j(u.platform)," ",u.platform]}),(0,zm.jsxs)("span",{children:[w(u.submission_type)," ",u.submission_type]}),(0,zm.jsxs)("span",{children:["By: ",u.user_name]})]})]}),(0,zm.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await Ja(u.submission_id,m);e.ok?(await b(),await y(),d(!1),p(null),h({status:"APPROVED",admin_remarks:"",concession_amount:"",concession_type:"DISCOUNT"})):i(e.message||"Failed to review submission")}catch(t){i("Network error. Please try again.")}},className:"space-y-6",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Review Decision *"}),(0,zm.jsxs)("select",{required:!0,value:m.status,onChange:e=>h(Be(Be({},m),{},{status:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,zm.jsx)("option",{value:"APPROVED",children:"Approve"}),(0,zm.jsx)("option",{value:"REJECTED",children:"Reject"})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Remarks *"}),(0,zm.jsx)("textarea",{required:!0,rows:4,value:m.admin_remarks,onChange:e=>h(Be(Be({},m),{},{admin_remarks:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add your review comments..."})]}),"APPROVED"===m.status&&(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Concession Type"}),(0,zm.jsxs)("select",{value:m.concession_type,onChange:e=>h(Be(Be({},m),{},{concession_type:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,zm.jsx)("option",{value:"DISCOUNT",children:"Discount"}),(0,zm.jsx)("option",{value:"CREDIT",children:"Credit"}),(0,zm.jsx)("option",{value:"FREE_MONTHS",children:"Free Months"}),(0,zm.jsx)("option",{value:"UPGRADE",children:"Upgrade"})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Concession Amount (\u20b9)"}),(0,zm.jsx)("input",{type:"number",min:"0",step:"0.01",value:m.concession_amount,onChange:e=>h(Be(Be({},m),{},{concession_amount:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter concession amount"})]})]}),(0,zm.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,zm.jsx)("button",{type:"button",onClick:()=>d(!1),className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),(0,zm.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-colors font-semibold",children:"Submit Review"})]})]})]})})]})})]})},Zx=()=>{const[e,t]=(0,a.useState)("transactions"),[s,r]=(0,a.useState)(!0),[n,i]=(0,a.useState)(""),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)("ALL"),[u,p]=(0,a.useState)("ALL"),[m,h]=(0,a.useState)([]),[x,f]=(0,a.useState)(!1),[g,b]=(0,a.useState)(null),[y,v]=(0,a.useState)({refund_reason:"",refund_amount:""}),[j,w]=(0,a.useState)([]),[N,_]=(0,a.useState)("DAILY"),[k,S]=(0,a.useState)((new Date).toISOString().split("T")[0]),[C,E]=(0,a.useState)([]),[P,A]=(0,a.useState)("ALL"),[T,I]=(0,a.useState)({total_revenue:0,total_transactions:0,successful_transactions:0,failed_transactions:0,pending_transactions:0,total_refunds:0});(0,a.useEffect)(()=>{L()},[]);const L=async()=>{try{r(!0),await Promise.all([F(),R(),D(),O(),M()])}catch(e){i("Failed to load payment data")}finally{r(!1)}},F=async()=>{try{const e=await Xa();e.ok&&l(e.data.transactions||[])}catch(e){console.error("Failed to fetch transactions:",e)}},R=async()=>{try{const e=await Za();e.ok&&h(e.data.refunds||[])}catch(e){console.error("Failed to fetch refunds:",e)}},D=async()=>{try{const e=await ti(N,k);e.ok&&w(e.data.reports||[])}catch(e){console.error("Failed to fetch revenue reports:",e)}},O=async()=>{try{const e=await si();e.ok&&E(e.data.logs||[])}catch(e){console.error("Failed to fetch gateway logs:",e)}},M=async()=>{try{const e=await ri();e.ok&&I(e.data.analytics||T)}catch(e){console.error("Failed to fetch analytics:",e)}},U=e=>{switch(e){case"COMPLETED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"FAILED":return"bg-red-100 text-red-800";case"REFUNDED":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},z=o.filter(e=>"ALL"===c||e.payment_status===c),B=C.filter(e=>"ALL"===P||e.gateway_name===P);return s?(0,zm.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,zm.jsxs)("div",{className:"text-center",children:[(0,zm.jsx)("div",{className:"w-20 h-20 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),(0,zm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Payment Data"}),(0,zm.jsx)("p",{className:"text-lg text-gray-600",children:"Fetching transaction information..."})]})}):(0,zm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,zm.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,zm.jsx)("div",{className:"px-6 py-8",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Payment & Transaction Management"}),(0,zm.jsx)("p",{className:"text-gray-600 text-lg",children:"Monitor all financial transactions and payment processing"})]}),(0,zm.jsxs)("button",{onClick:L,className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-all duration-200 flex items-center space-x-3 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,zm.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,zm.jsx)("span",{className:"font-semibold",children:"Refresh"})]})]})})}),(0,zm.jsxs)("div",{className:"px-6 py-8",children:[n&&(0,zm.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:(0,zm.jsxs)("div",{className:"flex items-center",children:[(0,zm.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,zm.jsx)("p",{className:"text-red-800 font-medium",children:n})]})}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6 mb-8",children:[(0,zm.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Total Revenue"}),(0,zm.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["\u20b9",T.total_revenue]})]}),(0,zm.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]})}),(0,zm.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Total Transactions"}),(0,zm.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:T.total_transactions})]}),(0,zm.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})}),(0,zm.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Successful"}),(0,zm.jsx)("p",{className:"text-2xl font-bold text-green-600",children:T.successful_transactions})]}),(0,zm.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,zm.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Failed"}),(0,zm.jsx)("p",{className:"text-2xl font-bold text-red-600",children:T.failed_transactions})]}),(0,zm.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,zm.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Pending"}),(0,zm.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:T.pending_transactions})]}),(0,zm.jsx)("div",{className:"w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,zm.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Total Refunds"}),(0,zm.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:["\u20b9",T.total_refunds]})]}),(0,zm.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:(0,zm.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})})]}),(0,zm.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,zm.jsx)("div",{className:"border-b border-gray-200",children:(0,zm.jsxs)("nav",{className:"flex",children:[(0,zm.jsxs)("button",{onClick:()=>t("transactions"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("transactions"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Transactions (",o.length,")"]}),(0,zm.jsxs)("button",{onClick:()=>t("refunds"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("refunds"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Refunds (",m.length,")"]}),(0,zm.jsx)("button",{onClick:()=>t("reports"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("reports"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:"Revenue Reports"}),(0,zm.jsxs)("button",{onClick:()=>t("gateway"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("gateway"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Gateway Logs (",C.length,")"]})]})}),(0,zm.jsxs)("div",{className:"p-6",children:["transactions"===e&&(0,zm.jsxs)("div",{children:[(0,zm.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,zm.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Transaction Logs"}),(0,zm.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 bg-white",children:[(0,zm.jsx)("option",{value:"ALL",children:"All Status"}),(0,zm.jsx)("option",{value:"COMPLETED",children:"Completed"}),(0,zm.jsx)("option",{value:"PENDING",children:"Pending"}),(0,zm.jsx)("option",{value:"FAILED",children:"Failed"}),(0,zm.jsx)("option",{value:"REFUNDED",children:"Refunded"}),(0,zm.jsx)("option",{value:"CANCELLED",children:"Cancelled"})]})]}),(0,zm.jsx)("div",{className:"overflow-x-auto",children:(0,zm.jsxs)("table",{className:"w-full",children:[(0,zm.jsx)("thead",{children:(0,zm.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,zm.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Transaction"}),(0,zm.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"User"}),(0,zm.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Amount"}),(0,zm.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Method"}),(0,zm.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),(0,zm.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Date"}),(0,zm.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),(0,zm.jsx)("tbody",{children:z.map(e=>{return(0,zm.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,zm.jsx)("td",{className:"py-3 px-4",children:(0,zm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,zm.jsx)("span",{className:"text-lg",children:(s=e.transaction_type,{SUBSCRIPTION:"\ud83d\udcb3",VIDEO_UPLOAD:"\ud83c\udfa5",BRAND_PAYMENT:"\ud83c\udfe2",REFUND:"\u21a9\ufe0f",CONCESSION:"\ud83c\udf81"}[s]||"\ud83d\udcb0")}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("div",{className:"font-medium text-gray-900",children:e.transaction_type.replace("_"," ")}),(0,zm.jsx)("div",{className:"text-sm text-gray-600",children:e.gateway_transaction_id})]})]})}),(0,zm.jsx)("td",{className:"py-3 px-4 text-gray-900",children:e.user_name}),(0,zm.jsx)("td",{className:"py-3 px-4",children:(0,zm.jsxs)("span",{className:"font-semibold ".concat(e.amount<0?"text-red-600":"text-green-600"),children:["\u20b9",Math.abs(e.amount)]})}),(0,zm.jsx)("td",{className:"py-3 px-4",children:(0,zm.jsx)("span",{className:"text-gray-900 font-medium",children:(t=e.payment_method,{RAZORPAY:"Razorpay",STRIPE:"Stripe",PAYPAL:"PayPal",BANK_TRANSFER:"Bank Transfer",WALLET:"Wallet",OTHER:"Other"}[t]||"Other")})}),(0,zm.jsx)("td",{className:"py-3 px-4",children:(0,zm.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(U(e.payment_status)),children:e.payment_status})}),(0,zm.jsx)("td",{className:"py-3 px-4 text-gray-900",children:new Date(e.created_at).toLocaleDateString()}),(0,zm.jsx)("td",{className:"py-3 px-4",children:"COMPLETED"===e.payment_status&&"REFUND"!==e.transaction_type&&(0,zm.jsx)("button",{onClick:()=>(e=>{b(e),v({refund_reason:"",refund_amount:e.amount}),f(!0)})(e),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Refund"})})]},e.transaction_id);var t,s})})]})})]}),"refunds"===e&&(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Refund Requests"}),(0,zm.jsx)("div",{className:"space-y-4",children:m.map(e=>(0,zm.jsx)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:(0,zm.jsx)("div",{className:"flex items-start justify-between",children:(0,zm.jsxs)("div",{className:"flex-1",children:[(0,zm.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,zm.jsxs)("h4",{className:"text-lg font-semibold text-gray-900",children:["Refund #",e.refund_id]}),(0,zm.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(U(e.refund_status)),children:e.refund_status})]}),(0,zm.jsx)("p",{className:"text-gray-700 mb-3",children:e.refund_reason}),(0,zm.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[(0,zm.jsxs)("span",{children:["Amount: \u20b9",e.refund_amount]}),(0,zm.jsxs)("span",{children:["Transaction: #",e.transaction_id]}),(0,zm.jsxs)("span",{children:["User: ",e.user_name]}),(0,zm.jsxs)("span",{children:["Requested: ",new Date(e.created_at).toLocaleDateString()]})]}),e.admin_remarks&&(0,zm.jsx)("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:(0,zm.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,zm.jsx)("strong",{children:"Admin Remarks:"})," ",e.admin_remarks]})})]})})},e.refund_id))})]}),"reports"===e&&(0,zm.jsxs)("div",{children:[(0,zm.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,zm.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Revenue Reports"}),(0,zm.jsxs)("div",{className:"flex space-x-4",children:[(0,zm.jsxs)("select",{value:N,onChange:e=>_(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 bg-white",children:[(0,zm.jsx)("option",{value:"DAILY",children:"Daily"}),(0,zm.jsx)("option",{value:"MONTHLY",children:"Monthly"}),(0,zm.jsx)("option",{value:"YEARLY",children:"Yearly"})]}),(0,zm.jsx)("input",{type:"date",value:k,onChange:e=>S(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 bg-white"})]})]}),(0,zm.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:j.map(e=>(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[(0,zm.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:[e.report_type," Report"]}),(0,zm.jsxs)("div",{className:"space-y-3",children:[(0,zm.jsxs)("div",{className:"flex justify-between",children:[(0,zm.jsx)("span",{className:"text-gray-700",children:"Total Revenue:"}),(0,zm.jsxs)("span",{className:"font-semibold text-green-600",children:["\u20b9",e.total_revenue]})]}),(0,zm.jsxs)("div",{className:"flex justify-between",children:[(0,zm.jsx)("span",{className:"text-gray-700",children:"Net Revenue:"}),(0,zm.jsxs)("span",{className:"font-semibold text-blue-600",children:["\u20b9",e.net_revenue]})]}),(0,zm.jsxs)("div",{className:"flex justify-between",children:[(0,zm.jsx)("span",{className:"text-gray-700",children:"Transactions:"}),(0,zm.jsx)("span",{className:"font-semibold text-gray-900",children:e.total_transactions})]}),(0,zm.jsxs)("div",{className:"flex justify-between",children:[(0,zm.jsx)("span",{className:"text-gray-700",children:"Success Rate:"}),(0,zm.jsxs)("span",{className:"font-semibold text-green-600",children:[e.total_transactions>0?Math.round(e.successful_transactions/e.total_transactions*100):0,"%"]})]})]})]},e.report_id))})]}),"gateway"===e&&(0,zm.jsxs)("div",{children:[(0,zm.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,zm.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Payment Gateway Logs"}),(0,zm.jsxs)("select",{value:P,onChange:e=>A(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 bg-white",children:[(0,zm.jsx)("option",{value:"ALL",children:"All Gateways"}),(0,zm.jsx)("option",{value:"RAZORPAY",children:"Razorpay"}),(0,zm.jsx)("option",{value:"STRIPE",children:"Stripe"}),(0,zm.jsx)("option",{value:"PAYPAL",children:"PayPal"}),(0,zm.jsx)("option",{value:"BANK_TRANSFER",children:"Bank Transfer"}),(0,zm.jsx)("option",{value:"WALLET",children:"Wallet"})]})]}),(0,zm.jsx)("div",{className:"space-y-4",children:B.map(e=>(0,zm.jsx)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:(0,zm.jsx)("div",{className:"flex items-start justify-between",children:(0,zm.jsxs)("div",{className:"flex-1",children:[(0,zm.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,zm.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.gateway_name}),(0,zm.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.log_type}),(0,zm.jsxs)("span",{className:"text-sm font-medium ".concat(e.status_code>=200&&e.status_code<300?"text-green-600":"text-red-600"),children:["Status: ",e.status_code]})]}),(0,zm.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-600 mb-3",children:[(0,zm.jsxs)("span",{children:["Transaction: #",e.transaction_id]}),(0,zm.jsxs)("span",{children:["Time: ",new Date(e.created_at).toLocaleString()]})]}),e.error_message&&(0,zm.jsx)("div",{className:"mt-3 p-3 bg-red-50 rounded-lg",children:(0,zm.jsxs)("p",{className:"text-sm text-red-800",children:[(0,zm.jsx)("strong",{children:"Error:"})," ",e.error_message]})})]})})},e.log_id))})]})]})]})]}),x&&g&&(0,zm.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,zm.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,zm.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>f(!1)}),(0,zm.jsx)("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:(0,zm.jsxs)("div",{className:"bg-white px-6 py-8",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,zm.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Initiate Refund"}),(0,zm.jsx)("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,zm.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl",children:[(0,zm.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Transaction Details"}),(0,zm.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("span",{className:"text-gray-600",children:"Type:"}),(0,zm.jsx)("span",{className:"ml-2 font-medium",children:g.transaction_type})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("span",{className:"text-gray-600",children:"Amount:"}),(0,zm.jsxs)("span",{className:"ml-2 font-medium",children:["\u20b9",g.amount]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("span",{className:"text-gray-600",children:"User:"}),(0,zm.jsx)("span",{className:"ml-2 font-medium",children:g.user_name})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("span",{className:"text-gray-600",children:"Date:"}),(0,zm.jsx)("span",{className:"ml-2 font-medium",children:new Date(g.created_at).toLocaleDateString()})]})]})]}),(0,zm.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await ei(g.transaction_id,y);e.ok?(await R(),await F(),await M(),f(!1),b(null),v({refund_reason:"",refund_amount:""})):i(e.message||"Failed to initiate refund")}catch(t){t.response&&403===t.response.status?i("Cannot refund this transaction. Admin access required."):t.response&&t.response.data&&t.response.data.message?i(t.response.data.message):i("Network error. Please try again.")}},className:"space-y-6",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Refund Amount (\u20b9) *"}),(0,zm.jsx)("input",{type:"number",required:!0,min:"0.01",max:g.amount,step:"0.01",value:y.refund_amount,onChange:e=>v(Be(Be({},y),{},{refund_amount:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 bg-white",placeholder:"Enter refund amount"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Refund Reason *"}),(0,zm.jsx)("textarea",{required:!0,rows:4,value:y.refund_reason,onChange:e=>v(Be(Be({},y),{},{refund_reason:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 bg-white",placeholder:"Enter reason for refund..."})]}),(0,zm.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,zm.jsx)("button",{type:"button",onClick:()=>f(!1),className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),(0,zm.jsx)("button",{type:"submit",className:"bg-red-600 text-white px-6 py-3 rounded-xl hover:bg-red-700 transition-colors font-semibold",children:"Initiate Refund"})]})]})]})})]})})]})},ef=()=>{const[e,t]=(0,a.useState)("push"),[s,r]=(0,a.useState)(!0),[n,i]=(0,a.useState)(""),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)({title:"",message:"",target_type:"ALL",target_users:"",scheduled_time:"",priority:"NORMAL"}),[m,h]=(0,a.useState)([]),[x,f]=(0,a.useState)(!1),[g,b]=(0,a.useState)({subject:"",template_type:"OFFER",target_type:"ALL",target_users:"",scheduled_time:"",content:""}),[y,v]=(0,a.useState)([]),[j,w]=(0,a.useState)(null),[N,_]=(0,a.useState)(!1),[k,S]=(0,a.useState)(""),[C,E]=(0,a.useState)("OPEN"),[P,A]=(0,a.useState)({total_notifications_sent:0,email_open_rate:0,push_delivery_rate:0,active_tickets:0,resolved_tickets:0});(0,a.useEffect)(()=>{T()},[]);const T=async()=>{try{r(!0),await Promise.all([I(),L(),F(),R()])}catch(e){i("Failed to load notification data")}finally{r(!1)}},I=async()=>{try{const e=await ni();e.ok&&l(e.notifications||[])}catch(e){console.error("Failed to fetch push notifications:",e)}},L=async()=>{try{const e=await ii();e.ok&&h(e.broadcasts||[])}catch(e){console.error("Failed to fetch email broadcasts:",e)}},F=async()=>{try{const e=await li();e.ok&&v(e.tickets||[])}catch(e){console.error("Failed to fetch support tickets:",e)}},R=async()=>{try{const e=await di();e.ok&&A(e.data)}catch(e){console.error("Failed to fetch analytics:",e)}},D=e=>{let{title:t,value:s,icon:r,color:n,subtitle:a}=e;return(0,zm.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 ".concat(n),children:(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{className:"flex-1",children:[(0,zm.jsx)("p",{className:"text-gray-600 text-sm font-semibold mb-2 uppercase tracking-wide",children:t}),(0,zm.jsx)("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:s}),a&&(0,zm.jsx)("p",{className:"text-gray-500 text-sm leading-relaxed",children:a})]}),(0,zm.jsx)("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center text-white shadow-lg",children:r})]})})},O=()=>(0,zm.jsxs)("div",{className:"space-y-6",children:[(0,zm.jsxs)("div",{className:"flex justify-between items-center",children:[(0,zm.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Push Notifications"}),(0,zm.jsxs)("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-blue-700 transition-colors duration-200 flex items-center space-x-2",children:[(0,zm.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,zm.jsx)("span",{children:"Send Push Notification"})]})]}),(0,zm.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:(0,zm.jsx)("div",{className:"overflow-x-auto",children:(0,zm.jsxs)("table",{className:"w-full",children:[(0,zm.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,zm.jsxs)("tr",{children:[(0,zm.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Title"}),(0,zm.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Target"}),(0,zm.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Status"}),(0,zm.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Sent At"}),(0,zm.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Delivered"})]})}),(0,zm.jsx)("tbody",{className:"divide-y divide-gray-200",children:o.map(e=>(0,zm.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,zm.jsx)("td",{className:"px-6 py-4",children:(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"font-semibold text-gray-900",children:e.title}),(0,zm.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.message})]})}),(0,zm.jsx)("td",{className:"px-6 py-4",children:(0,zm.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("ALL"===e.target_type?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:"ALL"===e.target_type?"All Users":"Specific Users"})}),(0,zm.jsx)("td",{className:"px-6 py-4",children:(0,zm.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("SENT"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})}),(0,zm.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(e.sent_at).toLocaleString()}),(0,zm.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-600",children:[e.delivered_count||0," / ",e.target_count||0]})]},e.id))})]})})})]});return s?(0,zm.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,zm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,zm.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,zm.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,zm.jsxs)("div",{className:"mb-8",children:[(0,zm.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Notifications & Communication"}),(0,zm.jsx)("p",{className:"text-gray-600",children:"Manage platform-wide notifications, email broadcasts, and support tickets"})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[(0,zm.jsx)(D,{title:"Notifications Sent",value:P.total_notifications_sent.toLocaleString(),icon:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4 19h6v-2H4v2zm0-4h6v-2H4v2zm0-4h6V9H4v2zm0-4h6V5H4v2zm12 0h2V5h-2v2z"})}),color:"bg-gradient-to-br from-blue-50 to-blue-100",subtitle:"Total push notifications"}),(0,zm.jsx)(D,{title:"Email Open Rate",value:"".concat(P.email_open_rate,"%"),icon:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),color:"bg-gradient-to-br from-green-50 to-green-100",subtitle:"Average open rate"}),(0,zm.jsx)(D,{title:"Push Delivery Rate",value:"".concat(P.push_delivery_rate,"%"),icon:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})}),color:"bg-gradient-to-br from-purple-50 to-purple-100",subtitle:"Successful deliveries"}),(0,zm.jsx)(D,{title:"Active Tickets",value:P.active_tickets,icon:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),color:"bg-gradient-to-br from-orange-50 to-orange-100",subtitle:"Open support tickets"}),(0,zm.jsx)(D,{title:"Resolved Tickets",value:P.resolved_tickets,icon:(0,zm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"bg-gradient-to-br from-emerald-50 to-emerald-100",subtitle:"Successfully resolved"})]}),n&&(0,zm.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:(0,zm.jsxs)("div",{className:"flex",children:[(0,zm.jsx)("svg",{className:"w-5 h-5 text-red-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,zm.jsxs)("div",{className:"ml-3",children:[(0,zm.jsx)("p",{className:"text-red-800 font-semibold",children:"Error"}),(0,zm.jsx)("p",{className:"text-red-700",children:n})]})]})}),(0,zm.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 mb-6",children:[(0,zm.jsx)("div",{className:"border-b border-gray-200",children:(0,zm.jsx)("nav",{className:"flex space-x-8 px-6",children:[{id:"push",name:"Push Notifications",icon:"\ud83d\udcf1"},{id:"email",name:"Email Broadcasts",icon:"\ud83d\udce7"},{id:"support",name:"Support Tickets",icon:"\ud83c\udfab"}].map(s=>(0,zm.jsxs)("button",{onClick:()=>t(s.id),className:"py-4 px-1 border-b-2 font-semibold text-sm flex items-center space-x-2 transition-colors duration-200 ".concat(e===s.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,zm.jsx)("span",{children:s.icon}),(0,zm.jsx)("span",{children:s.name})]},s.id))})}),(0,zm.jsx)("div",{className:"p-6",children:(()=>{switch(e){case"push":default:return O();case"email":return(0,zm.jsxs)("div",{className:"space-y-6",children:[(0,zm.jsxs)("div",{className:"flex justify-between items-center",children:[(0,zm.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Email Broadcasts"}),(0,zm.jsxs)("button",{onClick:()=>f(!0),className:"bg-green-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-green-700 transition-colors duration-200 flex items-center space-x-2",children:[(0,zm.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,zm.jsx)("span",{children:"Send Email Broadcast"})]})]}),(0,zm.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:(0,zm.jsx)("div",{className:"overflow-x-auto",children:(0,zm.jsxs)("table",{className:"w-full",children:[(0,zm.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,zm.jsxs)("tr",{children:[(0,zm.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Subject"}),(0,zm.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Type"}),(0,zm.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Target"}),(0,zm.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Status"}),(0,zm.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Sent At"}),(0,zm.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Open Rate"})]})}),(0,zm.jsx)("tbody",{className:"divide-y divide-gray-200",children:m.map(e=>(0,zm.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,zm.jsx)("td",{className:"px-6 py-4",children:(0,zm.jsx)("p",{className:"font-semibold text-gray-900",children:e.subject})}),(0,zm.jsx)("td",{className:"px-6 py-4",children:(0,zm.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("OFFER"===e.template_type?"bg-orange-100 text-orange-800":"UPDATE"===e.template_type?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:e.template_type})}),(0,zm.jsx)("td",{className:"px-6 py-4",children:(0,zm.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("ALL"===e.target_type?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:"ALL"===e.target_type?"All Users":"Specific Users"})}),(0,zm.jsx)("td",{className:"px-6 py-4",children:(0,zm.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("SENT"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})}),(0,zm.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(e.sent_at).toLocaleString()}),(0,zm.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-600",children:[e.open_rate||0,"%"]})]},e.id))})]})})})]});case"support":return(0,zm.jsxs)("div",{className:"space-y-6",children:[(0,zm.jsx)("div",{className:"flex justify-between items-center",children:(0,zm.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Support Tickets"})}),(0,zm.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:(0,zm.jsx)("div",{className:"overflow-x-auto",children:(0,zm.jsxs)("table",{className:"w-full",children:[(0,zm.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,zm.jsxs)("tr",{children:[(0,zm.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Ticket ID"}),(0,zm.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"User"}),(0,zm.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Subject"}),(0,zm.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Status"}),(0,zm.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Priority"}),(0,zm.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Created"}),(0,zm.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Actions"})]})}),(0,zm.jsx)("tbody",{className:"divide-y divide-gray-200",children:y.map(e=>(0,zm.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,zm.jsx)("td",{className:"px-6 py-4",children:(0,zm.jsxs)("p",{className:"font-mono text-sm font-semibold text-gray-900",children:["#",e.ticket_id]})}),(0,zm.jsx)("td",{className:"px-6 py-4",children:(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"font-semibold text-gray-900",children:e.user_name}),(0,zm.jsx)("p",{className:"text-sm text-gray-500",children:e.user_email})]})}),(0,zm.jsxs)("td",{className:"px-6 py-4",children:[(0,zm.jsx)("p",{className:"font-semibold text-gray-900",children:e.subject}),(0,zm.jsx)("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:e.message})]}),(0,zm.jsx)("td",{className:"px-6 py-4",children:(0,zm.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("RESOLVED"===e.status?"bg-green-100 text-green-800":"IN_PROGRESS"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status})}),(0,zm.jsx)("td",{className:"px-6 py-4",children:(0,zm.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("HIGH"===e.priority?"bg-red-100 text-red-800":"MEDIUM"===e.priority?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.priority})}),(0,zm.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(e.created_at).toLocaleString()}),(0,zm.jsx)("td",{className:"px-6 py-4",children:(0,zm.jsx)("button",{onClick:()=>{w(e),_(!0)},className:"bg-blue-600 text-white px-3 py-1 rounded-lg text-sm font-semibold hover:bg-blue-700 transition-colors duration-200",children:"Reply"})})]},e.ticket_id))})]})})})]})}})()})]}),c&&(0,zm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,zm.jsxs)("div",{className:"bg-white rounded-2xl p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,zm.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send Push Notification"}),(0,zm.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await ai(u);e.ok?(d(!1),p({title:"",message:"",target_type:"ALL",target_users:"",scheduled_time:"",priority:"NORMAL"}),I()):i(e.message||"Failed to send push notification")}catch(t){i("Network error. Please try again.")}},className:"space-y-6",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Title"}),(0,zm.jsx)("input",{type:"text",value:u.title,onChange:e=>p(Be(Be({},u),{},{title:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",required:!0})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Message"}),(0,zm.jsx)("textarea",{value:u.message,onChange:e=>p(Be(Be({},u),{},{message:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",rows:3,required:!0})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Target"}),(0,zm.jsxs)("select",{value:u.target_type,onChange:e=>p(Be(Be({},u),{},{target_type:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",children:[(0,zm.jsx)("option",{value:"ALL",children:"All Users"}),(0,zm.jsx)("option",{value:"SPECIFIC",children:"Specific Users"})]})]}),"SPECIFIC"===u.target_type&&(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"User IDs (comma-separated)"}),(0,zm.jsx)("input",{type:"text",value:u.target_users,onChange:e=>p(Be(Be({},u),{},{target_users:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",placeholder:"1,2,3,4"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Priority"}),(0,zm.jsxs)("select",{value:u.priority,onChange:e=>p(Be(Be({},u),{},{priority:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",children:[(0,zm.jsx)("option",{value:"LOW",children:"Low"}),(0,zm.jsx)("option",{value:"NORMAL",children:"Normal"}),(0,zm.jsx)("option",{value:"HIGH",children:"High"})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Schedule (optional)"}),(0,zm.jsx)("input",{type:"datetime-local",value:u.scheduled_time,onChange:e=>p(Be(Be({},u),{},{scheduled_time:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900"})]}),(0,zm.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,zm.jsx)("button",{type:"button",onClick:()=>d(!1),className:"px-6 py-3 border border-gray-300 rounded-xl font-semibold text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),(0,zm.jsx)("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors duration-200",children:"Send Notification"})]})]})]})}),x&&(0,zm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,zm.jsxs)("div",{className:"bg-white rounded-2xl p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,zm.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send Email Broadcast"}),(0,zm.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await oi(g);e.ok?(f(!1),b({subject:"",template_type:"OFFER",target_type:"ALL",target_users:"",scheduled_time:"",content:""}),L()):i(e.message||"Failed to send email broadcast")}catch(t){i("Network error. Please try again.")}},className:"space-y-6",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Subject"}),(0,zm.jsx)("input",{type:"text",value:g.subject,onChange:e=>b(Be(Be({},g),{},{subject:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-600 focus:border-transparent text-gray-900",required:!0})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Template Type"}),(0,zm.jsxs)("select",{value:g.template_type,onChange:e=>b(Be(Be({},g),{},{template_type:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-600 focus:border-transparent text-gray-900",children:[(0,zm.jsx)("option",{value:"OFFER",children:"Special Offer"}),(0,zm.jsx)("option",{value:"UPDATE",children:"Platform Update"}),(0,zm.jsx)("option",{value:"POLICY",children:"Policy Change"}),(0,zm.jsx)("option",{value:"GENERAL",children:"General Communication"})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Target"}),(0,zm.jsxs)("select",{value:g.target_type,onChange:e=>b(Be(Be({},g),{},{target_type:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-600 focus:border-transparent text-gray-900",children:[(0,zm.jsx)("option",{value:"ALL",children:"All Users"}),(0,zm.jsx)("option",{value:"SPECIFIC",children:"Specific Users"})]})]}),"SPECIFIC"===g.target_type&&(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"User IDs (comma-separated)"}),(0,zm.jsx)("input",{type:"text",value:g.target_users,onChange:e=>b(Be(Be({},g),{},{target_users:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-600 focus:border-transparent text-gray-900",placeholder:"1,2,3,4"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Content"}),(0,zm.jsx)("textarea",{value:g.content,onChange:e=>b(Be(Be({},g),{},{content:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-600 focus:border-transparent text-gray-900",rows:6,required:!0})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Schedule (optional)"}),(0,zm.jsx)("input",{type:"datetime-local",value:g.scheduled_time,onChange:e=>b(Be(Be({},g),{},{scheduled_time:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-600 focus:border-transparent text-gray-900"})]}),(0,zm.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,zm.jsx)("button",{type:"button",onClick:()=>f(!1),className:"px-6 py-3 border border-gray-300 rounded-xl font-semibold text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),(0,zm.jsx)("button",{type:"submit",className:"px-6 py-3 bg-green-600 text-white rounded-xl font-semibold hover:bg-green-700 transition-colors duration-200",children:"Send Email"})]})]})]})}),N&&j&&(0,zm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,zm.jsxs)("div",{className:"bg-white rounded-2xl p-8 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,zm.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:["Support Ticket #",j.ticket_id]}),(0,zm.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:[(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-sm font-semibold text-gray-600",children:"User"}),(0,zm.jsxs)("p",{className:"text-gray-900",children:[j.user_name," (",j.user_email,")"]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-sm font-semibold text-gray-600",children:"Status"}),(0,zm.jsx)("p",{className:"text-gray-900",children:j.status})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-sm font-semibold text-gray-600",children:"Priority"}),(0,zm.jsx)("p",{className:"text-gray-900",children:j.priority})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-sm font-semibold text-gray-600",children:"Created"}),(0,zm.jsx)("p",{className:"text-gray-900",children:new Date(j.created_at).toLocaleString()})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Subject"}),(0,zm.jsx)("p",{className:"text-gray-900 mb-4",children:j.subject}),(0,zm.jsx)("p",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Message"}),(0,zm.jsx)("p",{className:"text-gray-900",children:j.message})]})]}),(0,zm.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await ci(j.ticket_id,{reply_message:k,status:C});e.ok?(_(!1),S(""),w(null),F()):i(e.message||"Failed to reply to ticket")}catch(t){i("Network error. Please try again.")}},className:"space-y-6",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),(0,zm.jsxs)("select",{value:C,onChange:e=>E(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",children:[(0,zm.jsx)("option",{value:"OPEN",children:"Open"}),(0,zm.jsx)("option",{value:"IN_PROGRESS",children:"In Progress"}),(0,zm.jsx)("option",{value:"RESOLVED",children:"Resolved"})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Reply Message"}),(0,zm.jsx)("textarea",{value:k,onChange:e=>S(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",rows:6,required:!0})]}),(0,zm.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,zm.jsx)("button",{type:"button",onClick:()=>_(!1),className:"px-6 py-3 border border-gray-300 rounded-xl font-semibold text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),(0,zm.jsx)("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors duration-200",children:"Send Reply"})]})]})]})})]})})},tf=()=>{const[e,t]=(0,a.useState)("pages"),[s,r]=(0,a.useState)(!1),[n,i]=(0,a.useState)([]),[o,l]=(0,a.useState)([]),c=(0,a.useMemo)(()=>(o||[]).filter(e=>"PUBLISHED"===e.status),[o]),[d,u]=(0,a.useState)(!1),[p,m]=(0,a.useState)(null),[h,x]=(0,a.useState)({slug:"",title:"",content:"",meta_title:"",meta_description:"",status:"DRAFT",is_featured:!1,sort_order:0}),[f,g]=(0,a.useState)([]),[b,y]=(0,a.useState)(!1),[v,j]=(0,a.useState)(null),[w,N]=(0,a.useState)({question:"",answer:"",category:"GENERAL",status:"DRAFT",is_featured:!1,sort_order:0,static_page_slug:""}),[_,k]=(0,a.useState)([]),[S,C]=(0,a.useState)(!1),[E,P]=(0,a.useState)(null),[A,T]=(0,a.useState)({title:"",description:"",image_url:"",link_page_slug:"",button_text:"",banner_type:"HERO",status:"DRAFT",is_featured:!1,sort_order:0,static_page_slug:""}),[I,L]=(0,a.useState)(null),[F,R]=(0,a.useState)(null),[D,O]=(0,a.useState)(!1),[M,U]=(0,a.useState)([]),[z,B]=(0,a.useState)(!1),[V,H]=(0,a.useState)(null),[W,q]=(0,a.useState)({section_key:"",title:"",subtitle:"",description:"",content:"",section_type:"CUSTOM",status:"DRAFT",is_featured:!1,sort_order:0});(0,a.useEffect)(()=>{G()},[e]);const G=async()=>{r(!0);try{switch(e){case"pages":await K();break;case"faqs":await $();break;case"banners":await Y()}}catch(xf){console.error("Failed to load data:",xf)}finally{r(!1)}},K=async()=>{try{const e=await ui();if(e.ok){const t=e.pages||[];i(t),l(t)}}catch(xf){console.error("Failed to fetch static pages:",xf)}},$=async()=>{try{const e=await xi();e.ok&&g(e.faqs||[])}catch(xf){console.error("Failed to fetch FAQs:",xf)}},Y=async()=>{try{const e=await yi();e.ok&&k(e.banners||[])}catch(xf){console.error("Failed to fetch banners:",xf)}},J=async()=>{try{const e=await Ni();e.ok&&U(e.sections||[])}catch(xf){console.error("Failed to fetch featured sections:",xf)}},Q=e=>{switch(e){case"PUBLISHED":case"ACTIVE":return"bg-green-100 text-green-800";case"DRAFT":return"bg-yellow-100 text-yellow-800";case"INACTIVE":case"ARCHIVED":return"bg-gray-100 text-gray-800";default:return"bg-blue-100 text-blue-800"}};return(0,zm.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,zm.jsxs)("div",{className:"mb-8",children:[(0,zm.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Content Management System"}),(0,zm.jsx)("p",{className:"text-gray-600",children:"Manage static pages, FAQs, banners, and featured sections for your app."})]}),(0,zm.jsx)("div",{className:"mb-8",children:(0,zm.jsx)("div",{className:"border-b border-gray-200",children:(0,zm.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"pages",name:"Static Pages",icon:"\ud83d\udcc4"},{id:"faqs",name:"FAQs",icon:"\u2753"},{id:"banners",name:"Banners",icon:"\ud83c\udfaf"}].map(s=>(0,zm.jsxs)("button",{onClick:()=>t(s.id),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat(e===s.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,zm.jsx)("span",{className:"mr-2",children:s.icon}),s.name]},s.id))})})}),"pages"===e&&(0,zm.jsxs)("div",{children:[(0,zm.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,zm.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Static Pages"}),(0,zm.jsx)("button",{onClick:()=>{m(null),x({slug:"",title:"",content:"",meta_title:"",meta_description:"",status:"DRAFT",is_featured:!1,sort_order:0}),u(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add New Page"})]}),(0,zm.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:(0,zm.jsx)("div",{className:"overflow-x-auto",children:(0,zm.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,zm.jsx)("thead",{className:"bg-gray-50",children:(0,zm.jsxs)("tr",{children:[(0,zm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Page"}),(0,zm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,zm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Featured"}),(0,zm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Updated"}),(0,zm.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,zm.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s?(0,zm.jsx)("tr",{children:(0,zm.jsx)("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"Loading pages..."})}):0===n.length?(0,zm.jsx)("tr",{children:(0,zm.jsx)("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"No pages found. Create your first page to get started."})}):n.map(e=>(0,zm.jsxs)("tr",{children:[(0,zm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,zm.jsxs)("div",{children:[(0,zm.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,zm.jsxs)("div",{className:"text-sm text-gray-500",children:["/",e.slug]})]})}),(0,zm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,zm.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(Q(e.status)),children:e.status})}),(0,zm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.is_featured?(0,zm.jsx)("span",{className:"text-yellow-500",children:"\u2b50"}):(0,zm.jsx)("span",{className:"text-gray-300",children:"\u2606"})}),(0,zm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.updated_at).toLocaleDateString()}),(0,zm.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,zm.jsx)("button",{onClick:()=>(e=>{m(e),x(e),u(!0)})(e),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),(0,zm.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this page?"))try{await hi(e),await K()}catch(xf){console.error("Failed to delete page:",xf)}})(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})})})]}),"faqs"===e&&(0,zm.jsxs)("div",{children:[(0,zm.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,zm.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Frequently Asked Questions"}),(0,zm.jsx)("button",{onClick:()=>{j(null),N({question:"",answer:"",category:"GENERAL",status:"DRAFT",is_featured:!1,sort_order:0,static_page_slug:""}),y(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add New FAQ"})]}),(0,zm.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:(0,zm.jsx)("div",{className:"overflow-x-auto",children:(0,zm.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,zm.jsx)("thead",{className:"bg-gray-50",children:(0,zm.jsxs)("tr",{children:[(0,zm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Question"}),(0,zm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,zm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Linked Page"}),(0,zm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,zm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Views"}),(0,zm.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,zm.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s?(0,zm.jsx)("tr",{children:(0,zm.jsx)("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"Loading FAQs..."})}):0===f.length?(0,zm.jsx)("tr",{children:(0,zm.jsx)("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"No FAQs found. Create your first FAQ to get started."})}):f.map(e=>(0,zm.jsxs)("tr",{children:[(0,zm.jsx)("td",{className:"px-6 py-4",children:(0,zm.jsxs)("div",{children:[(0,zm.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.question}),e.is_featured&&(0,zm.jsx)("span",{className:"text-yellow-500",children:"\u2b50"})]})}),(0,zm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,zm.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:e.category})}),(0,zm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.static_page_title?(0,zm.jsxs)("div",{children:[(0,zm.jsx)("div",{className:"font-medium text-gray-900",children:e.static_page_title}),(0,zm.jsxs)("div",{className:"text-xs text-gray-500",children:["/",e.static_page_slug]})]}):(0,zm.jsx)("span",{className:"text-gray-400",children:"\u2014"})}),(0,zm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,zm.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(Q(e.status)),children:e.status})}),(0,zm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.view_count||0}),(0,zm.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,zm.jsx)("button",{onClick:()=>(e=>{j(e),N(e),y(!0)})(e),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),(0,zm.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this FAQ?"))try{await bi(e),await $()}catch(xf){console.error("Failed to delete FAQ:",xf)}})(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})})})]}),"banners"===e&&(0,zm.jsxs)("div",{children:[(0,zm.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,zm.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Banners & Promotions"}),(0,zm.jsx)("button",{onClick:()=>{P(null),T({title:"",description:"",image_url:"",link_page_slug:"",button_text:"",banner_type:"HERO",status:"DRAFT",is_featured:!1,sort_order:0,static_page_slug:""}),L(null),R(null),C(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add New Banner"})]}),(0,zm.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:(0,zm.jsx)("div",{className:"overflow-x-auto",children:(0,zm.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,zm.jsx)("thead",{className:"bg-gray-50",children:(0,zm.jsxs)("tr",{children:[(0,zm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Banner"}),(0,zm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,zm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),(0,zm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,zm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Linked Page"}),(0,zm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Clicks"}),(0,zm.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,zm.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s?(0,zm.jsx)("tr",{children:(0,zm.jsx)("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"Loading banners..."})}):0===_.length?(0,zm.jsx)("tr",{children:(0,zm.jsx)("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"No banners found. Create your first banner to get started."})}):_.map(e=>(0,zm.jsxs)("tr",{children:[(0,zm.jsx)("td",{className:"px-6 py-4",children:(0,zm.jsxs)("div",{className:"flex items-center",children:[e.image_url&&(0,zm.jsx)("img",{src:e.image_url,alt:e.title,className:"h-12 w-12 rounded-lg object-cover mr-3"}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,zm.jsx)("div",{className:"text-sm text-gray-500",children:e.description}),e.is_featured&&(0,zm.jsx)("span",{className:"text-yellow-500",children:"\u2b50"})]})]})}),(0,zm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,zm.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800",children:e.banner_type})}),(0,zm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,zm.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:e.position})}),(0,zm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,zm.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(Q(e.status)),children:e.status})}),(0,zm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.static_page_slug?(0,zm.jsxs)("div",{children:[(0,zm.jsx)("div",{className:"font-medium text-gray-900",children:"home"===e.static_page_slug?"Homepage":e.static_page_title||e.static_page_slug}),(0,zm.jsx)("div",{className:"text-xs text-gray-500",children:"home"===e.static_page_slug?"home":"/".concat(e.static_page_slug)})]}):(0,zm.jsx)("span",{className:"text-gray-400",children:"\u2014"})}),(0,zm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.click_count||0}),(0,zm.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,zm.jsx)("button",{onClick:()=>(e=>{P(e);const t=e.link_url?"/home"===e.link_url?"home":e.link_url.replace("/pages/",""):"";T(Be(Be({},e),{},{static_page_slug:e.static_page_slug||"",link_page_slug:t})),R(e.image_url||null),L(null),C(!0)})(e),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),(0,zm.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this banner?"))try{await wi(e),await Y()}catch(xf){console.error("Failed to delete banner:",xf)}})(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})})})]}),d&&(0,zm.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,zm.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white",children:(0,zm.jsxs)("div",{className:"mt-3",children:[(0,zm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:p?"Edit Page":"Create New Page"}),(0,zm.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),r(!0);try{p?await mi(p.id,h):await pi(h),u(!1),m(null),x({slug:"",title:"",content:"",meta_title:"",meta_description:"",status:"DRAFT",is_featured:!1,sort_order:0}),await K()}catch(xf){console.error("Failed to save page:",xf)}finally{r(!1)}},className:"space-y-4",children:[(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug"}),(0,zm.jsx)("input",{type:"text",value:h.slug,onChange:e=>x(Be(Be({},h),{},{slug:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",required:!0})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,zm.jsx)("input",{type:"text",value:h.title,onChange:e=>x(Be(Be({},h),{},{title:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",required:!0})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),(0,zm.jsx)("textarea",{value:h.content,onChange:e=>x(Be(Be({},h),{},{content:e.target.value})),rows:8,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",required:!0})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meta Title"}),(0,zm.jsx)("input",{type:"text",value:h.meta_title,onChange:e=>x(Be(Be({},h),{},{meta_title:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,zm.jsxs)("select",{value:h.status,onChange:e=>x(Be(Be({},h),{},{status:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",children:[(0,zm.jsx)("option",{value:"DRAFT",children:"Draft"}),(0,zm.jsx)("option",{value:"PUBLISHED",children:"Published"}),(0,zm.jsx)("option",{value:"ARCHIVED",children:"Archived"})]})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meta Description"}),(0,zm.jsx)("textarea",{value:h.meta_description,onChange:e=>x(Be(Be({},h),{},{meta_description:e.target.value})),rows:2,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900"})]}),(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{className:"flex items-center",children:[(0,zm.jsx)("input",{type:"checkbox",checked:h.is_featured,onChange:e=>x(Be(Be({},h),{},{is_featured:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,zm.jsx)("label",{className:"ml-2 block text-sm text-gray-900",children:"Featured"})]}),(0,zm.jsxs)("div",{className:"flex space-x-3",children:[(0,zm.jsx)("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),(0,zm.jsx)("button",{type:"submit",disabled:s,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:s?"Saving...":p?"Update Page":"Create Page"})]})]})]})]})})}),b&&(0,zm.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,zm.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white",children:(0,zm.jsxs)("div",{className:"mt-3",children:[(0,zm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:v?"Edit FAQ":"Create New FAQ"}),(0,zm.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),r(!0);try{const e=Be(Be({},w),{},{static_page_slug:w.static_page_slug||null});v?await gi(v.id,e):await fi(e),y(!1),j(null),N({question:"",answer:"",category:"GENERAL",status:"DRAFT",is_featured:!1,sort_order:0,static_page_slug:""}),await $()}catch(xf){console.error("Failed to save FAQ:",xf)}finally{r(!1)}},className:"space-y-4",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question"}),(0,zm.jsx)("input",{type:"text",value:w.question,onChange:e=>N(Be(Be({},w),{},{question:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",required:!0})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Answer"}),(0,zm.jsx)("textarea",{value:w.answer,onChange:e=>N(Be(Be({},w),{},{answer:e.target.value})),rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",required:!0})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,zm.jsxs)("select",{value:w.category,onChange:e=>N(Be(Be({},w),{},{category:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",children:[(0,zm.jsx)("option",{value:"GENERAL",children:"General"}),(0,zm.jsx)("option",{value:"ACCOUNT",children:"Account"}),(0,zm.jsx)("option",{value:"PAYMENT",children:"Payment"}),(0,zm.jsx)("option",{value:"TECHNICAL",children:"Technical"}),(0,zm.jsx)("option",{value:"BILLING",children:"Billing"})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,zm.jsxs)("select",{value:w.status,onChange:e=>N(Be(Be({},w),{},{status:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",children:[(0,zm.jsx)("option",{value:"DRAFT",children:"Draft"}),(0,zm.jsx)("option",{value:"PUBLISHED",children:"Published"}),(0,zm.jsx)("option",{value:"ARCHIVED",children:"Archived"})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Order"}),(0,zm.jsx)("input",{type:"number",value:w.sort_order,onChange:e=>N(Be(Be({},w),{},{sort_order:parseInt(e.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900"})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Attach to Static Page"}),(0,zm.jsxs)("select",{value:w.static_page_slug||"",onChange:e=>N(Be(Be({},w),{},{static_page_slug:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",children:[(0,zm.jsx)("option",{value:"",children:"\u2014 Not linked \u2014"}),c.map(e=>(0,zm.jsxs)("option",{value:e.slug,children:[e.title," (",e.slug,")"]},e.slug))]}),(0,zm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Linked FAQs appear as an accordion at the bottom of the selected static page."})]}),(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{className:"flex items-center",children:[(0,zm.jsx)("input",{type:"checkbox",checked:w.is_featured,onChange:e=>N(Be(Be({},w),{},{is_featured:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,zm.jsx)("label",{className:"ml-2 block text-sm text-gray-900",children:"Featured"})]}),(0,zm.jsxs)("div",{className:"flex space-x-3",children:[(0,zm.jsx)("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),(0,zm.jsx)("button",{type:"submit",disabled:s,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:s?"Saving...":v?"Update FAQ":"Create FAQ"})]})]})]})]})})}),S&&(0,zm.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,zm.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white",children:(0,zm.jsxs)("div",{className:"mt-3",children:[(0,zm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:E?"Edit Banner":"Create New Banner"}),(0,zm.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),r(!0);try{const e=Be(Be({},A),{},{static_page_slug:A.static_page_slug||null,link_page_slug:A.link_page_slug||null});E?await ji(E.id,e):await vi(e),C(!1),P(null),T({title:"",description:"",image_url:"",link_page_slug:"",button_text:"",banner_type:"HERO",status:"DRAFT",is_featured:!1,sort_order:0,static_page_slug:""}),L(null),R(null),await Y(),It.success(E?"Banner updated successfully":"Banner created successfully")}catch(xf){console.error("Failed to save banner:",xf),It.error("Failed to save banner")}finally{r(!1)}},className:"space-y-4",children:[(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,zm.jsx)("input",{type:"text",value:A.title,onChange:e=>T(Be(Be({},A),{},{title:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",required:!0})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banner Type"}),(0,zm.jsxs)("select",{value:A.banner_type,onChange:e=>T(Be(Be({},A),{},{banner_type:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",children:[(0,zm.jsx)("option",{value:"HERO",children:"Hero"}),(0,zm.jsx)("option",{value:"PROMOTION",children:"Promotion"}),(0,zm.jsx)("option",{value:"ANNOUNCEMENT",children:"Announcement"}),(0,zm.jsx)("option",{value:"FEATURE",children:"Feature"})]})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,zm.jsx)("textarea",{value:A.description,onChange:e=>T(Be(Be({},A),{},{description:e.target.value})),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banner Image"}),F||A.image_url?(0,zm.jsxs)("div",{className:"relative",children:[(0,zm.jsx)("img",{src:F||A.image_url,alt:"Banner preview",className:"w-full h-48 object-cover rounded-xl border border-gray-300"}),(0,zm.jsx)("button",{type:"button",onClick:()=>{L(null),R(null),T(Be(Be({},A),{},{image_url:""}))},className:"absolute top-2 right-2 px-3 py-1 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700",children:"Remove"})]}):(0,zm.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center",children:[(0,zm.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.type.startsWith("image/"))if(t.size>10485760)It.error("Image size should be less than 10MB");else{L(t),R(URL.createObjectURL(t));try{O(!0);const e=await Hn(t);null!==e&&void 0!==e&&e.ok&&null!==e&&void 0!==e&&e.image_url?(T(Be(Be({},A),{},{image_url:e.image_url})),It.success("Image uploaded successfully")):(It.error((null===e||void 0===e?void 0:e.message)||"Failed to upload image"),L(null),R(null))}catch(xf){console.error("Image upload error:",xf),It.error("Failed to upload image"),L(null),R(null)}finally{O(!1)}}else It.error("Please select an image file")},disabled:D,className:"hidden",id:"banner-image-upload"}),(0,zm.jsx)("label",{htmlFor:"banner-image-upload",className:"cursor-pointer inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:D?"Uploading...":"Upload Image"}),(0,zm.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"PNG, JPG up to 10MB"})]})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link to Page"}),(0,zm.jsxs)("select",{value:A.link_page_slug||"",onChange:e=>T(Be(Be({},A),{},{link_page_slug:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",children:[(0,zm.jsx)("option",{value:"",children:"\u2014 No link \u2014"}),(0,zm.jsx)("option",{value:"home",children:"Homepage"}),c.map(e=>(0,zm.jsxs)("option",{value:e.slug,children:[e.title," (",e.slug,")"]},e.slug))]}),(0,zm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Select a page to link the banner button to."})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Button Text"}),(0,zm.jsx)("input",{type:"text",value:A.button_text,onChange:e=>T(Be(Be({},A),{},{button_text:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",placeholder:"e.g., Learn More, Shop Now"})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display on Page"}),(0,zm.jsxs)("select",{value:A.static_page_slug||"",onChange:e=>T(Be(Be({},A),{},{static_page_slug:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",children:[(0,zm.jsx)("option",{value:"",children:"\u2014 Not linked \u2014"}),(0,zm.jsx)("option",{value:"home",children:"Homepage"}),c.map(e=>(0,zm.jsxs)("option",{value:e.slug,children:[e.title," (",e.slug,")"]},e.slug))]}),(0,zm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'Where this banner should appear. Use "Homepage" to feature it on the home feed.'})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,zm.jsxs)("select",{value:A.status,onChange:e=>T(Be(Be({},A),{},{status:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",children:[(0,zm.jsx)("option",{value:"DRAFT",children:"Draft"}),(0,zm.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,zm.jsx)("option",{value:"INACTIVE",children:"Inactive"}),(0,zm.jsx)("option",{value:"ARCHIVED",children:"Archived"})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Order"}),(0,zm.jsx)("input",{type:"number",value:A.sort_order,onChange:e=>T(Be(Be({},A),{},{sort_order:parseInt(e.target.value)||0})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900"})]})]}),(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{className:"flex items-center",children:[(0,zm.jsx)("input",{type:"checkbox",checked:A.is_featured,onChange:e=>T(Be(Be({},A),{},{is_featured:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,zm.jsx)("label",{className:"ml-2 block text-sm text-gray-900",children:"Featured"})]}),(0,zm.jsxs)("div",{className:"flex space-x-3",children:[(0,zm.jsx)("button",{type:"button",onClick:()=>C(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),(0,zm.jsx)("button",{type:"submit",disabled:s,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:s?"Saving...":E?"Update Banner":"Create Banner"})]})]})]})]})})}),z&&(0,zm.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,zm.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white",children:(0,zm.jsxs)("div",{className:"mt-3",children:[(0,zm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:V?"Edit Section":"Create New Section"}),(0,zm.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),r(!0);try{V?await ki(V.id,W):await _i(W),B(!1),H(null),q({section_key:"",title:"",subtitle:"",description:"",content:"",section_type:"CUSTOM",status:"DRAFT",is_featured:!1,sort_order:0}),await J()}catch(xf){console.error("Failed to save section:",xf)}finally{r(!1)}},className:"space-y-4",children:[(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section Key"}),(0,zm.jsx)("input",{type:"text",value:W.section_key,onChange:e=>q(Be(Be({},W),{},{section_key:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",required:!0})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,zm.jsx)("input",{type:"text",value:W.title,onChange:e=>q(Be(Be({},W),{},{title:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",required:!0})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subtitle"}),(0,zm.jsx)("input",{type:"text",value:W.subtitle,onChange:e=>q(Be(Be({},W),{},{subtitle:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,zm.jsx)("textarea",{value:W.description,onChange:e=>q(Be(Be({},W),{},{description:e.target.value})),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content (JSON)"}),(0,zm.jsx)("textarea",{value:W.content,onChange:e=>q(Be(Be({},W),{},{content:e.target.value})),rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900 font-mono text-sm",placeholder:'{"key": "value", "items": []}'})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section Type"}),(0,zm.jsxs)("select",{value:W.section_type,onChange:e=>q(Be(Be({},W),{},{section_type:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",children:[(0,zm.jsx)("option",{value:"HERO",children:"Hero"}),(0,zm.jsx)("option",{value:"CATEGORY",children:"Category"}),(0,zm.jsx)("option",{value:"PROMOTION",children:"Promotion"}),(0,zm.jsx)("option",{value:"TESTIMONIAL",children:"Testimonial"}),(0,zm.jsx)("option",{value:"FEATURE",children:"Feature"}),(0,zm.jsx)("option",{value:"CUSTOM",children:"Custom"})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,zm.jsxs)("select",{value:W.status,onChange:e=>q(Be(Be({},W),{},{status:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",children:[(0,zm.jsx)("option",{value:"DRAFT",children:"Draft"}),(0,zm.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,zm.jsx)("option",{value:"INACTIVE",children:"Inactive"})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Order"}),(0,zm.jsx)("input",{type:"number",value:W.sort_order,onChange:e=>q(Be(Be({},W),{},{sort_order:parseInt(e.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900"})]})]}),(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{className:"flex items-center",children:[(0,zm.jsx)("input",{type:"checkbox",checked:W.is_featured,onChange:e=>q(Be(Be({},W),{},{is_featured:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,zm.jsx)("label",{className:"ml-2 block text-sm text-gray-900",children:"Featured"})]}),(0,zm.jsxs)("div",{className:"flex space-x-3",children:[(0,zm.jsx)("button",{type:"button",onClick:()=>B(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),(0,zm.jsx)("button",{type:"submit",disabled:s,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:s?"Saving...":V?"Update Section":"Create Section"})]})]})]})]})})})]})},sf=e=>{let{userType:t="influencer",onSuccess:s}=e;const[r,n]=(0,a.useState)({product_name:"",description:"",price:"",video_url:"",thumbnail_url:"",category_id:"",video_category:"USER_CONTENT",business_name:"",business_address:"",gst:"",handle_address:""}),[i,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)([]);a.useEffect(()=>{d()},[]);const d=async()=>{try{const e=await ua.getCategories();e.ok&&c(e.data||[])}catch(xf){console.error("Failed to load categories:",xf)}},u=e=>{const{name:t,value:s}=e.target;n(e=>Be(Be({},e),{},{[t]:s}))};return(0,zm.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,zm.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,zm.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-8 py-6",children:[(0,zm.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"brand"===t?"Brand Video Upload Request":"Influencer Video Upload Request"}),(0,zm.jsx)("p",{className:"text-blue-100",children:"Submit your video for review and approval by our admin team"})]}),(0,zm.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=["product_name","description","price","video_url","category_id"];for(const s of t)if(!r[s])return void It.error("".concat(s.replace("_"," ")," is required"));try{o(!0);const e=await ua.submitVideoUploadRequest(r);e.ok?(It.success("Video upload request submitted successfully!"),n({product_name:"",description:"",price:"",video_url:"",thumbnail_url:"",category_id:"",video_category:"USER_CONTENT",business_name:"",business_address:"",gst:"",handle_address:""}),s&&s()):It.error(e.message||"Failed to submit video upload request")}catch(xf){It.error("Network error. Please try again.")}finally{o(!1)}},className:"p-8 space-y-6",children:[(0,zm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video Title *"}),(0,zm.jsx)("input",{type:"text",name:"product_name",value:r.product_name,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter video title",required:!0})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price *"}),(0,zm.jsx)("input",{type:"number",name:"price",value:r.price,onChange:u,min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter price",required:!0})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video Description *"}),(0,zm.jsx)("textarea",{name:"description",value:r.description,onChange:u,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe your video content",required:!0})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video URL *"}),(0,zm.jsx)("input",{type:"url",name:"video_url",value:r.video_url,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/video.mp4",required:!0})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thumbnail URL"}),(0,zm.jsx)("input",{type:"url",name:"thumbnail_url",value:r.thumbnail_url,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/thumbnail.jpg"})]})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),(0,zm.jsxs)("select",{name:"category_id",value:r.category_id,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,zm.jsx)("option",{value:"",children:"Select a category"}),l.map(e=>(0,zm.jsx)("option",{value:e.category_id,children:e.category_name},e.category_id))]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video Type"}),(0,zm.jsxs)("select",{name:"video_category",value:r.video_category,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,zm.jsx)("option",{value:"USER_CONTENT",children:"User Content"}),(0,zm.jsx)("option",{value:"PROMOTION",children:"Promotion"}),(0,zm.jsx)("option",{value:"BRAND_ADS",children:"Brand Ads"}),(0,zm.jsx)("option",{value:"PLATFORM_PROMO",children:"Platform Promo"})]})]})]}),"brand"===t&&(0,zm.jsxs)("div",{className:"border-t pt-6",children:[(0,zm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Business Information"}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name"}),(0,zm.jsx)("input",{type:"text",name:"business_name",value:r.business_name,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your business name"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST Number"}),(0,zm.jsx)("input",{type:"text",name:"gst",value:r.gst,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"GST number"})]})]}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Address"}),(0,zm.jsx)("textarea",{name:"business_address",value:r.business_address,onChange:u,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Business address"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Handle Address"}),(0,zm.jsx)("input",{type:"text",name:"handle_address",value:r.handle_address,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Social media handle"})]})]})]}),(0,zm.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:(0,zm.jsxs)("div",{className:"flex items-start",children:[(0,zm.jsx)("svg",{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h4",{className:"text-sm font-medium text-blue-900",children:"Review Process"}),(0,zm.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:"Your video upload request will be reviewed by our admin team. You will receive a notification once it's approved or if any changes are needed."})]})]})}),(0,zm.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[(0,zm.jsx)("button",{type:"button",onClick:()=>window.history.back(),className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),(0,zm.jsx)("button",{type:"submit",disabled:i,className:"bg-blue-600 text-white px-8 py-3 rounded-xl hover:bg-blue-700 transition-colors font-semibold disabled:opacity-50 flex items-center space-x-2",children:i?(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,zm.jsx)("span",{children:"Submitting..."})]}):(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),(0,zm.jsx)("span",{children:"Submit Request"})]})})]})]})]})})},rf=()=>(0,zm.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,zm.jsx)("div",{className:"container mx-auto py-8 pb-32 sm:pb-24",children:(0,zm.jsx)(sf,{userType:"influencer",onSuccess:()=>{console.log("Influencer video request submitted successfully")}})})}),nf=()=>(0,zm.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,zm.jsx)("div",{className:"container mx-auto py-8 pb-32 sm:pb-24",children:(0,zm.jsx)(sf,{userType:"brand",onSuccess:()=>{console.log("Brand video request submitted successfully")}})})}),af=()=>{const[e,t]=(0,a.useState)({submission_type:"POST",platform:"INSTAGRAM",content_url:"",content_description:"",screenshot_url:"",engagement_metrics:{likes:"",comments:"",shares:"",reach:""}}),[s,r]=(0,a.useState)(!1),n=e=>{const{name:s,value:r}=e.target;t(e=>Be(Be({},e),{},{[s]:r}))},i=e=>{const{name:s,value:r}=e.target;t(e=>Be(Be({},e),{},{engagement_metrics:Be(Be({},e.engagement_metrics),{},{[s]:r})}))};return(0,zm.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,zm.jsx)("div",{className:"max-w-4xl mx-auto p-6 pb-32 sm:pb-24",children:(0,zm.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,zm.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 px-8 py-6",children:[(0,zm.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"Submit Promotion for Review"}),(0,zm.jsx)("p",{className:"text-purple-100",children:"Submit your GetNayi platform promotion for admin review and potential concessions"})]}),(0,zm.jsxs)("form",{onSubmit:async s=>{s.preventDefault();const n=["content_url","content_description"];for(const t of n)if(!e[t])return void It.error("".concat(t.replace("_"," ")," is required"));try{r(!0);const s=await ua.submitPromotion(e);s.ok?(It.success("Promotion submission sent successfully!"),t({submission_type:"POST",platform:"INSTAGRAM",content_url:"",content_description:"",screenshot_url:"",engagement_metrics:{likes:"",comments:"",shares:"",reach:""}})):It.error(s.message||"Failed to submit promotion")}catch(xf){It.error("Network error. Please try again.")}finally{r(!1)}},className:"p-8 space-y-6",children:[(0,zm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content Type *"}),(0,zm.jsxs)("select",{name:"submission_type",value:e.submission_type,onChange:n,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[(0,zm.jsx)("option",{value:"POST",children:"Post"}),(0,zm.jsx)("option",{value:"VIDEO",children:"Video"}),(0,zm.jsx)("option",{value:"STORY",children:"Story"}),(0,zm.jsx)("option",{value:"REEL",children:"Reel"})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Platform *"}),(0,zm.jsxs)("select",{name:"platform",value:e.platform,onChange:n,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[(0,zm.jsx)("option",{value:"INSTAGRAM",children:"Instagram"}),(0,zm.jsx)("option",{value:"FACEBOOK",children:"Facebook"}),(0,zm.jsx)("option",{value:"TWITTER",children:"Twitter"}),(0,zm.jsx)("option",{value:"TIKTOK",children:"TikTok"}),(0,zm.jsx)("option",{value:"YOUTUBE",children:"YouTube"}),(0,zm.jsx)("option",{value:"LINKEDIN",children:"LinkedIn"}),(0,zm.jsx)("option",{value:"OTHER",children:"Other"})]})]})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content URL *"}),(0,zm.jsx)("input",{type:"url",name:"content_url",value:e.content_url,onChange:n,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"https://instagram.com/p/your-post",required:!0})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content Description *"}),(0,zm.jsx)("textarea",{name:"content_description",value:e.content_description,onChange:n,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Describe your promotion content and how it mentions GetNayi platform...",required:!0})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Screenshot URL (Optional)"}),(0,zm.jsx)("input",{type:"url",name:"screenshot_url",value:e.screenshot_url,onChange:n,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"https://example.com/screenshot.jpg"})]}),(0,zm.jsxs)("div",{className:"border-t pt-6",children:[(0,zm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Engagement Metrics (Optional)"}),(0,zm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Likes"}),(0,zm.jsx)("input",{type:"number",name:"likes",value:e.engagement_metrics.likes,onChange:i,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"0"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comments"}),(0,zm.jsx)("input",{type:"number",name:"comments",value:e.engagement_metrics.comments,onChange:i,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"0"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shares"}),(0,zm.jsx)("input",{type:"number",name:"shares",value:e.engagement_metrics.shares,onChange:i,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"0"})]}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reach"}),(0,zm.jsx)("input",{type:"number",name:"reach",value:e.engagement_metrics.reach,onChange:i,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"0"})]})]})]}),(0,zm.jsx)("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4",children:(0,zm.jsxs)("div",{className:"flex items-start",children:[(0,zm.jsx)("svg",{className:"w-5 h-5 text-purple-600 mt-0.5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("h4",{className:"text-sm font-medium text-purple-900",children:"Review Process"}),(0,zm.jsx)("p",{className:"text-sm text-purple-700 mt-1",children:"Your promotion submission will be reviewed by our admin team. If approved, you may receive concessions on your next billing cycle. Please ensure your content genuinely promotes the GetNayi platform."})]})]})}),(0,zm.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[(0,zm.jsx)("button",{type:"button",onClick:()=>window.history.back(),className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),(0,zm.jsx)("button",{type:"submit",disabled:s,className:"bg-purple-600 text-white px-8 py-3 rounded-xl hover:bg-purple-700 transition-colors font-semibold disabled:opacity-50 flex items-center space-x-2",children:s?(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,zm.jsx)("span",{children:"Submitting..."})]}):(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),(0,zm.jsx)("span",{children:"Submit for Review"})]})})]})]})]})})})},of=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if("number"===typeof e)return e;if("string"===typeof e&&""!==e.trim()){const s=Number(e);return Number.isNaN(s)?t:s}return t},lf=e=>{const t=of(e);return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},cf=e=>{const t=(e=>{if(null===e||void 0===e||!e.features)return{};try{return"string"===typeof e.features?JSON.parse(e.features):e.features}catch(t){return console.warn("Failed to parse plan features",t),{}}})(e),s=[];return t.videos_per_month&&s.push("".concat(t.videos_per_month,"+ AI-powered video listings each month")),t.storage_gb&&s.push("".concat(t.storage_gb,"GB hosted storage for your media")),t.support&&s.push("".concat(String(t.support).charAt(0).toUpperCase()).concat(String(t.support).slice(1)," support channel")),t.team_members&&s.push("Seat access for ".concat(t.team_members," team member").concat(t.team_members>1?"s":"")),s},df=e=>{if(null===e||void 0===e||!e.duration_days)return"Flexible duration";if(365===e.duration_days||"YEARLY"===e.plan_type)return"Yearly";if(e.duration_days%30===0||"MONTHLY"===e.plan_type){const t=e.duration_days/30;return t<=1?"Monthly":"".concat(t," months")}return"".concat(e.duration_days," days")},uf=()=>{var e,t;const s=te(),r=Z(),[n,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(null),[m,h]=(0,a.useState)(!1),[x,f]=(0,a.useState)(""),[g,b]=(0,a.useState)(!1),[y,v]=(0,a.useState)({applied:!1,discountAmount:0,finalPrice:null,message:"",coupon:null,planId:null}),[j,w]=(0,a.useState)(!1);(0,a.useEffect)(()=>{N(),_()},[]);const N=async()=>{try{l(!0);const t=await na();var e;if(t.ok)i((null===(e=t.data)||void 0===e?void 0:e.plans)||[]);else i([])}catch(xf){console.error("Failed to fetch subscription plans:",xf),It.error("Unable to load subscription plans right now")}finally{l(!1)}},_=async()=>{try{const e=await ra();d((null===e||void 0===e?void 0:e.subscription)||e||null)}catch(xf){console.error("Failed to fetch subscription status:",xf)}},k=(0,a.useMemo)(()=>{if(null===c||void 0===c||!c.is_subscribed)return"Free Creator Plan";return(null===c||void 0===c?void 0:c.plan_name)||"Premium Plan"},[c]),S=()=>{f(""),v({applied:!1,discountAmount:0,finalPrice:null,message:"",coupon:null,planId:null})},C=(0,a.useMemo)(()=>{if(null===u||void 0===u||!u.duration_days)return null;const e=u.duration_days,t=new Date;return t.setDate(t.getDate()+e),t.toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"})},[u]),E=(0,a.useMemo)(()=>u?cf(u):[],[u]);return(0,zm.jsxs)("div",{className:"min-h-screen bg-[#F8F7FD] text-gray-900",children:[(0,zm.jsx)("header",{className:"sticky top-0 z-20 bg-white border-b border-gray-100",children:(0,zm.jsxs)("div",{className:"max-w-xl mx-auto flex items-center gap-3 px-4 py-3",children:[(0,zm.jsx)("button",{onClick:()=>s(-1),className:"p-2 rounded-full border border-gray-200 text-gray-700 hover:bg-gray-50 transition","aria-label":"Go back",children:(0,zm.jsx)(jh,{className:"w-5 h-5"})}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-[11px] uppercase tracking-[0.3em] text-gray-400",style:{fontFamily:"Inter, Poppins, sans-serif"},children:"Subscription"}),(0,zm.jsx)("h1",{className:"text-lg font-semibold text-gray-900",style:{fontFamily:"Gilroy, Poppins, sans-serif"},children:"Upgrade plan"})]}),(0,zm.jsxs)("div",{className:"ml-auto flex items-center gap-2 text-xs text-gray-500",style:{fontFamily:"Inter, Poppins, sans-serif"},children:[(0,zm.jsx)(ox,{className:"w-4 h-4 text-[#6C4DFF]"}),"Secure"]})]})}),(0,zm.jsxs)("main",{className:"max-w-xl mx-auto px-4 py-5 pb-28 space-y-6",children:[(0,zm.jsx)("section",{className:"rounded-2xl bg-gradient-to-r from-[#F7ECFF] to-[#E4E4FF] border border-white shadow-sm p-4",children:(0,zm.jsxs)("div",{className:"flex items-start gap-3",children:[(0,zm.jsx)("div",{className:"p-2 rounded-xl bg-white shadow-sm",children:(0,zm.jsx)(sh,{className:"w-5 h-5 text-[#6C4DFF]"})}),(0,zm.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,zm.jsx)("p",{className:"text-xs uppercase tracking-wide text-gray-500",style:{fontFamily:"Inter, Poppins, sans-serif"},children:"Current plan"}),(0,zm.jsx)("h2",{className:"text-xl font-semibold text-gray-900",style:{fontFamily:"Gilroy, Poppins, sans-serif"},children:k}),(0,zm.jsx)("p",{className:"text-sm text-gray-600 leading-5",style:{fontFamily:"Inter, Poppins, sans-serif"},children:"Unlock more uploads, insights, and placement boosts by choosing a plan that fits your cadence."}),(0,zm.jsxs)("div",{className:"flex items-center gap-2 text-sm text-emerald-600 font-medium pt-1",style:{fontFamily:"Inter, Poppins, sans-serif"},children:[(0,zm.jsx)(Bh,{className:"w-4 h-4"}),null!==c&&void 0!==c&&c.is_subscribed?"Premium active":"Free plan active"]}),(null===c||void 0===c?void 0:c.expires_at)&&(0,zm.jsxs)("p",{className:"text-xs text-gray-500",style:{fontFamily:"Inter, Poppins, sans-serif"},children:["Renews on"," ",(0,zm.jsx)("span",{className:"font-medium text-gray-700",children:new Date(c.expires_at).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"})})]})]})]})}),(0,zm.jsxs)("section",{className:"space-y-3",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-[11px] uppercase tracking-wide text-gray-400",style:{fontFamily:"Inter, Poppins, sans-serif"},children:"Plans for every creator"}),(0,zm.jsx)("h3",{className:"text-lg font-semibold text-gray-900",style:{fontFamily:"Gilroy, Poppins, sans-serif"},children:"Pick your growth pace"})]}),(null===(e=r.state)||void 0===e?void 0:e.from)&&(0,zm.jsxs)("span",{className:"text-xs text-gray-500",style:{fontFamily:"Inter, Poppins, sans-serif"},children:["From ",r.state.from.replace("-"," ")]})]}),o?(0,zm.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,zm.jsx)("div",{className:"h-28 rounded-2xl bg-white shadow-sm animate-pulse border border-gray-100"},e))}):(0,zm.jsxs)("div",{className:"space-y-3",children:[n.map(e=>{var t;const s=cf(e).slice(0,2);return(0,zm.jsxs)("button",{onClick:()=>(e=>{p(e),S(),h(!0)})(e),className:"w-full text-left rounded-2xl bg-white border border-gray-100 shadow-sm px-4 py-4 active:scale-[0.99] transition",children:[(0,zm.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,zm.jsxs)("div",{className:"flex-1",children:[(0,zm.jsx)("p",{className:"text-[11px] uppercase tracking-wide text-gray-400",style:{fontFamily:"Inter, Poppins, sans-serif"},children:"influencer"===(null===(t=e.plan_type)||void 0===t?void 0:t.toLowerCase())?"Influencer":df(e)}),(0,zm.jsx)("h4",{className:"text-lg font-semibold text-gray-900",style:{fontFamily:"Gilroy, Poppins, sans-serif"},children:e.plan_name}),e.plan_description&&(0,zm.jsx)("p",{className:"text-xs text-gray-500 mt-1 leading-4",style:{fontFamily:"Inter, Poppins, sans-serif"},children:e.plan_description})]}),(0,zm.jsx)(yx,{className:"w-5 h-5 text-[#FFC361]"})]}),(0,zm.jsxs)("p",{className:"text-2xl font-semibold text-gray-900 mt-3",style:{fontFamily:"Gilroy, Poppins, sans-serif"},children:[lf(e.price),(0,zm.jsxs)("span",{className:"text-sm font-normal text-gray-500 ml-1",style:{fontFamily:"Inter, Poppins, sans-serif"},children:["/ ",df(e).toLowerCase()]})]}),s.length>0&&(0,zm.jsx)("ul",{className:"mt-3 space-y-1.5",children:s.map(e=>(0,zm.jsxs)("li",{className:"flex items-center gap-2 text-sm text-gray-600",style:{fontFamily:"Inter, Poppins, sans-serif"},children:[(0,zm.jsx)(Nh,{className:"w-4 h-4 text-emerald-500"}),e]},e))}),(0,zm.jsxs)("div",{className:"flex items-center justify-between mt-3 text-xs text-[#6C4DFF]",style:{fontFamily:"Inter, Poppins, sans-serif"},children:[(0,zm.jsx)("span",{children:"Tap to view details"}),(0,zm.jsx)(mh,{className:"w-4 h-4"})]})]},e.plan_id)}),0===n.length&&(0,zm.jsx)("div",{className:"rounded-2xl bg-white border border-dashed border-gray-200 p-6 text-center text-sm text-gray-500",style:{fontFamily:"Inter, Poppins, sans-serif"},children:"No active plans available right now."})]})]})]}),m&&u&&(0,zm.jsxs)(zm.Fragment,{children:[(0,zm.jsx)("div",{className:"fixed inset-0 bg-black/60 z-40",onClick:()=>h(!1)}),(0,zm.jsx)("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center px-4 pt-10 pb-8",children:(0,zm.jsxs)("div",{className:"w-full max-w-md rounded-3xl bg-white shadow-2xl border border-gray-100 px-5 pt-4 pb-10 space-y-4 max-h-[85vh] overflow-y-auto scrollbar-hide translate-y-[-16px] safe-bottom",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-[11px] uppercase tracking-wide text-gray-400",style:{fontFamily:"Inter, Poppins, sans-serif"},children:"Plan detail"}),(0,zm.jsx)("h4",{className:"text-xl font-semibold text-gray-900",style:{fontFamily:"Gilroy, Poppins, sans-serif"},children:u.plan_name}),u.plan_description&&(0,zm.jsx)("p",{className:"text-xs text-gray-500 mt-1 leading-4",style:{fontFamily:"Inter, Poppins, sans-serif"},children:u.plan_description}),(0,zm.jsxs)("div",{className:"flex flex-wrap gap-2 text-[11px] uppercase tracking-wide text-gray-400 mt-2",style:{fontFamily:"Inter, Poppins, sans-serif"},children:[(0,zm.jsx)("span",{className:"px-2 py-1 rounded-full bg-gray-100 text-gray-600",children:u.plan_type||"Custom"}),(0,zm.jsxs)("span",{className:"px-2 py-1 rounded-full bg-gray-100 text-gray-600",children:[u.duration_days," days"]})]})]}),(0,zm.jsx)("button",{onClick:()=>h(!1),className:"p-2 rounded-full border border-gray-200 text-gray-600","aria-label":"Close",children:(0,zm.jsx)(uh,{className:"w-4 h-4"})})]}),(0,zm.jsxs)("div",{className:"space-y-2 border border-gray-100 rounded-2xl p-4",children:[(0,zm.jsx)("p",{className:"text-xs uppercase text-gray-400",style:{fontFamily:"Inter, Poppins, sans-serif"},children:"Price"}),(0,zm.jsx)("p",{className:"text-2xl font-semibold text-gray-900",style:{fontFamily:"Gilroy, Poppins, sans-serif"},children:lf((e=>{var t;if(!e)return 0;const s=of(e.price);return y.applied&&y.planId===e.plan_id?of(null!==(t=y.finalPrice)&&void 0!==t?t:s):s})(u))}),(0,zm.jsxs)("p",{className:"text-xs text-gray-500",style:{fontFamily:"Inter, Poppins, sans-serif"},children:["Billed ","yearly"===(null===(t=u.plan_type)||void 0===t?void 0:t.toLowerCase())?"yearly":"every ".concat(df(u).toLowerCase())]}),y.applied&&y.planId===u.plan_id&&(0,zm.jsxs)("div",{className:"space-y-1",children:[(0,zm.jsx)("p",{className:"text-xs text-emerald-600",style:{fontFamily:"Inter, Poppins, sans-serif"},children:y.message||"You save ".concat(lf(y.discountAmount||0))}),(0,zm.jsxs)("p",{className:"text-xs text-gray-500",style:{fontFamily:"Inter, Poppins, sans-serif"},children:["Saved ",lf(y.discountAmount||0)," on this plan"]})]})]}),(0,zm.jsxs)("div",{className:"space-y-2 border border-gray-100 rounded-2xl p-4",children:[(0,zm.jsxs)("div",{className:"flex items-center gap-3",children:[(0,zm.jsx)(Ph,{className:"w-4 h-4 text-gray-500"}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-xs uppercase text-gray-400",style:{fontFamily:"Inter, Poppins, sans-serif"},children:"Deactivation date"}),(0,zm.jsx)("p",{className:"text-sm font-medium text-gray-800",style:{fontFamily:"Inter, Poppins, sans-serif"},children:C||"Calculated automatically"})]})]}),(0,zm.jsx)("p",{className:"text-xs text-gray-500",style:{fontFamily:"Inter, Poppins, sans-serif"},children:"Renewals are handled instantly with support ready to help within 7 days."})]}),E.length>0&&(0,zm.jsxs)("div",{className:"border border-gray-100 rounded-2xl p-4 space-y-3 bg-gray-50/60",children:[(0,zm.jsx)("p",{className:"text-xs uppercase tracking-wide text-gray-400",style:{fontFamily:"Inter, Poppins, sans-serif"},children:"Benefits"}),(0,zm.jsx)("div",{className:"grid gap-2",children:E.map(e=>(0,zm.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700",style:{fontFamily:"Inter, Poppins, sans-serif"},children:[(0,zm.jsx)(Nh,{className:"w-4 h-4 text-emerald-500"}),(0,zm.jsx)("span",{className:"flex-1 leading-tight",children:e})]},e))})]}),(0,zm.jsxs)("div",{className:"space-y-3 border border-gray-100 rounded-2xl p-4",children:[(0,zm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zm.jsx)("p",{className:"text-sm font-medium text-gray-900",style:{fontFamily:"Gilroy, Poppins, sans-serif"},children:"Apply coupon"}),y.applied&&(0,zm.jsx)("button",{onClick:S,className:"text-xs text-[#6C4DFF]",type:"button",style:{fontFamily:"Inter, Poppins, sans-serif"},children:"Remove"})]}),(0,zm.jsxs)("div",{className:"flex gap-2",children:[(0,zm.jsx)("input",{type:"text",value:x,onChange:e=>f(e.target.value),placeholder:"Creator code",className:"flex-1 rounded-xl border border-gray-200 px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-[#6C4DFF]",style:{fontFamily:"Inter, Poppins, sans-serif"}}),(0,zm.jsx)("button",{type:"button",onClick:async()=>{if(!u)return void It.error("Select a plan to apply coupon");const e=x.trim().toUpperCase();if(e){b(!0);try{const t=await aa({coupon_code:e,plan_id:u.plan_id,plan_price:of(u.price)});f(e),v({applied:!0,discountAmount:t.discount_amount,finalPrice:t.final_price,message:t.message||"".concat(e," applied"),coupon:t.coupon,planId:u.plan_id}),It.success(t.message||"Coupon applied successfully")}catch(xf){var t,s;const r=(null===(t=xf.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"Coupon code is not valid";v({applied:!1,discountAmount:0,finalPrice:null,message:r,coupon:null,planId:null}),It.error(r)}finally{b(!1)}}else v(e=>Be(Be({},e),{},{applied:!1,message:"Enter a coupon code to apply discounts"}))},disabled:g,className:"px-4 py-2.5 rounded-xl bg-[#6C4DFF] text-white text-sm font-semibold disabled:opacity-50 disabled:cursor-not-allowed",style:{fontFamily:"Gilroy, Poppins, sans-serif"},children:g?"Checking\u2026":"Apply"})]}),y.message&&(0,zm.jsx)("p",{className:"text-xs ".concat(y.applied?"text-emerald-600":"text-red-500"),style:{fontFamily:"Inter, Poppins, sans-serif"},children:y.message})]}),(0,zm.jsx)("div",{className:"pt-2 pb-3",children:(0,zm.jsx)("button",{onClick:async()=>{if(u)try{w(!0);const e=await new Promise(e=>{if(window.Razorpay)return void e(window.Razorpay);const t=document.createElement("script");t.src="https://checkout.razorpay.com/v1/checkout.js",t.onload=()=>e(window.Razorpay),t.onerror=()=>{console.error("Failed to load Razorpay script"),e(null)},document.body.appendChild(t)});if(!e)return It.error("Payment gateway failed to load. Please refresh and try again."),void w(!1);const t={plan_id:u.plan_id,coupon_code:y.applied&&y.planId===u.plan_id?x:null},r=await ia(t);if(!r.ok)throw new Error(r.message||"Failed to create payment order");const{order_id:n,amount:a,currency:i,key_id:o,transaction_id:l,plan:c}=r.data,d=localStorage.getItem("userEmail")||"",p=localStorage.getItem("userName")||"User",m=new e({key:o,amount:a,currency:i,name:"GetNayi",description:"Subscription: ".concat(c.plan_name),order_id:n,handler:async function(e){try{w(!0);const t=await oa({razorpay_order_id:e.razorpay_order_id,razorpay_payment_id:e.razorpay_payment_id,razorpay_signature:e.razorpay_signature,transaction_id:l});if(!t.ok)throw new Error(t.message||"Payment verification failed");It.success("Payment successful! Subscription activated."),h(!1),_(),s("/settings",{replace:!0})}catch(xf){var t,r;console.error("Payment verification error:",xf),It.error((null===(t=xf.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||xf.message||"Payment verification failed. Please contact support.")}finally{w(!1)}},prefill:{name:p,email:d},theme:{color:"#6C4DFF"},modal:{ondismiss:function(){w(!1),It.info("Payment cancelled")}}});m.on("payment.failed",function(e){console.error("Payment failed:",e),It.error(e.error.description||"Payment failed. Please try again."),w(!1)}),m.open()}catch(xf){var e,t;console.error("Subscription error:",xf);const r=(null===(e=xf.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||xf.message||"Failed to process payment";It.error(r),w(!1)}},disabled:j,className:"w-full rounded-2xl bg-[#6C4DFF] text-white py-3 text-base font-semibold disabled:opacity-50",style:{fontFamily:"Gilroy, Poppins, sans-serif"},children:j?"Processing\u2026":"Upgrade now"})})]})})]})]})},pf=()=>{const{slug:e}=se(),t=te(),[s,r]=(0,a.useState)(null),[n,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)([]),[u,p]=(0,a.useState)([]),[m,h]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{if(!e)return l("Missing page identifier"),void i(!1);try{i(!0);const n=await Ci(e);var t,s;if(null!==n&&void 0!==n&&n.ok)r(n.page),p((null===(t=n.page)||void 0===t?void 0:t.faqs)||[]),d((null===(s=n.page)||void 0===s?void 0:s.banners)||[]),l("");else l((null===n||void 0===n?void 0:n.message)||"Page not found")}catch(o){var n,a;console.error("Static page load error:",o),l((null===o||void 0===o||null===(n=o.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Page not found")}finally{i(!1)}})()},[e]),(0,a.useEffect)(()=>{if(null!==s&&void 0!==s&&s.title)return document.title="".concat(s.title," - GetNayi"),()=>{document.title="GetNayi"}},[s]);const x=(0,a.useMemo)(()=>Array.isArray(c)&&c.length>0,[c]),f=(0,a.useMemo)(()=>Array.isArray(u)&&u.length>0,[u]),g=(0,a.useMemo)(()=>{if(null===s||void 0===s||!s.updated_at)return null;try{return new Date(s.updated_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(e){return null}},[s]);return(0,zm.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,zm.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,zm.jsxs)("button",{onClick:()=>t(-1),className:"inline-flex items-center gap-2 text-sm font-semibold text-gray-600 hover:text-gray-900 mb-6",children:[(0,zm.jsx)(jh,{className:"w-4 h-4"}),"Back"]}),n&&!x?(0,zm.jsx)("div",{className:"space-y-4 mb-6",children:(0,zm.jsx)("div",{className:"h-44 bg-gray-200 animate-pulse rounded-3xl"})}):x?(0,zm.jsx)("div",{className:"space-y-4 mb-6",children:c.map(e=>(0,zm.jsx)("div",{className:"relative overflow-hidden rounded-3xl border border-gray-200 shadow-sm bg-gradient-to-r from-indigo-50 via-white to-white",children:(0,zm.jsxs)("div",{className:"flex flex-col lg:flex-row items-start lg:items-center",children:[(0,zm.jsxs)("div",{className:"p-6 lg:p-8 flex-1",children:[(0,zm.jsx)("p",{className:"text-xs font-semibold uppercase tracking-widest text-indigo-500",children:e.banner_type||"Banner"}),(0,zm.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mt-2",children:e.title}),e.description&&(0,zm.jsx)("p",{className:"text-sm text-gray-600 mt-3 max-w-2xl",children:e.description}),e.button_text&&e.link_url&&(0,zm.jsx)("a",{href:e.link_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 mt-4 rounded-full bg-gray-900 text-white text-sm font-semibold shadow hover:bg-gray-800",children:e.button_text})]}),e.image_url&&(0,zm.jsx)("div",{className:"w-full lg:w-80 h-48 lg:h-full relative",children:(0,zm.jsx)("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover lg:rounded-l-none rounded-b-3xl lg:rounded-r-3xl",loading:"lazy"})})]})},e.id))}):null,n?(0,zm.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl p-8 shadow-sm animate-pulse space-y-4",children:[(0,zm.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/2"}),(0,zm.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,zm.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3"}),(0,zm.jsx)("div",{className:"h-4 bg-gray-200 rounded w-full"}),(0,zm.jsx)("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]}):o?(0,zm.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6 flex items-start gap-3 text-red-700",children:[(0,zm.jsx)(Hh,{className:"w-5 h-5 mt-0.5"}),(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"font-semibold",children:"Unable to load this page."}),(0,zm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:o})]})]}):s?(0,zm.jsxs)("article",{className:"bg-white border border-gray-200 rounded-2xl p-6 sm:p-10 shadow-sm",children:[(0,zm.jsxs)("header",{className:"mb-8",children:[(0,zm.jsx)("p",{className:"text-xs font-semibold uppercase tracking-widest text-gray-500",children:"Static Page"}),(0,zm.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mt-2",children:s.title}),g&&(0,zm.jsxs)("p",{className:"text-sm text-gray-500 mt-3",children:["Last updated ",g]})]}),(0,zm.jsx)("section",{className:"prose prose-lg max-w-none text-gray-800",dangerouslySetInnerHTML:{__html:s.content||""}})]}):null,f?(0,zm.jsxs)("section",{className:"mt-10 bg-white border border-gray-200 rounded-2xl p-6 sm:p-8 shadow-sm",children:[(0,zm.jsxs)("div",{className:"mb-6",children:[(0,zm.jsx)("p",{className:"text-xs font-semibold uppercase tracking-widest text-gray-500",children:"FAQs"}),(0,zm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-1",children:"Need more clarity?"}),(0,zm.jsx)("p",{className:"text-sm text-gray-500",children:"Answers curated specifically for this page."})]}),(0,zm.jsx)("div",{className:"divide-y divide-gray-200",children:u.map(e=>{const t=m===e.id;return(0,zm.jsxs)("div",{className:"py-4",children:[(0,zm.jsxs)("button",{type:"button",onClick:()=>{return t=e.id,void h(e=>e===t?null:t);var t},className:"w-full flex items-center justify-between text-left",children:[(0,zm.jsxs)("div",{children:[(0,zm.jsx)("p",{className:"text-base font-semibold text-gray-900",children:e.question}),e.category&&(0,zm.jsx)("span",{className:"inline-flex px-2 py-0.5 mt-1 text-xs font-medium rounded-full bg-indigo-50 text-indigo-700",children:e.category})]}),(0,zm.jsx)(cx,{className:"w-5 h-5 text-gray-500 transition-transform ".concat(t?"transform rotate-180":"")})]}),t&&(0,zm.jsx)("div",{className:"mt-3 text-gray-700 text-sm leading-relaxed",children:(0,zm.jsx)("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:e.answer||""}})})]},e.id)})})]}):null]})})};function mf(){const e=Z(),t="/watch"===e.pathname||e.pathname.startsWith("/subscription/upgrade");return(0,zm.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,zm.jsx)("div",{className:"flex-1",children:(0,zm.jsxs)(ve,{children:[(0,zm.jsx)(be,{path:"/home",element:(0,zm.jsx)(Wm,{children:(0,zm.jsx)(gh,{})})}),(0,zm.jsx)(be,{path:"/watch",element:(0,zm.jsx)(Wm,{children:(0,zm.jsx)(Ch,{})})}),(0,zm.jsx)(be,{path:"/search",element:(0,zm.jsx)(Wm,{children:(0,zm.jsx)(Ih,{})})}),(0,zm.jsx)(be,{path:"/category",element:(0,zm.jsx)(Wm,{children:(0,zm.jsx)(Dh,{})})}),(0,zm.jsx)(be,{path:"/provider/register",element:(0,zm.jsx)(Wm,{children:(0,zm.jsx)(Xh,{})})}),(0,zm.jsx)(be,{path:"/provider-request-waiting",element:(0,zm.jsx)(Wm,{children:(0,zm.jsx)(rx,{})})}),(0,zm.jsx)(be,{path:"/subscription/upgrade",element:(0,zm.jsx)(Wm,{children:(0,zm.jsx)(uf,{})})}),(0,zm.jsx)(be,{path:"/listing",element:(0,zm.jsx)(Wm,{children:(0,zm.jsx)(zh,{})})}),(0,zm.jsx)(be,{path:"/listing/upload",element:(0,zm.jsx)(Wm,{children:(0,zm.jsx)($h,{})})}),(0,zm.jsx)(be,{path:"/listing/my",element:(0,zm.jsx)(Wm,{children:(0,zm.jsx)(Jh,{})})}),(0,zm.jsx)(be,{path:"/wishlist",element:(0,zm.jsx)(Wm,{children:(0,zm.jsx)(ax,{})})}),(0,zm.jsx)(be,{path:"/profile",element:(0,zm.jsx)(Wm,{children:(0,zm.jsx)(xx,{})})}),(0,zm.jsx)(be,{path:"/profile/:username",element:(0,zm.jsx)(xx,{})}),(0,zm.jsx)(be,{path:"/profile/edit",element:(0,zm.jsx)(Wm,{children:(0,zm.jsx)(bx,{})})}),(0,zm.jsx)(be,{path:"/settings",element:(0,zm.jsx)(Wm,{children:(0,zm.jsx)(_x,{})})}),(0,zm.jsx)(be,{path:"/profile/analytics",element:(0,zm.jsx)(Wm,{children:(0,zm.jsx)(Sx,{})})}),(0,zm.jsx)(be,{path:"/followers",element:(0,zm.jsx)(Wm,{children:(0,zm.jsx)(Cx,{})})}),(0,zm.jsx)(be,{path:"/following",element:(0,zm.jsx)(Wm,{children:(0,zm.jsx)(Ex,{})})}),(0,zm.jsx)(be,{path:"/influencer/video-request",element:(0,zm.jsx)(Wm,{children:(0,zm.jsx)(rf,{})})}),(0,zm.jsx)(be,{path:"/brand/video-request",element:(0,zm.jsx)(Wm,{children:(0,zm.jsx)(nf,{})})}),(0,zm.jsx)(be,{path:"/promotion-submission",element:(0,zm.jsx)(Wm,{children:(0,zm.jsx)(af,{})})}),(0,zm.jsx)(be,{path:"*",element:(0,zm.jsx)(ge,{to:"/",replace:!0})})]})}),!t&&(0,zm.jsx)(Km,{})]})}const hf=function(){return(0,zm.jsx)(Pe,{children:(0,zm.jsx)(Hm,{children:(0,zm.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,zm.jsx)(ts,{position:"top-center",toastOptions:{duration:3e3,style:{background:"#ffffff",color:"#111827",borderRadius:"12px",padding:"16px 20px",border:"1px solid #E5E7EB",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",fontSize:"14px",fontFamily:"Poppins, sans-serif"},success:{iconTheme:{primary:"#6C4DFF",secondary:"#ffffff"},style:{background:"#ffffff",color:"#111827",borderRadius:"12px",padding:"16px 20px",border:"1px solid #E5E7EB",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",fontSize:"14px",fontFamily:"Poppins, sans-serif"}},error:{iconTheme:{primary:"#EF4444",secondary:"#ffffff"},style:{background:"#ffffff",color:"#111827",borderRadius:"12px",padding:"16px 20px",border:"1px solid #FEE2E2",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",fontSize:"14px",fontFamily:"Poppins, sans-serif"}}}}),(0,zm.jsx)(qm,{children:(0,zm.jsxs)(ve,{children:[(0,zm.jsx)(be,{path:"/",element:(0,zm.jsx)($m,{})}),(0,zm.jsx)(be,{path:"/login",element:(0,zm.jsx)(Ym,{})}),(0,zm.jsx)(be,{path:"/signup",element:(0,zm.jsx)(Jm,{})}),(0,zm.jsx)(be,{path:"/pages/:slug",element:(0,zm.jsx)(pf,{})}),(0,zm.jsx)(be,{path:"/admin/*",element:(0,zm.jsx)(Wm,{adminOnly:!0,children:(0,zm.jsx)(Gm,{children:(0,zm.jsxs)(ve,{children:[(0,zm.jsx)(be,{path:"/dashboard",element:(0,zm.jsx)(Px,{})}),(0,zm.jsx)(be,{path:"/reports",element:(0,zm.jsx)(Ax,{})}),(0,zm.jsx)(be,{path:"/settings",element:(0,zm.jsx)(Wx,{})}),(0,zm.jsx)(be,{path:"/users",element:(0,zm.jsx)(qx,{})}),(0,zm.jsx)(be,{path:"/influencers",element:(0,zm.jsx)(Gx,{})}),(0,zm.jsx)(be,{path:"/brands",element:(0,zm.jsx)(Kx,{})}),(0,zm.jsx)(be,{path:"/listings",element:(0,zm.jsx)($x,{})}),(0,zm.jsx)(be,{path:"/videos",element:(0,zm.jsx)(Jx,{})}),(0,zm.jsx)(be,{path:"/subscriptions",element:(0,zm.jsx)(Qx,{})}),(0,zm.jsx)(be,{path:"/promotions",element:(0,zm.jsx)(Xx,{})}),(0,zm.jsx)(be,{path:"/payments",element:(0,zm.jsx)(Zx,{})}),(0,zm.jsx)(be,{path:"/notifications",element:(0,zm.jsx)(ef,{})}),(0,zm.jsx)(be,{path:"/cms",element:(0,zm.jsx)(tf,{})}),(0,zm.jsx)(be,{path:"/",element:(0,zm.jsx)(ge,{to:"/admin/dashboard",replace:!0})}),(0,zm.jsx)(be,{path:"*",element:(0,zm.jsx)(ge,{to:"/admin/dashboard",replace:!0})})]})})})}),(0,zm.jsx)(be,{path:"/*",element:(0,zm.jsx)(mf,{})})]})})]})})})};o.createRoot(document.getElementById("root")).render((0,zm.jsx)(a.StrictMode,{children:(0,zm.jsx)(hf,{})}))})();
//# sourceMappingURL=main.3bf85e7a.js.map